!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===("undefined"==typeof e?"undefined":N(e))}function a(e){return"number"==typeof e.length}function n(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function s(e,t,a){for(var n in t)a&&(H.isPlainObject(t[n])||H.isArray(t[n]))?((H.isPlainObject(t[n])&&!H.isPlainObject(e[n])||H.isArray(t[n])&&!H.isArray(e[n]))&&(e[n]={}),s(e[n],t[n],a)):void 0!==t[n]&&(e[n]=t[n])}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function r(e,t){return"number"!=typeof t||Y[i(e)]?t:t+"px"}function l(){z++,setTimeout(function(){z--},500)}function o(e,t,a){var n=e.originalEvent||e,s=(a?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][s]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][s]:e[s]}function c(e,t,a,n,s,i){function r(e){f||(n&&e.preventDefault(),f=this,h=o(e,"X"),m=o(e,"Y"),p=!1,b=new Date)}function c(e){f&&!p&&(Math.abs(o(e,"X")-h)>s||Math.abs(o(e,"Y")-m)>s)&&(p=!0)}function u(t){f&&((i&&new Date-b<100||!p)&&(t.preventDefault(),a.call(f,t,e)),f=!1,l())}function d(){f=!1}var h,m,f,p,b,v=A.$,g=v(t);s=s||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",d).on("touchmove.mbsc",c).on("touchend.mbsc",u),g.on("click.mbsc",function(t){t.preventDefault(),a.call(this,t,e)})}function u(e){if(z&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function d(e){var t;for(t in e)if(void 0!==G[e[t]])return!0;return!1}function h(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(d([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function m(e,t){var a=document.createElement("script"),n="mbscjsonp"+ ++ie;window[n]=function(e){a.parentNode.removeChild(a),delete window[n],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(a)}function f(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function p(e,t,a){"jsonp"==a?m(e,t):f(e,t)}function b(e,t,a,n,s,i,r){var l=new Date(e,t,a,n||0,s||0,i||0,r||0);return 23==l.getHours()&&0===(n||0)&&l.setHours(l.getHours()+2),l}function v(e,t){var a={},n=e.parent(),s=n.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");n.hasClass(vt)?n=n.parent():te('<span class="'+vt+'"></span>').insertAfter(e).append(e),s&&n.find("."+vt).append(s),r&&(r.indexOf("{")!==-1?a=JSON.parse(r):a[i]=r),(r||t)&&(se(a,t),n.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+vt).append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function g(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){te('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function y(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return te.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function x(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function w(e){var t,a,n,s=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=a=n=r;else{var l=r,o=(255-i)*r/255,c=(l-o)*(s%60)/60;360==s&&(s=0),s<60?(t=l,n=o,a=o+c):s<120?(a=l,n=o,t=l-c):s<180?(a=l,t=o,n=o+c):s<240?(n=l,t=o,a=l-c):s<300?(n=l,a=o,t=o+c):s<360?(t=l,a=o,n=l-c):t=a=n=0}return{r:t,g:a,b:n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function _(e){var t,a,n=0,s=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-s;return a=i,t=i?255*r/i:0,n=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,n*=60,n<0&&(n+=360),t*=100/255,a*=100/255,{h:n,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function C(e){var t,a,n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),l=Math.min(n,s,i),o=(r+l)/2;if(r==l)t=a=0;else{var c=r-l;switch(a=o>.5?c/(2-r-l):c/(r+l),r){case n:t=(s-i)/c+(s<i?6:0);break;case s:t=(i-n)/c+2;break;case i:t=(n-s)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function T(e){var t,a,n,s,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,a=r,n=0):l<2?(t=r,a=i,n=0):l<3?(t=0,a=i,n=r):l<4?(t=0,a=r,n=i):l<5?(t=r,a=0,n=i):(t=i,a=0,n=r),s=c-i/2,{r:Math.round(255*(t+s)),g:Math.round(255*(a+s)),b:Math.round(255*(n+s)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function M(e){return C(x(e))}function D(e){return y(T(e))}function S(e){return y(w(e))}function V(e){return _(x(e))}function k(e){for(var t=0,a=1,n=0;e.length;)t>3?a=3600:t>1&&(a=60),n+=e.pop()*a*(t%2?10:1),t++;return n}var A=A||{},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I={readonly:"readOnly"},F=[],O=Array.prototype.slice,L=function(){var s=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,l(this)},l=function t(a,n){var i=[],r=0;if(a&&!n&&a instanceof s)return a;if(e(a))return t(document).ready(a);if(a)if("string"==typeof a){var l,o,c;if(a=c=a.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var u="div";for(0===c.indexOf("<li")&&(u="ul"),0===c.indexOf("<tr")&&(u="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(u="tr"),0===c.indexOf("<tbody")&&(u="table"),0===c.indexOf("<option")&&(u="select"),o=document.createElement(u),o.innerHTML=c,r=0;r<o.childNodes.length;r++)i.push(o.childNodes[r])}else for(n||"#"!==a[0]||a.match(/[ .<>:~]/)?(n instanceof s&&(n=n[0]),l=(n||document).querySelectorAll(a)):l=[document.getElementById(a.split("#")[1])],r=0;r<l.length;r++)l[r]&&i.push(l[r])}else if(a.nodeType||a===window||a===document)i.push(a);else if(a.length>0&&a[0].nodeType)for(r=0;r<a.length;r++)i.push(a[r]);else t.isArray(a)&&(i=a);return new s(i)};return s.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(l):document.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},concat:F.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return l(l.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return l(O.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[a]&&this[n].classList.add(t[a]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[a]&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.toggle(t[a]);return this},closest:function(e,a){var n=this[0],s=!1;for(t(e)&&(s=l(e));n&&!(s?s.indexOf(n)>=0:l.matches(n,e));)n=n!==a&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return l(n)},attr:function e(t,a){var e;if(1!==arguments.length||"string"!=typeof t){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,a);else for(var s in t)this[n][s]=t[s],this[n].setAttribute(s,t[s]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=I[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?l.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)l.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,a,n,s){function i(e){var t,s,i=e.target;if(l(i).is(a))n.call(i,e);else for(s=l(i).parents(),t=0;t<s.length;t++)l(s[t]).is(a)&&n.call(s[t],e)}function r(e,t,a,n){var s=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:s[1],event:s[0],listener:a,capture:n}),e.addEventListener(s[0],a,n)}var o,c,u=t.split(" ");for(o=0;o<this.length;o++)if(e(a)||a===!1)for(e(a)&&(s=n||!1,n=a),c=0;c<u.length;c++)u[c].indexOf(".")!=-1?r(this[o],u[c],n,s):this[o].addEventListener(u[c],n,s);else for(c=0;c<u.length;c++)this[o].DomLiveListeners||(this[o].DomLiveListeners=[]),this[o].DomLiveListeners.push({listener:n,liveListener:i}),u[c].indexOf(".")!=-1?r(this[o],u[c],i,s):this[o].addEventListener(u[c],i,s);return this},off:function(t,a,n,s){function i(e){var t,a,n,s=e.split("."),i=s[0],r=s[1];for(t=0;t<u.length;++t)if(u[t].DomNameSpaces){for(a=0;a<u[t].DomNameSpaces.length;++a)n=u[t].DomNameSpaces[a],n.namespace!=r||n.event!=i&&i||(u[t].removeEventListener(n.event,n.listener,n.capture),n.removed=!0);for(a=u[t].DomNameSpaces.length-1;a>=0;--a)u[t].DomNameSpaces[a].removed&&u[t].DomNameSpaces.splice(a,1)}}var r,l,o,c,u=this;for(r=t.split(" "),l=0;l<r.length;l++)for(o=0;o<this.length;o++)if(e(a)||a===!1)e(a)&&(s=n||!1,n=a),0===r[l].indexOf(".")?i(r[l].substr(1),n,s):this[o].removeEventListener(r[l],n,s);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===n&&this[o].removeEventListener(r[l],this[o].DomLiveListeners[c].liveListener,s);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&r[l]&&i(r[l])}return this},trigger:function(e,t){for(var a=e.split(" "),n=0;n<a.length;n++)for(var s=0;s<this.length;s++){var i;try{i=new CustomEvent(a[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(a[n],!0,!0),i.detail=t}this[s].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,a=["left","right"];return a.forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,a=["top","bottom"];return a.forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.documentElement;return{top:t.top+window.pageYOffset-a.clientTop,left:t.left+window.pageXOffset-a.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,a){var n,s,l=this[0],e="";if(arguments.length<2){if(!l)return;if("string"==typeof t)return l.style[t]||getComputedStyle(l,"").getPropertyValue(t)}if("string"==typeof t)a||0===a?e=i(t)+":"+r(t,a):this.each(function(){this.style.removeProperty(i(t))});else for(s in t)if(t[s]||0===t[s])e+=i(s)+":"+r(s,t[s])+";";else for(n=0;n<this.length;n++)this[n].style.removeProperty(i(s));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(t){for(var a=[],n=0;n<this.length;n++)e(t)?t.call(this[n],n,this[n])&&a.push(this[n]):l.matches(this[n],t)&&a.push(this[n]);return new s(a)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&l.matches(this[0],e)},not:function(n){var s=[];if(e(n)&&void 0!==n.call)this.each(function(e){n.call(this,e)||s.push(this)});else{var i="string"==typeof n?this.filter(n):a(n)&&e(n.item)?O.call(n):l(n);t(i)&&(i=l.map(i,function(e){return e})),this.each(function(e,t){i.indexOf(t)<0&&s.push(t)})}return l(s)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(l(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?O.call(this):this[e>=0?e:e+this.length]},eq:function(e){if("undefined"==typeof e)return this;var t,a=this.length;return e>a-1?new s([]):e<0?(t=a+e,new s(t<0?[]:[this[t]])):new s([this[e]])},append:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].appendChild(e[a]);else this[t].appendChild(e);return this},appendTo:function(e){return l(e).append(this),this},prepend:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e,a=n.childNodes.length-1;a>=0;a--)this[t].insertBefore(n.childNodes[a],this[t].childNodes[0])}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return l(e).prepend(this),this},insertBefore:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0]);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0].nextSibling);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n].nextSibling);return this},next:function(e){return new s(this.length>0?e?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.nextElementSibling;){var n=a.nextElementSibling;e?l(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},prev:function(e){return new s(this.length>0?e?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.previousElementSibling;){var n=a.previousElementSibling;e?l(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},parent:function(e){for(var t=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?l(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return l(l.unique(t))},parents:function e(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a].parentNode;n;)t?l(n).is(t)&&e.push(n):e.push(n),n=n.parentNode;return l(l.unique(e))},find:function(e){for(var t=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(e),i=0;i<n.length;i++)t.push(n[i]);return new s(t)},children:function e(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a].childNodes,i=0;i<n.length;i++)t?1===n[i].nodeType&&l(n[i]).is(t)&&e.push(n[i]):1===n[i].nodeType&&e.push(n[i]);return new s(l.unique(e))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,a=this;for(e=0;e<arguments.length;e++){var n=l(arguments[e]);for(t=0;t<n.length;t++)a[a.length]=n[t],a.length++}return a},before:function(e){return l(e).insertBefore(this),this},after:function(e){return l(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return O.call(t.childNodes)})},nextUntil:function(e){for(var t=this,a=[];t.length&&!t.filter(e).length;)a.push(t[0]),t=t.next();return l(a)},prevUntil:function(e){for(var t=this,a=[];t.length&&!l(t).filter(e).length;)a.push(t[0]),t=t.prev();return l(a)},detach:function(){return this.remove()}},l.fn=s.prototype,l}(),H=L;A.$=L,H.inArray=function(e,t,a){return F.indexOf.call(t,e,a)},H.extend=function(e){var t,a=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),e=e||{},a.forEach(function(a){s(e,a,t)}),e},H.isFunction=e,H.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},H.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},H.each=function(e,a){var n,s;if(t(e)&&a){if(H.isArray(e)||e instanceof L)for(n=0;n<e.length&&a.call(e[n],n,e[n])!==!1;n++);else for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&a.call(e[s],s,e[s])===!1)break;return this}},H.unique=function(e){for(var t=[],a=0;a<e.length;a++)t.indexOf(e[a])===-1&&t.push(e[a]);return t},H.map=function(e,t){var n,s,i,r=[];if(a(e))for(s=0;s<e.length;s++)n=t(e[s],s),null!==n&&r.push(n);else for(i in e)n=t(e[i],i),null!==n&&r.push(n);return r.length>0?H.fn.concat.apply([],r):r},H.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return a.call(e,t)},A.presetShort=function(e,t,a){A[e]=function(n,s){var i,r,l={},o=s||{};return H.extend(o,{preset:a===!1?void 0:e}),H(n).each(function(){i=new A.classes[t||"Scroller"](this,o),l[this.id]=i}),r=Object.keys(l),1==r.length?l[r[0]]:l}};var E,P,W,j,$=[],q="undefined"!=typeof window,R=q?navigator.userAgent:"",U=R.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),B=q&&window.requestAnimationFrame||function(e){e()},X=q&&window.cancelAnimationFrame||function(){};/Android/i.test(U)?(E="android",P=R.match(/Android\s+([\d\.]+)/i),P&&($=P[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(U)?(E="ios",P=R.match(/OS\s+([\d\_]+)/i),P&&($=P[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(U)?E="wp":/Windows|MSIE/i.test(U)&&(E="windows"),W=$[0],j=$[1];var z=0;q&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,u,!0)}),"android"==E&&W<5&&document.addEventListener("change",function(e){z&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var K,G,Z,J,Q,ee=function(){},te=A.$,ae=+new Date,ne={},se=te.extend;q&&(G=document.createElement("modernizr").style,Q=h(),J=Q.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),K=void 0!==G.animation?"animationend":"webkitAnimationEnd"),Z=se(A,{$:te,version:"3.2.2",util:{prefix:Q,jsPrefix:J,animEnd:K,preventClick:l,testTouch:function(e,t){if("touchstart"==e.type)te(t).attr("data-touch","1");else if(te(t).attr("data-touch"))return te(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,a=[];for(t in e)a.push(e[t]);return a},arrayToObject:function(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:o,getPosition:function(e,t){var a,n,s=getComputedStyle(e[0]);return te.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==s[t+"ransform"])return a=s[t+"ransform"],!1}),a=a.split(")")[0].split(", "),n=t?a[13]||a[5]:a[12]||a[4]},constrain:function(e,t,a){return Math.max(t,Math.min(e,a))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var a,n;return t=t||100,function(){var s=this,i=+new Date,r=arguments;a&&i<a+t?(clearTimeout(n),n=setTimeout(function(){a=i,e.apply(s,r)},t)):(a=i,e.apply(s,r))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:E,majorVersion:W,minorVersion:j},i18n:{},instances:ne,classes:{},components:{},settings:{},setDefaults:function(e){se(this.settings,e)},customTheme:function(e,t){var a,n=A.themes,s=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<s.length;a++)n[s[a]][e]=se({},n[s[a]][t],{baseTheme:t})}}),Z.presetShort=Z.presetShort||function(){},Z.classes.Base=function(e,t){function a(){te(e).addClass("mbsc-comp"),e.id?ne[e.id]&&ne[e.id].destroy():e.id="mobiscroll"+ ++ae,ne[e.id]=d,d.__ready=!0}var n,s,i,r,l,o,u,d=this;d.settings={},d._init=ee,d._destroy=ee,d._processSettings=ee,d.init=function(a){var c;for(c in d.settings)delete d.settings[c];i=d.settings,se(t,a),d._hasDef&&(u=Z.settings),se(i,d._defaults,u,t),d._hasTheme&&(l=i.theme,"auto"!=l&&l||(l=Z.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=Z.themes[d._class]?Z.themes[d._class][l]:{}),d._hasLang&&(n=Z.i18n[i.lang]),d._hasTheme&&o("onThemeLoad",{lang:n,settings:t}),se(i,r,n,u,t),d._processSettings(),d._hasPreset&&(s=Z.presets[d._class][i.preset],s&&(s=s.call(e,d),se(i,s,t))),d._init(a),o("onInit")},d.destroy=function(){d&&(d._destroy(),o("onDestroy"),delete ne[e.id],d=null)},d.tap=function(e,t,a,n,s){c(d,e,t,a,n,s)},d.trigger=function(a,n){var i,l,o,c=[u,r,s,t];for(l=0;l<4;l++)o=c[l],o&&o[a]&&(i=o[a].call(e,n||{},d));return i},d.option=function(e,t){var a={};"object"===("undefined"==typeof e?"undefined":N(e))?a=e:a[e]=t,d.init(a)},d.getInst=function(){return d},t=t||{},o=d.trigger,d.__ready||a()};var ie=0;A.util.getJson=p;var re,le,oe=A.util,ce=A.classes,ue=A.themes,de=oe.constrain,he=oe.isString,me=oe.getCoord,fe=oe.animEnd,pe=/(iphone|ipod)/i.test(R)&&W>=7,be="android"==E,ve="ios"==E,ge=ve&&8==W,ye=function(){},xe=function(e){e.preventDefault()},we=function(e,t,a){function n(e){M&&M.removeClass("mbsc-fr-btn-a"),M=te(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?te(document).on("mouseup",s):"pointerdown"===e.type&&te(document).on("pointerup",s)}function s(e){M&&(M.removeClass("mbsc-fr-btn-a"),M=null),"mouseup"===e.type?te(document).off("mouseup",s):"pointerup"===e.type&&te(document).off("pointerup",s)}function i(e){13==e.keyCode?K.select():27==e.keyCode&&K.cancel()}function r(e){e||be||H.focus(),K.ariaMessage(j.ariaMessage)}function l(e){var t=re,a=j.focusOnClose;K._markupRemove(),g.remove(),k&&(D.mbscModals--,j.scrollLock&&D.mbscLock--,D.mbscLock||v.removeClass("mbsc-fr-lock"),D.mbscModals||(v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),L&&(p.css({top:"",left:""}),_.scrollLeft($),_.scrollTop(R)),e||(t||(t=G),setTimeout(function(){void 0===a||a===!0?(le=!0,t[0].focus()):a&&te(a)[0].focus()},200)))),K._isVisible=!1,N=!1,B("onHide")}function o(e){clearTimeout(J[e.type]),J[e.type]=setTimeout(function(){var t,a="scroll"==e.type;a&&!q||(K.position(!a),"orientationchange"==e.type&&(E.style.display="none",t=E.offsetHeight,E.style.display=""))},200)}function c(e){e.target.nodeType&&!H.contains(e.target)&&H.focus()}function u(e,t){e&&e(),K.show()!==!1&&(re=t)}function d(){K._fillValue(),B("onSet",{valueText:K._value})}function h(){B("onCancel",{valueText:K._value})}function m(){K.setVal(null,!0)}var f,p,b,v,g,y,x,w,_,C,T,M,D,S,V,k,N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,B,X,z,K=this,G=te(e),Z=[],J={};ce.Base.call(this,e,t,!0),K.position=function(e){var t,a,n,s,i,r,l,o,c,u,d,h,m,f,b,v,y={},T=0,M=0,S=0,L=0;!W&&N&&(K._position(g),h=Y.offsetHeight,m=Y.offsetWidth,X===m&&z===h&&e||(K._isFullScreen||/top|bottom/.test(j.display)?w.width(m):C.width(""),B("onPosition",{target:Y,windowWidth:m,windowHeight:h})!==!1&&k&&(te(".mbsc-comp",g).each(function(){var e=A.instances[this.id];e&&e!==K&&e.position&&e.position()}),!K._isFullScreen&&/center|bubble/.test(j.display)&&(te(".mbsc-w-p",g).each(function(){f=this.getBoundingClientRect().width,L+=f,S=f>S?f:S}),C.css({width:K._isLiquid?Math.min(j.maxPopupWidth,m-16):Math.ceil(L>m?S:L),"white-space":L>m?"":"nowrap"})),I=E.offsetWidth,F=E.offsetHeight,q=F<=h&&I<=m,O&&(T=_.scrollLeft(),M=_.scrollTop()),"center"==j.display?(v=Math.max(0,T+(m-I)/2),b=Math.max(0,M+(h-F)/2)):"bubble"==j.display?(t=void 0===j.anchor?G:te(j.anchor),l=te(".mbsc-fr-arr-i",g)[0],s=t.offset(),i=s.top+(V?M-p.offset().top:0),r=s.left+(V?T-p.offset().left:0),a=t[0].offsetWidth,n=t[0].offsetHeight,o=l.offsetWidth,c=l.offsetHeight,v=de(r-(I-a)/2,T+8,T+m-I-8),b=i-F-c/2,b<M||i>M+h?(w.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+n+c/2):w.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),te(".mbsc-fr-arr",g).css({left:de(r+a/2-(v+(I-o)/2),0,o)}),q=b>M&&v>T&&b+F<=M+h&&v+I<=T+m):(v=T,b="top"==j.display?M:Math.max(0,M+h-F)),O&&(u=Math.max(b+F,V?D.scrollHeight:te(document).height()),d=Math.max(v+I,V?D.scrollWidth:te(document).width()),x.css({width:d,height:u}),j.scroll&&"bubble"==j.display&&(b+F+8>M+h||i>M+h||i+n<M)&&(W=!0,setTimeout(function(){W=!1},300),_.scrollTop(Math.min(i,b+F-h+8,u-h)))),y.top=Math.floor(b),y.left=Math.floor(v),w.css(y),X=m,z=h)))},K.attachShow=function(e,t){var a,n=te(e),s=n.prop("readonly");if("inline"!==j.display){if((j.showOnFocus||j.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){K._isVisible&&this.blur()}),a=te('label[for="'+n.attr("id")+'"]'),a.length||(a=n.closest("label"))),n.is("select"))return;j.showOnFocus&&n.on("focus.mbsc",function(){le?le=!1:u(t,n)}),j.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),u(t,n))}),K.tap(n,function(){u(t,n)}),a&&a.length&&K.tap(a,function(){u(t,n)})),Z.push({readOnly:s,el:n,lbl:a})}},K.select=function(){k?K.hide(!1,"set",!1,d):d()},K.cancel=function(){k?K.hide(!1,"cancel",!1,h):h()},K.clear=function(){K._clearValue(),B("onClear"),k&&K._isVisible&&!K.live?K.hide(!1,"clear",!1,m):m()},K.enable=function(){j.disabled=!1,K._isInput&&G.prop("disabled",!1)},K.disable=function(){j.disabled=!0,K._isInput&&G.prop("disabled",!0)},K.show=function(e,t){function a(){g.off(fe,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+S).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+S),r(t)}var l,u;if(!j.disabled&&!K._isVisible){if(K._readValue(),B("onBeforeShow")===!1)return!1;if(re=null,S=j.animate,T=j.buttons||[],O=V||"bubble"==j.display,L=pe&&!O&&j.scrollLock,l=T.length>0,S!==!1&&("top"==j.display?S=S||"slidedown":"bottom"==j.display?S=S||"slideup":"center"!=j.display&&"bubble"!=j.display||(S=S||"pop")),k&&(R=Math.max(0,_.scrollTop()),$=Math.max(0,_.scrollLeft()),X=0,z=0,L&&!v.hasClass("mbsc-fr-lock-ios")&&p.css({top:-R+"px",left:-$+"px"}),v.addClass((j.scrollLock?"mbsc-fr-lock":"")+(L?" mbsc-fr-lock-ios":"")+(V?" mbsc-fr-lock-ctx":"")),te(document.activeElement).is("input,textarea")&&document.activeElement.blur(),A.activeInstance&&A.activeInstance.hide(),A.activeInstance=K,D.mbscModals=D.mbscModals||0,D.mbscLock=D.mbscLock||0,D.mbscModals++,j.scrollLock&&D.mbscLock++),u='<div lang="'+j.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+j.theme+(j.baseTheme?" mbsc-"+j.baseTheme:"")+" mbsc-fr-"+j.display+" "+(j.cssClass||"")+" "+(j.compClass||"")+(K._isLiquid?" mbsc-fr-liq":"")+(L?" mbsc-platform-ios":"")+(l?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(k?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(j.rtl?" mbsc-rtl":" mbsc-ltr")+(j.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===j.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(j.headerText?'<div class="mbsc-fr-hdr">'+(he(j.headerText)?j.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',u+=K._generateContent(),u+="</div>",l&&(u+='<div class="mbsc-fr-btn-cont">',te.each(T,function(e,t){t=he(t)?K.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),u+="<div"+(j.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?j.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),u+="</div>"),u+="</div></div></div></div>"+(k?"</div></div>":""),g=te(u),x=te(".mbsc-fr-persp",g),y=te(".mbsc-fr-scroll",g),C=te(".mbsc-fr-w",g),b=te(".mbsc-fr-hdr",g),w=te(".mbsc-fr-popup",g),f=te(".mbsc-fr-aria",g),Y=g[0],H=y[0],E=w[0],K._markup=g,K._header=b,K._isVisible=!0,P="orientationchange resize",K._markupReady(g),B("onMarkupReady",{target:Y}),k){if(te(window).on("keydown",i),j.scrollLock&&g.on("touchmove mousewheel wheel",function(e){q&&e.preventDefault()}),j.focusTrap&&_.on("focusin",c),j.closeOnOverlayTap){var d,h,m,M;y.on("touchstart mousedown",function(e){h||e.target!=y[0]||(h=!0,d=!1,m=me(e,"X"),M=me(e,"Y"))}).on("touchmove mousemove",function(e){h&&!d&&(Math.abs(me(e,"X")-m)>9||Math.abs(me(e,"Y")-M)>9)&&(d=!0)}).on("touchcancel",function(){h=!1}).on("touchend touchcancel mouseup",function(e){h&&!d&&(K.cancel(),"mouseup"!=e.type&&oe.preventClick()),h=!1})}O&&(P+=" scroll")}setTimeout(function(){if(k)g.appendTo(p);else if(G.is("div")&&!K._hasContent)G.empty().append(g);else if(G.hasClass("mbsc-control")){var i=G.closest(".mbsc-control-w");g.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else g.insertAfter(G);N=!0,K._markupInserted(g),B("onMarkupInserted",{target:Y}),g.on("selectstart mousedown",xe).on("click",".mbsc-fr-btn-e",xe).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&k&&j.focusTrap){var t=g.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(te(":focus",g)),n=t.length-1,s=0;e.shiftKey&&(n=0,s=-1),a===n&&(t.eq(s)[0].focus(),
  e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",s),te("input,select,textarea",g).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),Y.addEventListener("touchstart",function(){U||(U=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),te.each(T,function(e,t){K.tap(te(".mbsc-fr-btn"+e,g),function(e){t=he(t)?K.buttons[t]:t,(he(t.handler)?K.handlers[t.handler]:t.handler).call(this,e,K)},!0)}),K._attachEvents(g),K.position(),_.on(P,o),k&&(S&&!e?g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+S).on(fe,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+S):r(t)),B("onShow",{target:Y,valueText:K._tempValue})},L?100:0)}},K.hide=function(e,t,a,n){function s(){g.off(fe,s),l(e)}return!(!K._isVisible||!a&&!K._isValid&&"set"==t||!a&&B("onBeforeClose",{valueText:K._tempValue,button:t})===!1)&&(k&&(te(document.activeElement).is("input,textarea")&&E.contains(document.activeElement)&&document.activeElement.blur(),te(window).off("keydown",i),delete A.activeInstance),g&&(k&&S&&!e?g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+S).on(fe,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+S):l(e),K._detachEvents(g),_.off(P,o).off("focusin",c)),n&&n(),void B("onClose",{valueText:K._value}))},K.ariaMessage=function(e){f.html(""),setTimeout(function(){f.html(e)},100)},K.isVisible=function(){return K._isVisible},K.setVal=ye,K.getVal=ye,K._generateContent=ye,K._attachEvents=ye,K._detachEvents=ye,K._readValue=ye,K._clearValue=ye,K._fillValue=ye,K._markupReady=ye,K._markupInserted=ye,K._markupRemove=ye,K._position=ye,K.__processSettings=ye,K.__init=ye,K.__destroy=ye,K._destroy=function(){K.hide(!0,!1,!0),G.off(".mbsc"),te.each(Z,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),K.__destroy()},K._processSettings=function(){var e,t;for(K.__processSettings(),j.buttons=j.buttons||("inline"!==j.display?["set","cancel"]:[]),j.headerText=void 0===j.headerText?"inline"!==j.display&&"{value}":j.headerText,T=j.buttons||[],k="inline"!==j.display,V="body"!=j.context,p=te(j.context),v=V?p:te("body,html"),D=p[0],K._window=_=te(V?j.context:window),K.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(K.live=!1);K.buttons.set={text:j.setText,icon:j.setIcon,handler:"set"},K.buttons.cancel={text:j.cancelText,icon:j.cancelIcon,handler:"cancel"},K.buttons.close={text:j.closeText,icon:j.closeIcon,handler:"cancel"},K.buttons.clear={text:j.clearText,icon:j.clearIcon,handler:"clear"},K._isInput=G.is("input")},K._init=function(){K._isVisible&&K.hide(!0,!1,!0),G.off(".mbsc"),K.__init(),K._isLiquid="liquid"==j.layout,k?(K._readValue(),K._hasContent||K.attachShow(G)):K.show(),G.on("change.mbsc",function(){K._preventChange||K.setVal(G.val(),!0,!1),K._preventChange=!1})},K.buttons={},K.handlers={set:K.select,cancel:K.cancel,clear:K.clear},K._value=null,K._isValid=!0,K._isVisible=!1,j=K.settings,B=K.trigger,a||K.init(t)};we.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:be||ve,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!ge},ce.Frame=we,ue.frame.mobiscroll={headerText:!1,btnWidth:!1},ue.scroller.mobiscroll=se({},ue.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),q&&te(window).on("focus",function(){re&&(le=!0)});var _e=A.classes,Ce=A.util,Te=Ce.constrain,Me=Ce.jsPrefix,De=Ce.prefix,Se=Ce.getCoord,Ve=Ce.getPosition,ke=Ce.testTouch,Ae=Ce.isNumeric,Ne=Ce.isString,Ye="ios"==E,Ie=function(e,t,a){function n(e){U("onStart",{domEvent:e}),Q.stopProp&&e.stopPropagation(),(Q.prevDef||"mousedown"==e.type)&&e.preventDefault(),Q.readonly||Q.lock&&V||ke(e,this)&&!S&&(u&&u.removeClass("mbsc-btn-a"),_=!1,V||(u=te(e.target).closest(".mbsc-btn-e",this),u.length&&!u.hasClass("mbsc-btn-d")&&(_=!0,d=setTimeout(function(){u.addClass("mbsc-btn-a")},100))),S=!0,Y=!1,k=!1,G.scrolled=V,P=Se(e,"X"),W=Se(e,"Y"),y=C=P,m=0,f=0,p=0,E=new Date,H=+Ve($,z)||0,V&&c(H,Ye?0:1),"mousedown"===e.type&&te(document).on("mousemove",s).on("mouseup",r))}function s(e){S&&(Q.stopProp&&e.stopPropagation(),y=Se(e,"X"),x=Se(e,"Y"),m=y-P,f=x-W,p=z?f:m,_&&(Math.abs(f)>Q.thresholdY||Math.abs(m)>Q.thresholdX)&&(clearTimeout(d),u.removeClass("mbsc-btn-a"),_=!1),(G.scrolled||!k&&Math.abs(p)>R)&&(Y||U("onGestureStart",w),G.scrolled=Y=!0,N||(N=!0,A=B(i))),z||Q.scrollLock?e.preventDefault():G.scrolled?e.preventDefault():Math.abs(f)>7&&(k=!0,G.scrolled=!0,ee.trigger("touchend")))}function i(){M&&(p=Te(p,-O*M,O*M)),c(Te(H+p,D-g,T+g)),N=!1}function r(e){if(S){var t,a=new Date-E;Q.stopProp&&e.stopPropagation(),X(A),N=!1,!k&&G.scrolled&&(Q.momentum&&a<300&&(t=p/a,p=Math.max(Math.abs(p),t*t/Q.speedUnit)*(p<0?-1:1)),o(p)),_&&(clearTimeout(d),u.addClass("mbsc-btn-a"),setTimeout(function(){u.removeClass("mbsc-btn-a")},100),k||G.scrolled||U("onBtnTap",{target:u[0]})),"mouseup"==e.type&&te(document).off("mousemove",s).off("mouseup",r),S=!1}}function l(e){if(e=e.originalEvent||e,p=z?e.deltaY||e.wheelDelta||e.detail:e.deltaX,U("onStart",{domEvent:e}),Q.stopProp&&e.stopPropagation(),p){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(p*=5),p=Te(-p,-20,20),H=K,Q.readonly||H+p<D||H+p>T)return;Y||(w={posX:z?0:K,posY:z?K:0,originX:z?0:H,originY:z?H:0,direction:p>0?z?270:360:z?90:180},U("onGestureStart",w)),N||(N=!0,A=B(i)),Y=!0,clearTimeout(I),I=setTimeout(function(){X(A),N=!1,Y=!1,o(p)},200)}}function o(e){var t,a,n;if(M&&(e=Te(e,-O*M,O*M)),n=Te(Math.round((H+e)/O)*O,D,T),Z=Math.round(n/O),L){if(e<0){for(t=L.length-1;t>=0;t--)if(Math.abs(n)+h>=L[t].breakpoint){Z=t,J=2,n=L[t].snap2;break}}else if(e>=0)for(t=0;t<L.length;t++)if(Math.abs(n)<=L[t].breakpoint){Z=t,J=1,n=L[t].snap1;break}n=Te(n,D,T)}a=Q.time||(K<D||K>T?1e3:Math.max(1e3,Math.abs(n-K)*Q.timeUnit)),w.destinationX=z?0:n,w.destinationY=z?n:0,w.duration=a,w.transitionTiming=v,U("onGestureEnd",w),c(n,a)}function c(e,t,a,n){var s=e!=K,i=t>1,r=function(){clearInterval(F),clearTimeout(q),V=!1,K=e,w.posX=z?0:e,w.posY=z?e:0,s&&U("onMove",w),i&&U("onAnimationEnd",w),n&&n()};w={posX:z?0:K,posY:z?K:0,originX:z?0:H,originY:z?H:0,direction:e-K>0?z?270:360:z?90:180},K=e,i&&(w.destinationX=z?0:e,w.destinationY=z?e:0,w.duration=t,w.transitionTiming=v,U("onAnimationStart",w)),j[Me+"Transition"]=t?De+"transform "+Math.round(t)+"ms "+v:"",j[Me+"Transform"]="translate3d("+(z?"0,"+e+"px,":e+"px,0,")+"0)",!s&&!V||!t||t<=1?r():t&&(V=!a,clearInterval(F),F=setInterval(function(){var t=+Ve($,z)||0;w.posX=z?0:t,w.posY=z?t:0,U("onMove",w),Math.abs(t-e)<2&&r()},100),clearTimeout(q),q=setTimeout(function(){r()},t)),Q.sync&&Q.sync(e,t,v)}var u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D,S,V,k,A,N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,z,K,G=this,Z=0,J=1,Q=t,ee=te(e);_e.Base.call(this,e,t,!0),G.scrolled=!1,G.scroll=function(t,a,n,s){t=Ae(t)?Math.round(t/O)*O:Math.ceil((te(t,e).length?Math.round($.offset()[b]-te(t,e).offset()[b]):K)/O)*O,t=Te(t,D,T),Z=Math.round(t/O),H=K,c(t,a,n,s)},G.refresh=function(e){var t;h=void 0===Q.contSize?z?ee.height():ee.width():Q.contSize,D=void 0===Q.minScroll?Math.min(0,z?h-$.height():h-$.width()):Q.minScroll,T=void 0===Q.maxScroll?0:Q.maxScroll,L=null,!z&&Q.rtl&&(t=T,T=-D,D=-t),Ne(Q.snap)&&(L=[],$.find(Q.snap).each(function(){var e=z?this.offsetTop:this.offsetLeft,t=z?this.offsetHeight:this.offsetWidth;L.push({breakpoint:e+t/2,snap1:-e,snap2:h-e-t})})),O=Ae(Q.snap)?Q.snap:1,M=Q.snap?Q.maxSnapScroll:0,v=Q.easing,g=Q.elastic?Ae(Q.snap)?O:Ae(Q.elastic)?Q.elastic:0:0,void 0===K&&(K=Q.initialPos,Z=Math.round(K/O)),e||G.scroll(Q.snap?L?L[Z]["snap"+J]:Z*O:K)},G._processSettings=function(){z="Y"==Q.axis,b=z?"top":"left",$=Q.moveElement||ee.children().eq(0),j=$[0].style,R=z?Q.thresholdY:Q.thresholdX},G._init=function(){G.refresh(),ee.on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",r),Q.mousewheel&&ee.on("wheel mousewheel",l),e.addEventListener&&e.addEventListener("click",function(e){G.scrolled&&(G.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},G._destroy=function(){clearInterval(F),ee.off("touchstart mousedown",n).off("touchmove",s).off("touchend touchcancel",r).off("wheel mousewheel",l)},Q=G.settings,U=G.trigger,a||G.init(t)};Ie.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},_e.ScrollView=Ie,A.presetShort("scrollview","ScrollView",!1);var Fe=A.util,Oe=Fe.jsPrefix,Le=Fe.prefix,He=Fe.getCoord,Ee=Fe.testTouch,Pe=q?window.CSS:null,We=Pe&&Pe.supports&&Pe.supports("(transform-style: preserve-3d)"),je=!We||"wp"==E||"android"==E;A.presetShort("scroller","Scroller",!1);var $e=function(e,t,a){function n(e){var t=+te(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),Ee(e,this)&&!v(t)&&(S=te(this).addClass("mbsc-sc-btn-a"),L=He(e,"X"),H=He(e,"Y"),F=!0,O=!1,setTimeout(function(){f(t,"inc"==S.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&te(document).on("mousemove",s).on("mouseup",i))}function s(e){(Math.abs(L-He(e,"X"))>7||Math.abs(H-He(e,"Y"))>7)&&p(!0)}function i(e){p(),e.preventDefault(),"mouseup"===e.type&&te(document).off("mousemove",s).off("mouseup",i)}function r(e){var t,a,n=te(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,o(n,U[n]._$markup.find('.mbsc-sc-itm[data-val="'+E[n]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!F&&(F=!0,O=!1,f(n,a)))}function l(){p()}function o(e,t){var a=U[e],n=t.attr("data-index"),s=m(a,n),i=K._tempSelected[e],r=Fe.isNumeric(a.multiple)?a.multiple:1/0;q("onItemTap",{target:t[0],index:e,value:s,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[s]&&(void 0!==i[s]?(t.removeClass(N).removeAttr("aria-selected"),delete i[s]):(1==r&&(K._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(N).removeAttr("aria-selected")),Fe.objectToArray(i).length<r&&(t.addClass(N).attr("aria-selected","true"),i[s]=s))),T(a,e,n,z,!0,!0,a.multiple),!K.live||a.multiple||$.setOnTap!==!0&&!$.setOnTap[e]||setTimeout(function(){K.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,K))||0}function u(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?te(a).get(t%e._length):a[t]:te.isFunction(a)?a(t,K):""}function d(e){return te.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=te.isPlainObject(e)?e.display:e;return void 0===t?"":t}function m(e,t){return d(u(e,t))}function f(e,t){O||b(e,t),F&&(clearInterval(I),I=setInterval(function(){b(e,t)},$.delay))}function p(e){clearInterval(I),O=e,F=!1,S&&S.removeClass("mbsc-sc-btn-a")}function b(e,t){var a=U[e];T(a,e,a._current+t,z,1==t?1:2)}function v(e){return te.isArray($.readonly)?$.readonly[e]:$.readonly}function g(e,t,a){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=te.isArray(e.data),e._array&&(e._length=e.data.length,te.each(e.data,function(t,a){e._map[d(a)]=t})),e.circular=void 0===$.circular?void 0===e.circular?e._array&&e._length>$.rows:e.circular:te.isArray($.circular)?$.circular[t]:$.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,E[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-X,e._last=e._index+X,e._offset=e._first,a?(e._offset-=e._margin/P+(e._index-n),e._margin+=(e._index-n)*P):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!A?Math.floor($.rows/2):0))*P,n=Math.min(a,-(e.max-e._offset-(e.multiple&&!A?Math.floor($.rows/2):0))*P);se(e._scroller.settings,{minScroll:n,maxScroll:a}),e._scroller.refresh(t)},B[e.key]=e,e}function y(e,t,a,n,s){var i,r,l,o,c,m,f,p,b="",v=K._tempSelected[t],g=e._disabled||{};for(i=a;i<=n;i++)l=u(e,i),c=h(l),o=d(l),r=l&&void 0!==l.cssClass?l.cssClass:"",m=l&&void 0!==l.label?l.label:"",f=l&&l.invalid,p=void 0!==o&&o==E[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(s?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?N:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[o]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+o+'"'+(m?' aria-label="'+m+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+P+"px;line-height:"+P+"px;"+(s?Le+"transform:rotateX("+(e._offset-i)*k%360+"deg) translateZ("+P*$.rows/2+"px);":"")+'">'+(R>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(P/R)+"px;font-size:"+Math.round(P/R*.8)+'px;">':"")+c+(R>1?"</div>":"")+"</div>";return b}function x(t){var a=$.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function w(e,t,a){var n=Math.round(-a/P)+e._offset,s=n-e._current,i=e._first,r=e._last,l=i+X-V+1,o=r-X+V;s&&(e._first+=s,e._last+=s,e._current=n,s>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+s),r+s)),te(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(s,r-i+1)).remove(),A&&(e._$3d.append(y(e,t,Math.max(o+1,l+s),o+s,!0)),te(".mbsc-sc-itm",e._$3d).slice(0,Math.min(s,o-l+1)).attr("class","mbsc-sc-itm-del"))):s<0&&(e._$scroller.prepend(y(e,t,i+s,Math.min(i-1,r+s))),te(".mbsc-sc-itm",e._$scroller).slice(Math.max(s,i-r-1)).remove(),A&&(e._$3d.prepend(y(e,t,l+s,Math.min(l-1,o+s),!0)),te(".mbsc-sc-itm",e._$3d).slice(Math.max(s,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=s*P,e._$scroller.css("margin-top",e._margin+"px"))}function _(e,t,a,n){var s,i=U[e],r=n||i._disabled,l=c(i,t),o=t,u=t,d=0,h=0;if(void 0===t&&(t=m(i,l)),r[t]===!0){for(s=0;l-d>=i.min&&r[o]&&s<100;)s++,d++,o=m(i,l-d);for(s=0;l+h<i.max&&r[u]&&s<100;)s++,h++,u=m(i,l+h);t=(h<d&&h&&2!==a||!d||l-d<0||1==a)&&!r[u]?u:o}return t}function C(t,a,n,s,i,r){var l,o,u,d,h=K._isVisible;j=!0,d=$.validate.call(e,{values:E.slice(0),index:a,direction:n},K)||{},j=!1,d.valid&&(K._tempWheelArray=E=d.valid.slice(0)),r||te.each(U,function(e,s){if(h&&s._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),s._disabled={},d.disabled&&d.disabled[e]&&te.each(d.disabled[e],function(e,t){s._disabled[t]=!0,h&&s._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),E[e]=s.multiple?E[e]:_(e,E[e],n),h){if(s.multiple&&void 0!==a||s._$markup.find(".mbsc-sc-itm-sel").removeClass(N).removeAttr("aria-selected"),s.multiple){if(void 0===a)for(var r in K._tempSelected[e])s._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(N).attr("aria-selected","true")}else s._$markup.find('.mbsc-sc-itm[data-val="'+E[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");o=c(s,E[e]),l=o-s._index+s._batch,Math.abs(l)>2*X+1&&(u=l+(2*X+1)*(l>0?-1:1),s._offset+=u,s._margin-=u*P,s._refresh()),s._index=o+s._batch,s._scroller.scroll(-(o-s._offset+s._batch)*P,a===e||void 0===a?t:z,i)}}),q("onValidated"),K._tempValue=$.formatValue(E,K),h&&K._header.html(x(K._tempValue)),K.live&&(K._hasValue=s||K._hasValue,M(s,s,0,!0),s&&q("onSet",{valueText:K._value})),s&&q("onChange",{valueText:K._tempValue})}function T(e,t,a,n,s,i,r){var l=m(e,a);void 0!==l&&(E[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){C(n,t,s,!0,i,r)},10))}function M(e,t,a,n,s){if(n?K._tempValue=$.formatValue(K._tempWheelArray,K):C(a),!s){K._wheelArray=[];for(var i=0;i<E.length;i++)K._wheelArray[i]=U[i]&&U[i].multiple?Object.keys(K._tempSelected[i])[0]:E[i];K._value=K._hasValue?K._tempValue:null,K._selected=se(!0,{},K._tempSelected)}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),q("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(K._preventChange=!0,G.trigger("change")))}var D,S,V,k,A,N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,B,X=40,z=1e3,K=this,G=te(e);we.call(this,e,t,!0),K.setVal=K._setVal=function(t,a,n,s,i){K._hasValue=null!==t&&void 0!==t,K._tempWheelArray=E=te.isArray(t)?t.slice(0):$.parseValue.call(e,t,K)||[],M(a,void 0===n?a:n,i,!1,s)},K.getVal=K._getVal=function(e){var t=K._hasValue||e?K[e?"_tempValue":"_value"]:null;return Fe.isNumeric(t)?+t:t},K.setArrayVal=K.setVal,K.getArrayVal=function(e){return e?K._tempWheelArray:K._wheelArray},K.changeWheel=function(e,t,a){var n,s;te.each(e,function(e,t){s=B[e],n=s._nr,s&&(se(s,t),g(s,n,!0),K._isVisible&&(A&&s._$3d.html(y(s,n,s._first+X-V+1,s._last-X+V,!0)),s._$scroller.html(y(s,n,s._first,s._last)).css("margin-top",s._margin+"px"),s._refresh(j)))}),!K._isVisible||K._isLiquid||j||K.position(),j||C(t,void 0,void 0,a)},K.getValidValue=_,K._generateContent=function(){var e,t=0,a="",n=A?Le+"transform: translateZ("+(P*$.rows/2+3)+"px);":"",s='<div class="mbsc-sc-whl-l" style="'+n+"height:"+P+"px;margin-top:-"+(P/2+($.selectedLineBorder||0))+'px;"></div>',i=0;return te.each($.wheels,function(r,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+($.showLabel?" mbsc-sc-lbl-v":"")+'">'+s+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(Y?" mbsc-sc-cp":"")+($.width||$.maxWidth?'"':'" style="max-width:'+$.maxPopupWidth+'px;"')+">",te.each(l,function(r,l){K._tempSelected[i]=se({},K._selected[i]),U[i]=g(l,i),t+=$.maxWidth?$.maxWidth[i]||$.maxWidth:$.width?$.width[i]||$.width:0,e=void 0!==l.label?l.label:r,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+($.width?"width:"+($.width[i]||$.width)+"px;":($.minWidth?"min-width:"+($.minWidth[i]||$.minWidth)+"px;":"")+($.maxWidth?"max-width:"+($.maxWidth[i]||$.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+s+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+$.rows*P*(A?1.1:1)+'px;">'+(Y?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+($.btnPlusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+($.btnMinusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+W+"px;margin-top:-"+(W/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(W-P)/2+'px;">',a+=y(l,i,l._first,l._last)+"</div></div>",A&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+P+"px;margin-top:-"+P/2+'px;">',a+=y(l,i,l._first+X-V+1,l._last-X+V,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&($.maxPopupWidth=t),a},K._attachEvents=function(e){te(".mbsc-sc-btn",e).on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",i),te(".mbsc-sc-whl",e).on("keydown",r).on("keyup",l)},K._detachEvents=function(){for(var e=0;e<U.length;e++)U[e]._scroller.destroy()},K._markupReady=function(e){D=e,te(".mbsc-sc-whl",D).each(function(e){var t,a=te(this),n=U[e],s=-(n.min-n._offset+(n.multiple&&!A?Math.floor($.rows/2):0))*P,i=Math.min(s,-(n.max-n._offset-(n.multiple&&!A?Math.floor($.rows/2):0))*P);n._$markup=a,n._$scroller=te(".mbsc-sc-whl-sc",this),n._$3d=te(".mbsc-sc-whl-3d",this),n._scroller=new Ie(this,{mousewheel:$.mousewheel,moveElement:n._$scroller,initialPos:(n._first-n._index)*P,contSize:0,snap:P,minScroll:i,maxScroll:s,maxSnapScroll:X,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){A&&(n._$3d[0].style[Oe+"Transition"]=t?Le+"transform "+Math.round(t)+"ms "+a:"",n._$3d[0].style[Oe+"Transform"]="rotateX("+-e/P*k+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),q("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var s=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/P)+n._offset,T(n,e,t,i,s)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),q("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){w(n,e,t.posY)},onBtnTap:function(t){o(e,te(t.target))}})}),C()},K._fillValue=function(){K._hasValue=!0,M(!0,!0,0,!0)},K._clearValue=function(){te(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",D).removeClass(N).removeAttr("aria-selected")},K._readValue=function(){var t=G.val()||"",a=0;""!==t&&(K._hasValue=!0),K._tempWheelArray=E=K._hasValue&&K._wheelArray?K._wheelArray.slice(0):$.parseValue.call(e,t,K)||[],K._tempSelected=se(!0,{},K._selected),te.each($.wheels,function(e,t){te.each(t,function(e,t){U[a]=g(t,a),a++})}),M(!1,!1,0,!0),q("onRead")},K.__processSettings=function(){$=K.settings,q=K.trigger,R=$.multiline,N="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+$.checkIcon,U=[],B={}},K.__init=function(){Y=$.showScrollArrows,A=$.scroll3d&&!je&&!Y,P=$.height,W=A?2*Math.round((P-.03*(P*$.rows/2+3))/2):P,V=Math.round(1.8*$.rows),k=360/(2*V),Y&&($.rows=Math.max(3,$.rows)),$.cssClass=($.cssClass||"")+" mbsc-sc"},K._getItemValue=d,K._tempSelected={},K._selected={},a||K.init(t)};$e.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:se({},we.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,n,s=[],i=[],r=0;return null!==e&&void 0!==e&&(s=(e+"").split(" ")),te.each(t.settings.wheels,function(e,l){te.each(l,function(e,l){n=l.data,a=t._getItemValue(n[0]),te.each(n,function(e,n){if(s[r]==t._getItemValue(n))return a=t._getItemValue(n),!1}),i.push(a),r++})}),i}})},A.classes.Scroller=$e;var qe=A.util,Re=qe.isString,Ue={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};A.presetShort("select"),A.presets.scroller.select=function(e){function t(e){var t,a,n,s,i,r,l=0,o=0,c={};if(L={},_={},D=[],w=[],Z.length=0,R)te.each(b,function(l,u){i=u[I.dataText],a=u[I.dataHtml],r=u[I.dataValue],n=u[I.dataGroup],s={value:r,html:a,text:i,index:l},L[r]=s,e&&!d(i,e)||(D.push(s),U&&(void 0===c[n]?(t={text:n,value:o,options:[],index:o},_[o]=t,c[n]=o,w.push(t),o++):t=_[c[n]],z&&(s.index=t.options.length),s.group=c[n],t.options.push(s)),u[I.dataDisabled]&&Z.push(r))});else if(U){var u=!0;te("optgroup",N).each(function(t){_[t]={text:this.label,value:t,options:[],index:t},u=!0,te("option",this).each(function(a){s={value:this.value,text:this.text,index:z?a:l++,group:t},L[this.value]=s,e&&!d(this.text,e)||(u&&(w.push(_[t]),u=!1),D.push(s),_[t].options.push(s),this.disabled&&Z.push(this.value))})})}else te("option",N).each(function(t){s={value:this.value,text:this.text,index:t},L[this.value]=s,e&&!d(this.text,e)||(D.push(s),this.disabled&&Z.push(this.value))});D.length&&(v=D[0].value),K&&(D=[],l=0,te.each(_,function(e,t){t.options.length&&(r="__group"+e,s={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},L[r]=s,D.push(s),Z.push(s.value),te.each(t.options,function(e,t){t.index=l++,D.push(t)}))})),F&&(D.length?F.removeClass("mbsc-sel-empty-v"):F.addClass("mbsc-sel-empty-v"))}function a(e,t,a){var n,s=[];for(n=0;n<e.length;n++)s.push({value:e[n].value,display:e[n].html||e[n].text,cssClass:e[n].cssClass});return{circular:!1,multiple:t,data:s,label:a}}function n(){return a(w,!1,I.groupLabel)}function s(){return a(z?_[x].options:D,W,q)}function i(){var e,t,a=[[]];return X&&(e=n(),E?a[0][C]=e:a[C]=[e]),t=s(),E?a[0][S]=t:a[S]=[t],a}function r(e){P&&(e&&Re(e)&&(e=e.split(",")),te.isArray(e)&&(e=e[0])),M=void 0!==e&&null!==e&&""!==e&&L[e]?e:v,X&&(x=L[M]?L[M].group:null)}function l(t,a){var n=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return n?I.group&&a?n:n[S]:null}function o(t){var a,n,s=[];if(W){for(a in e._tempSelected[S])s.push(k[a]||(L[a]?L[a].text:""));return s.join(", ")}return n=t[S],L[n]?L[n].text:""}function c(){var t=e.getVal(),a=e._tempValue;I.filter&&"inline"==I.display||f.val(a),N[0]!==f[0]&&N.val(t)}function u(){var t={};t[S]=s(),V=!0,e.changeWheel(t)}function d(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function h(e){return I.data.dataField?e[I.data.dataField]:I.data.processResponse?I.data.processResponse(e):e}function m(a){var l={};t(a),I.wheels=i(),r(M),l[S]=s(),e._tempWheelArray[S]=M,X&&(l[C]=n(),e._tempWheelArray[C]=x),e._isVisible&&e.changeWheel(l,0,!0)}var f,b,v,g,y,x,w,_,C,T,M,D,S,V,k={},A=1e3,N=te(this),Y=se({},e.settings),I=se(e.settings,Ue,Y),F=te('<div class="mbsc-sel-empty">'+I.filterEmptyText+"</div>"),O=I.readonly,L={},H=I.layout||(/top|bottom|inline/.test(I.display)||I.filter?"liquid":""),E="liquid"==H,P=qe.isNumeric(I.select)?I.select:"multiple"==I.select||N.prop("multiple"),W=P||!!I.filter&&1,j=this.id+"_dummy",$=te('label[for="'+this.id+'"]').attr("for",j),q=void 0!==I.label?I.label:$.length?$.text():N.attr("name"),R=!!I.data,U=R?!!I.group:te("optgroup",N).length,B=I.group,X=U&&B&&B.groupWheel!==!1,z=U&&B&&X&&B.clustered===!0,K=U&&(!B||B.header!==!1&&!z),G=N.val()||(P?[]:[""]),Z=[];return e.setVal=function(t,a,n,s,i){W&&(t&&!P&&(t=[t]),t&&Re(t)&&(t=t.split(",")),e._tempSelected[S]=qe.arrayToObject(t),s||(e._selected[S]=qe.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,a,n,s,i)},e.getVal=function(t,a){if(W){var n=qe.objectToArray(t?e._tempSelected[S]:e._selected[S]);return P?n:n.length?n[0]:null}return l(t,a)},e.refresh=function(e,t){e?b=e:te.isArray(I.data)&&(b=I.data),!e&&T&&void 0===t?p(I.data.url,function(e){b=h(e),m()},I.data.dataType):m(t)},I.invalid.length||(I.invalid=Z),X?(C=0,S=1):(C=-1,S=0),W&&(P&&N.prop("multiple",!0),G&&Re(G)&&(G=G.split(",")),e._selected[S]=qe.arrayToObject(G)),e._dummyInput&&e._dummyInput.remove(),N.next().is("input.mbsc-control")?f=N.off(".mbsc-form").next().removeAttr("tabindex"):I.input?f=te(I.input):(I.filter&&"inline"==I.display?e._dummyInput=te('<div class="mbsc-sel-input-wrap"><input type="text" id="'+j+'" class="mbsc-control '+I.inputClass+'" readonly /></div>'):(f=te('<input type="text" id="'+j+'" class="mbsc-control '+I.inputClass+'" readonly />'),e._dummyInput=f),I.showInput&&(e._dummyInput.insertBefore(N),f||(f=e._dummyInput.find("#"+j)))),e.attachShow(f.attr("placeholder",I.placeholder||"")),f[0]!==N[0]&&N.addClass("mbsc-sel-hdn").attr("tabindex",-1),I.filter&&(g=I.filter.minLength||0),T=I.data&&I.data.url,T?e.refresh():(R&&(b=I.data),t(),r(N.val())),{layout:H,headerText:!1,anchor:f,compClass:"mbsc-sel"+(X?" mbsc-sel-gr-whl":"")+(W?" mbsc-sel-multi":""),setOnTap:!X||[!1,!0],formatValue:o,parseValue:function(e){return r(void 0===e?N.val():e),X?[x,M]:[M]},validate:function(e){var t=e.index,a=[];return a[S]=I.invalid,z&&!V&&void 0===t&&u(),V=!1,{disabled:a}},onRead:c,onFill:c,onMarkupReady:function(e,t){if(I.filter){var a,n,s,i=te(".mbsc-fr-w",e.target),r=te('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+I.filterClearIcon+'"></span>');"inline"==I.display?(a=f,f.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),y="",s=a[0],a.prop("readonly",!1).attr("placeholder",I.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(F),t.tap(r,function(){s.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),s.blur())}).on("keyup",function(){clearTimeout(n),s.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),n=setTimeout(function(){y!==s.value&&t.trigger("onFilter",{filterText:s.value})!==!1&&(y=s.value,(y.length>=g||!y.length)&&(T&&I.data.remoteFilter?p(I.data.url+encodeURIComponent(y),function(e){t.refresh(h(e))},I.data.dataType):t.refresh(void 0,y)))},500)})}},onBeforeShow:function(){P&&I.counter&&(I.headerText=function(){var t=0;return te.each(e._tempSelected[S],function(){t++}),(t>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,t)}),r(N.val()),I.filter&&t(void 0),e.settings.wheels=i(),V=!0},onWheelGestureStart:function(e){e.index==C&&(I.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==C?(I.readonly=O,a[C]!=x&&(x=a[C],M=_[x].options[0].value,a[S]=M,z?u():e.setArrayVal(a,!1,!1,!0,A))):t.index==S&&a[S]!=M&&(M=a[S],X&&L[M]&&L[M].group!=x&&(x=L[M].group,a[C]=x,e.setArrayVal(a,!1,!1,!0,A)))},onItemTap:function(e){if(e.index==S&&(k[e.value]=L[e.value].text,W&&!P&&e.selected))return!1},onClose:function(){T&&I.data.remoteFilter&&y&&e.refresh()},onDestroy:function(){e._dummyInput&&e._dummyInput.remove(),N.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var Be={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:b,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:b,formatDate:function(e,t,a){if(!t)return null;var n,s,i=se({},Be.defaults,a),r=function(t){for(var a=0;n+1<e.length&&e.charAt(n+1)==t;)a++,n++;return a},l=function(e,t,a){var n=""+t;if(r(e))for(;n.length<a;)n="0"+n;return n},o=function(e,t,a,n){return r(e)?n[t]:a[t]},c="",u=!1;for(n=0;n<e.length;n++)if(u)"'"!=e.charAt(n)||r("'")?c+=e.charAt(n):u=!1;else switch(e.charAt(n)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":s=i.getYear(t),c+=r("y")?s:(s%100<10?"0":"")+s%100;break;case"h":var d=t.getHours();c+=l("h",d>12?d-12:0===d?12:d,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":u=!0;break;default:c+=e.charAt(n)}return c},parseDate:function(e,t,a){var n=se({},Be.defaults,a),s=n.defaultValue&&n.defaultValue.getTime?n.defaultValue:new Date;if(!e||!t)return s;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":N(t))?t.toString():t+"";var i,r=n.shortYearCutoff,l=n.getYear(s),o=n.getMonth(s)+1,c=n.getDay(s),u=-1,d=s.getHours(),h=s.getMinutes(),m=0,f=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,n=new RegExp("^\\d{1,"+a+"}"),s=t.substr(x).match(n);return s?(x+=s[0].length,parseInt(s[0],10)):0},g=function(e,a,n){var s,i=b(e)?n:a;for(s=0;s<i.length;s++)if(t.substr(x,i[s].length).toLowerCase()==i[s].toLowerCase())return x+=i[s].length,s+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){
  case"d":c=v("d");break;case"D":g("D",n.dayNamesShort,n.dayNames);break;case"o":u=v("o");break;case"m":o=v("m");break;case"M":o=g("M",n.monthNamesShort,n.monthNames);break;case"y":l=v("y");break;case"H":d=v("H");break;case"h":d=v("h");break;case"i":h=v("i");break;case"s":m=v("s");break;case"a":f=g("a",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"A":f=g("A",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),u>-1)for(o=1,c=u;;){var w=32-new Date(l,o-1,32,12).getDate();if(c<=w)break;o++,c-=w}d=f==-1?d:f&&d<12?d+12:f||12!=d?d:0;var _=n.getDate(l,o-1,c,d,h,m);return n.getYear(_)!=l||n.getMonth(_)+1!=o||n.getDay(_)!=c?s:_}};A.util.datetime=Be;var Xe=Be.adjustedDate,ze={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Ke=function e(t){function a(e){return e<10?"0"+e:e}function n(e){var t,a,n,s=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.start.getTime)for(n=new Date(a.start);n<=a.end;)s.push(Xe(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else s.push(a);return s}return e}function s(e,t,a,n){return Math.min(n,Math.floor(e/t)*t+a)}function i(e,t,a){return Math.floor((a-t)/e)*e+t}function r(e){return P.getYear(e)}function l(e){return P.getMonth(e)}function o(e){return P.getDay(e)}function c(e){var t=e.getHours();return t=J&&t>=12?t-12:t,s(t,ae,le,ue)}function u(e){return s(e.getMinutes(),ne,oe,de)}function d(e){return s(e.getSeconds(),ie,ce,he)}function h(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())}function p(e){return s(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),N,0,86400)}function b(e,t,a,n){var s;return void 0===F[t]||(s=+e[F[t]],isNaN(s))?a?ve[t](a):void 0!==O[t]?O[t]:ve[t](n):s}function v(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==F.dd&&(t=e[F.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==F.tt&&(t=t||a,t=new Date(t.getTime()+e[F.tt]%86400*1e3));var n=b(e,"y",t,a),s=b(e,"m",t,a),i=Math.min(b(e,"d",t,a),P.getMaxDayOfMonth(n,s)),r=b(e,"h",t,a);return P.getDate(n,s,i,J&&b(e,"a",t,a)?r+12:r,b(e,"i",t,a),b(e,"s",t,a),b(e,"u",t,a))}function g(e,t){var a,n,s=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<s.length;a++)n=s[a],void 0!==F[n]&&(i[F[n]]=ve[n](e)),t&&(O[n]=ve[n](e));return i}function y(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function x(e){return{value:e,display:(/yy/i.test(B)?e:(e+"").substr(2,2))+(P.yearSuffix||"")}}function w(e){return e}function _(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:K?y(f(K),t):void 0,max:G?y(f(G),t):void 0,data:function(a){var n=new Date((new Date).setHours(0,0,0,0)),s=t?new Date(864e5*a):new Date(1970,a,1);return t&&(s=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())),{invalid:t&&!S(s,!0),value:f(s),display:n.getTime()==s.getTime()?P.todayText:Be.formatDate(e,s,P)}},getIndex:function(e){return y(e,t)}}}function C(e){var t,a,n,s=[];for(/s/i.test(e)?a=ie:/i/i.test(e)?a=60*ne:/h/i.test(e)&&(a=3600*ae),N=pe.tt=a,t=0;t<86400;t+=a)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),s.push({value:t,display:Be.formatDate(e,n,P)});return{label:"",cssClass:"mbsc-dt-whl-time",data:s}}function T(){var t,n,s,i,r,l,o,c,u=0,d=[],h=[],m=[];if(e.match(/date/i)){for(t=R.split(/\|/.test(R)?"|":""),i=0;i<t.length;i++)if(s=t[i],l=0,s.length)if(/y/i.test(s)&&l++,/m/i.test(s)&&l++,/d/i.test(s)&&l++,l>1&&void 0===F.dd)F.dd=u,u++,h.push(_(s)),m=h,Y=!0;else if(/y/i.test(s)&&void 0===F.y)F.y=u,u++,h.push({cssClass:"mbsc-dt-whl-y",label:P.yearText,min:K?P.getYear(K):void 0,max:G?P.getYear(G):void 0,data:x,getIndex:w});else if(/m/i.test(s)&&void 0===F.m){for(F.m=u,o=[],u++,r=0;r<12;r++)c=B.replace(/[dy]/gi,"").replace(/mm/,a(r+1)+(P.monthSuffix||"")).replace(/m/,r+1+(P.monthSuffix||"")),o.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+P.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+P.monthNamesShort[r]+"</span>")});h.push({cssClass:"mbsc-dt-whl-m",label:P.monthText,data:o})}else if(/d/i.test(s)&&void 0===F.d){for(F.d=u,o=[],u++,r=1;r<32;r++)o.push({value:r,display:(/dd/i.test(B)?a(r):r)+(P.daySuffix||"")});h.push({cssClass:"mbsc-dt-whl-d",label:P.dayText,data:o})}d.push(h)}if(e.match(/time/i)){for(n=U.split(/\|/.test(U)?"|":""),i=0;i<n.length;i++)if(s=n[i],l=0,s.length&&(/h/i.test(s)&&l++,/i/i.test(s)&&l++,/s/i.test(s)&&l++,/a/i.test(s)&&l++),l>1&&void 0===F.tt)F.tt=u,u++,m.push(C(s));else if(/h/i.test(s)&&void 0===F.h){for(o=[],F.h=u,u++,r=le;r<(J?12:24);r+=ae)o.push({value:r,display:J&&0===r?12:/hh/i.test(X)?a(r):r});m.push({cssClass:"mbsc-dt-whl-h",label:P.hourText,data:o})}else if(/i/i.test(s)&&void 0===F.i){for(o=[],F.i=u,u++,r=oe;r<60;r+=ne)o.push({value:r,display:/ii/i.test(X)?a(r):r});m.push({cssClass:"mbsc-dt-whl-i",label:P.minuteText,data:o})}else if(/s/i.test(s)&&void 0===F.s){for(o=[],F.s=u,u++,r=ce;r<60;r+=ie)o.push({value:r,display:/ss/i.test(X)?a(r):r});m.push({cssClass:"mbsc-dt-whl-s",label:P.secText,data:o})}else/a/i.test(s)&&void 0===F.a&&(F.a=u,u++,m.push({cssClass:"mbsc-dt-whl-a",label:P.ampmText,data:/A/.test(s)?[{value:0,display:P.amText.toUpperCase()},{value:1,display:P.pmText.toUpperCase()}]:[{value:0,display:P.amText},{value:1,display:P.pmText}]}));m!=h&&d.push(m)}return d}function M(e){var t,a,n,s={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",s.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}s.format=t,a=e.attr("min"),n=e.attr("max"),a&&"undefined"!=a&&(s.min=Be.parseDate(t,a)),n&&"undefined"!=n&&(s.max=Be.parseDate(t,n))}return s}function D(e,t){var a,n,s=!1,i=!1,r=0,l=0,o=K?v(g(K)):-(1/0),c=G?v(g(G)):1/0;if(S(e))return e;if(e<o&&(e=o),e>c&&(e=c),a=e,n=e,2!==t)for(s=S(a,!0);!s&&a<c;)a=new Date(a.getTime()+864e5),s=S(a,!0),r++;if(1!==t)for(i=S(n,!0);!i&&n>o;)n=new Date(n.getTime()-864e5),i=S(n,!0),l++;return 1===t&&s?a:2===t&&i?n:l<=r&&i?n:a}function S(e,t){return!(!t&&e<K)&&(!(!t&&e>G)&&(!!V(e,j)||!V(e,W)))}function V(e,t){var a,n,s;if(t)for(n=0;n<t.length;n++)if(a=t[n],s=a+"",!a.start)if(a.getTime){if(e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0}else if(s.match(/w/i)){if(s=+s.replace("w",""),s==e.getDay())return!0}else if(s=s.split("/"),s[1]){if(s[0]-1==e.getMonth()&&s[1]==e.getDate())return!0}else if(s[0]==e.getDate())return!0;return!1}function k(e,t,a,n,s,i,r){var l,o,c,u;if(e)for(o=0;o<e.length;o++)if(l=e[o],u=l+"",!l.start)if(l.getTime)P.getYear(l)==t&&P.getMonth(l)==a&&(i[P.getDay(l)]=r);else if(u.match(/w/i))for(u=+u.replace("w",""),c=u-n;c<s;c+=7)c>=0&&(i[c+1]=r);else u=u.split("/"),u[1]?u[0]-1==a&&(i[u[1]]=r):i[u[0]]=r}function A(e,t,a,n,i,r,l,o){var c,u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D,S,V,k={},A=P.getDate(n,i,r),Y=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,d=y.d,M=d+"",D=M.split("/"),d&&(d.getTime&&n==P.getYear(d)&&i==P.getMonth(d)&&r==P.getDay(d)||!M.match(/w/i)&&(D[1]&&r==D[1]&&i==D[0]-1||!D[1]&&r==D[0])||M.match(/w/i)&&A.getDay()==+M.replace("w",""))&&(y.apply=!0,k[A]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=me[a],v=fe[a],_=!0,C=!0,u=!1,y.start&&(y.apply||!y.d&&!k[A])){for(x=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===w[g]&&(w[g]=59),x[g]=+x[g],w[g]=+w[g];if("tt"==a)b=s(Math.round((new Date(A).setHours(x[0],x[1],x[2])-new Date(A).setHours(0,0,0,0))/1e3),N,0,86400),v=s(Math.round((new Date(A).setHours(w[0],w[1],w[2])-new Date(A).setHours(0,0,0,0))/1e3),N,0,86400);else{for(x.unshift(x[0]>11?1:0),w.unshift(w[0]>11?1:0),J&&(x[1]>=12&&(x[1]=x[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==L[g]&&(S=s(x[g],pe[Y[g]],me[Y[g]],fe[Y[g]]),V=s(w[g],pe[Y[g]],me[Y[g]],fe[Y[g]]),h=0,m=0,f=0,J&&1==g&&(h=x[0]?12:0,m=w[0]?12:0,f=L[0]?12:0),_||(S=0),C||(V=fe[Y[g]]),(_||C)&&S+h<L[g]+f&&L[g]+f<V+m&&(u=!0),L[g]!=S&&(_=!1),L[g]!=V&&(C=!1));if(!o)for(g=t+1;g<4;g++)x[g]>0&&(c=pe[a]),w[g]<fe[Y[g]]&&(T=pe[a]);u||(S=s(x[t],pe[a],me[a],fe[a])+c,V=s(w[t],pe[a],me[a],fe[a])-T,_&&(b=S),C&&(v=V))}if(_||C||u)for(g=b;g<=v;g+=pe[a])l[g]=!o}}}var N,Y,I,F={},O={},L=[],H=M(te(this)),E=se({},t.settings),P=se(t.settings,Be.defaults,ze,H,E),W=n(P.invalid),j=n(P.valid),e=P.preset,$="datetime"==e?P.dateFormat+P.separator+P.timeFormat:"time"==e?P.timeFormat:P.dateFormat,q=H.format||$,R=P.dateWheels||P.dateFormat,U=P.timeWheels||P.timeFormat,B=P.dateWheels||P.dateDisplay,X=U,z=P.baseTheme||P.theme,K=P.min,G=P.max,Z=/time/i.test(e),J=/h/.test(X),Q=/D/.test(B),ee=P.steps||{},ae=ee.hour||P.stepHour||1,ne=ee.minute||P.stepMinute||1,ie=ee.second||P.stepSecond||1,re=ee.zeroBased,le=re||!K?0:K.getHours()%ae,oe=re||!K?0:K.getMinutes()%ne,ce=re||!K?0:K.getSeconds()%ie,ue=i(ae,le,J?11:23),de=i(ne,oe,59),he=i(ne,oe,59),me={y:K?K.getFullYear():-(1/0),m:0,d:1,h:le,i:oe,s:ce,a:0,tt:0},fe={y:G?G.getFullYear():1/0,m:11,d:31,h:ue,i:de,s:he,a:1,tt:86400},pe={y:1,m:1,d:1,h:ae,i:ne,s:ie,a:1,tt:1},be={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ve={y:r,m:l,d:o,h:c,i:u,s:d,u:h,a:m,dd:f,tt:p};return t.getDate=t.getVal=function(e){return t._hasValue||e?v(t.getArrayVal(e)):null},t.setDate=function(e,a,n,s,i){t.setArrayVal(g(e),a,i,s,n)},I=T(),t.format=$,t.order=F,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:P.nowText,icon:P.nowIcon,handler:"now"},{minWidth:Y&&Z?be[z]:void 0,compClass:"mbsc-dt",wheels:I,headerText:!!P.headerText&&function(){return Be.formatDate($,v(t.getArrayVal(!0)),P)},formatValue:function(e){return Be.formatDate(q,v(e),P)},parseValue:function(e){return e||(O={}),g(e?Be.parseDate(q,e,P):P.defaultValue&&P.defaultValue.getTime?P.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(e){var a,n,s,i,r=e.values,l=e.index,o=e.direction,c=t.settings.wheels[0][F.d],u=D(v(r),o),d=g(u),h=[],m={},f=ve.y(u),p=ve.m(u),b=P.getMaxDayOfMonth(f,p),y=!0,x=!0;if(te.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==F[t]){var a=me[t],s=fe[t],i=ve[t](u);if(h[F[t]]=[],y&&K&&(a=ve[t](K)),x&&G&&(s=ve[t](G)),"y"!=t&&"dd"!=t)for(n=me[t];n<=fe[t];n+=pe[t])(n<a||n>s)&&h[F[t]].push(n);if(i<a&&(i=a),i>s&&(i=s),y&&(y=i==a),x&&(x=i==s),"d"==t){var r=P.getDate(f,p,1).getDay(),l={};k(W,f,p,r,b,l,1),k(j,f,p,r,b,l,0),te.each(l,function(e,a){a&&h[F[t]].push(e)})}}}),Z&&te.each(["a","h","i","s","tt"],function(e,a){var n=ve[a](u),s=ve.d(u),i={};void 0!==F[a]&&(A(W,e,a,f,p,s,i,0),A(j,e,a,f,p,s,i,1),te.each(i,function(e,t){t&&h[F[a]].push(e)}),L[e]=t.getValidValue(F[a],n,o,i))}),c&&(c._length!==b||Q&&(void 0===l||l===F.y||l===F.m))){for(m[F.d]=c,c.data=[],a=1;a<=b;a++)i=P.getDate(f,p,a).getDay(),s=B.replace(/[my]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(P.daySuffix||"")).replace(/d/,a+(P.daySuffix||"")),c.data.push({value:a,display:s.match(/DD/)?s.replace(/DD/,'<span class="mbsc-dt-day">'+P.dayNames[i]+"</span>"):s.replace(/D/,'<span class="mbsc-dt-day">'+P.dayNamesShort[i]+"</span>")});t._tempWheelArray[F.d]=d[F.d],t.changeWheel(m)}return{disabled:h,valid:d}}}};te.each(["date","time","datetime"],function(e,t){A.presets.scroller[t]=Ke}),["date","time","datetime"].forEach(function(e){A.presetShort(e)});var Ge={invalid:[],showInput:!0,inputClass:""};A.presets.scroller.list=function(e){function t(e,t,n){for(var s=0,i=[];s<e;)i[s]=a(n,s,t),s++;return i}function a(e,t,a){for(var n,s=0,i=a,r=[];s<t;){var l=e[s];for(n in i)if(i[n].key==l){i=i[n].children;break}s++}for(s=0;s<i.length;)i[s].invalid&&r.push(i[s].key),s++;return r}function n(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}function s(e){var t,a=[];for(t=0;t<e;t++)a[t]=v.labels&&v.labels[t]?v.labels[t]:t;return a}function i(e,t,a){var n,s,i,o=0,c=[[]],u=D;if(t)for(n=0;n<t;n++)y?c[0][n]={}:c[n]=[{}];for(;o<e.length;){for(y?c[0][o]=l(u,S[o]):c[o]=[l(u,S[o])],n=0,i=void 0;n<u.length&&void 0===i;)u[n].key==e[o]&&(void 0!==a&&o<=a||void 0===a)&&(i=n),n++;if(void 0!==i&&u[i].children)o++,u=u[i].children;else{if(!(s=r(u))||!s.children)return c;o++,u=s.children}}return c}function r(e,t){if(!e)return!1;for(var a,n=0;n<e.length;)if(!(a=e[n++]).invalid)return t?n-1:a;return!1}function l(e,t){for(var a={data:[],label:t},n=0;n<e.length;)a.data.push({value:e[n].key,display:e[n].value}),n++;return a}function o(t){e._isVisible&&te(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,a=[],n=e,s=!0,i=0;s;)t=r(n),a[i++]=t.key,s=t.children,s&&(n=s);return a}function u(e,t){var a,n,s,i=[],l=D,o=0,c=!1;if(void 0!==e[o]&&o<=t)for(a=0,n=e[o],s=void 0;a<l.length&&void 0===s;)l[a].key!=e[o]||l[a].invalid||(s=a),a++;else s=r(l,!0),n=l[s].key;for(c=void 0!==s&&l[s].children,i[o]=n;c;){if(l=l[s].children,o++,c=!1,s=void 0,void 0!==e[o]&&o<=t)for(a=0,n=e[o],s=void 0;a<l.length&&void 0===s;)l[a].key!=e[o]||l[a].invalid||(s=a),a++;else s=r(l,!0),s=s===!1?void 0:s,n=l[s].key;c=!(void 0===s||!r(l[s].children))&&l[s].children,i[o]=n}return{lvl:o+1,nVector:i}}function d(t){var a=[];return C=C>T++?C:T,t.children("li").each(function(t){var n=te(this),s=n.clone();s.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(s):s.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!n.attr("data-invalid"),l={key:void 0===n.attr("data-val")||null===n.attr("data-val")?t:n.attr("data-val"),value:i,invalid:r,children:null},o=n.children("ul,ol");o.length&&(l.children=d(o)),a.push(l)}),T--,a}function h(t,a,n){var s,r=(a||0)+1,l=[],c={},u={};for(c=i(t,null,a),s=0;s<t.length;s++)e._tempWheelArray[s]=t[s]=n.nVector[s]||0;for(;r<n.lvl;)u[r]=y?c[0][r]:c[r][0],l.push(r++);o(n.lvl),M=t.slice(0),l.length&&(f=!0,e.changeWheel(u))}var m,f,p,b=se({},e.settings),v=se(e.settings,Ge,b),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),y="liquid"==g,x=v.readonly,w=te(this),_=this.id+"_dummy",C=0,T=0,M=[],D=v.wheelArray||d(w),S=s(C),V=c(D),k=i(V,C);return te("#"+_).remove(),v.input?m=te(v.input):v.showInput&&(m=te('<input type="text" id="'+_+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w)),m&&e.attachShow(m),v.wheelArray||w.hide(),{wheels:k,anchor:m,layout:g,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=u(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||V).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=i(t,C,C),f=!0},onWheelGestureStart:function(e){v.readonly=n(C,e.index)},onWheelAnimationEnd:function(t){var a=t.index,n=e.getArrayVal(!0),s=u(n,a);p=s.lvl,v.readonly=x,n[a]!=M[a]&&h(n,a,s)},onFill:function(e){p=void 0,m&&m.val(e.valueText)},validate:function(e){var a=e.values,n=e.index,s=u(a,a.length);return p=s.lvl,void 0===n&&(o(s.lvl),f||h(a,n,s)),f=!1,{disabled:t(p,D,a)}},onDestroy:function(){m&&te("#"+_).remove(),w.show()}}};var Ze=A.presets.scroller;A.presetShort("image"),Ze.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=te(t),t.is("img")?te('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),Ze.list.call(this,e)},A.presets.scroller.treelist=A.presets.scroller.list,A.presetShort("list"),A.presetShort("treelist");var Je=A.presets.scroller,Qe=A.classes,et=A.util,tt=et.datetime.adjustedDate,at=et.jsPrefix,nt=et.testTouch,st=et.getCoord,it=et.animEnd,rt=new Date,lt={min:new Date(rt.getFullYear()-100,0,1),max:new Date(rt.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};Je.calbase=function(e){function t(e){var t;Me=te(this),De=!1,"keydown"!=e.type?(Ce=st(e,"X"),Te=st(e,"Y"),t=nt(e,this)):t=32===e.keyCode,Se||!t||Me.hasClass("mbsc-fr-btn-d")||(Se=!0,setTimeout(s,100),"mousedown"==e.type&&te(document).on("mousemove",a).on("mouseup",n))}function a(e){(Math.abs(Ce-st(e,"X"))>7||Math.abs(Te-st(e,"Y"))>7)&&(Se=!1,Me.removeClass("mbsc-fr-btn-a"))}function n(e){"touchend"==e.type&&e.preventDefault(),Me&&!De&&s(),Se=!1,"mouseup"==e.type&&te(document).off("mousemove",a).off("mouseup",n)}function s(){De=!0,Me.hasClass("mbsc-cal-prev-m")?C():Me.hasClass("mbsc-cal-next-m")?_():Me.hasClass("mbsc-cal-prev-y")?M(Me):Me.hasClass("mbsc-cal-next-y")&&T(Me)}function i(e){return!(e<tt(de.getFullYear(),de.getMonth(),de.getDate()))&&(!(e>he)&&(void 0===ye[e]||void 0!==ge[e]))}function r(e,t,a){var n,s,i,r,l={},o=ht+Ae;return e&&te.each(e,function(e,c){if(n=c.d||c.start||c,s=n+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=tt(r.getFullYear(),r.getMonth(),r.getDate()),l[i]=l[i]||[],l[i].push(c),r.setDate(r.getDate()+1);else if(n.getTime)i=tt(n.getFullYear(),n.getMonth(),n.getDate()),l[i]=l[i]||[],l[i].push(c);else if(s.match(/w/i)){var u=+s.replace("w",""),d=0,h=Be.getDate(t,a-ht-Ne,1).getDay();for(Be.firstDay-h+1>1&&(d=7),I=0;I<5*ke;I++)i=Be.getDate(t,a-ht-Ne,7*I-d-h+1+u),l[i]=l[i]||[],l[i].push(c)}else if(s=s.split("/"),s[1])a+o>=11&&(i=Be.getDate(t+1,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c)),a-o<=1&&(i=Be.getDate(t-1,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c)),i=Be.getDate(t,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c);else for(I=0;I<ke;I++)i=Be.getDate(t,a-ht-Ne+I,s[0]),Be.getDay(i)==s[0]&&(l[i]=l[i]||[],l[i].push(c))}),l}function l(t,a){ye=r(Be.invalid,t,a),ge=r(Be.valid,t,a),e.onGenMonth(t,a)}function o(e,t,a,n,s,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(Be.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(Y=1;Y<=t;Y++)l+=Y<=12||Y>a?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[Y-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(n+Y-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[Y-13]:n+Y-13+s)+"</div></div></div>",Y<t&&(Y%12===0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(ut?"top":rt?"right":"left")+":"+100*Math.round(Y/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':Y%3===0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function c(t,a){var n,s,r,l,o,c,u,d,h,m,f,p,b,v,g,y,x=1,w=0,_=Be.getDate(t,a,1),C=Be.getYear(_),T=Be.getMonth(_),M=null!==Be.defaultValue||e._hasValue?e.getDate(!0):null,D=Be.getDate(C,T,1).getDay(),S='<div class="mbsc-cal-table">',V='<div class="mbsc-cal-week-nr-c">';for(Be.firstDay-D+1>1&&(w=7),y=0;y<42;y++)g=y+Be.firstDay-w,n=Be.getDate(C,T,g-D+1),r=n.getFullYear(),l=n.getMonth(),o=n.getDate(),c=Be.getMonth(n),u=Be.getDay(n),v=Be.getMaxDayOfMonth(r,l),d=r+"-"+l+"-"+o,h=se({valid:i(n),selected:M&&M.getFullYear()===r&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(n,M)),m=h.valid,f=h.selected,s=h.cssClass,p=new Date(n).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,qe[d]=h,y%7===0&&(S+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(Be.highlight&&M&&M-n>=0&&M-n<6048e5?" mbsc-cal-week-hl":"")+'">'),ze&&1==n.getDay()&&("month"==ze&&b&&x>1?x=1==o?1:2:"year"==ze&&(x=Be.getWeekNumber(n)),V+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),S+='<div role="button" tabindex="-1" aria-label="'+(p?Be.todayText+", ":"")+Be.dayNames[n.getDay()]+", "+Be.monthNames[c]+" "+u+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(b&&!Ie?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(m?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+d+'"class="mbsc-cal-day '+(Be.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+Be.todayClass:"")+(s?" "+s:"")+(1==u?" mbsc-cal-day-first":"")+(u==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(m?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?gt:"")+" "+(Be.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+u+"</div>"+(h.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return S+="</div></div>"+V+"</div>"}function u(e,t,a){var n=Be.getDate(e,t,1),s=Be.getYear(n),i=Be.getMonth(n),r=s+vt;if(dt){if(Le&&Le.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),He&&He.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),Le=te('.mbsc-cal-year-s[data-val="'+s+'"]',L).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),He=te('.mbsc-cal-month-s[data-val="'+i+'"]',L).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Le.find(".mbsc-cal-sc-cell-i").addClass(gt),He.find(".mbsc-cal-sc-cell-i").addClass(gt),Oe&&Oe.scroll(Le,a),te(".mbsc-cal-month-s",L).removeClass("mbsc-fr-btn-d"),s===ie)for(Y=0;Y<le;Y++)te('.mbsc-cal-month-s[data-val="'+Y+'"]',L).addClass("mbsc-fr-btn-d");if(s===re)for(Y=oe+1;Y<=12;Y++)te('.mbsc-cal-month-s[data-val="'+Y+'"]',L).addClass("mbsc-fr-btn-d")}for(1==ae.length&&ae.attr("aria-label",s).html(r),Y=0;Y<Ve;++Y)n=Be.getDate(e,t-Ne+Y,1),s=Be.getYear(n),i=Be.getMonth(n),r=s+vt,te(Q[Y]).attr("aria-label",Be.monthNames[i]+(mt?"":" "+s)).html((!mt&&ne<ee?r+" ":"")+G[i]+(!mt&&ne>ee?" "+r:"")),ae.length>1&&te(ae[Y]).html(r);Be.getDate(e,t-Ne-1,1)<ce?h(te(".mbsc-cal-prev-m",L)):d(te(".mbsc-cal-prev-m",L)),Be.getDate(e,t+Ve-Ne,1)>ue?h(te(".mbsc-cal-next-m",L)):d(te(".mbsc-cal-next-m",L)),Be.getDate(e,t,1).getFullYear()<=ce.getFullYear()?h(te(".mbsc-cal-prev-y",L)):d(te(".mbsc-cal-prev-y",L)),Be.getDate(e,t,1).getFullYear()>=ue.getFullYear()?h(te(".mbsc-cal-next-y",L)):d(te(".mbsc-cal-next-y",L))}function d(e){e.removeClass(wt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function h(e){e.addClass(wt).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function m(t){e.trigger("onDayHighlight",{date:t}),Be.highlight&&(te(".mbsc-cal-day-sel .mbsc-cal-day-i",E).removeClass(gt),te(".mbsc-cal-day-sel",E).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),te(".mbsc-cal-week-hl",E).removeClass("mbsc-cal-week-hl"),(null!==Be.defaultValue||e._hasValue)&&te('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',E).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(gt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function f(t,a){if(q&&("calendar"===we||a)){var n,s,i=Be.getDate(fe,pe,1),r=Math.abs(12*(Be.getYear(t)-Be.getYear(i))+Be.getMonth(t)-Be.getMonth(i));e.needsSlide&&r&&(fe=Be.getYear(t),pe=Be.getMonth(t),t>i?(s=r>ht-Ne+Ve-1,pe-=s?0:r-ht,n="next"):t<i&&(s=r>ht+Ne,pe+=s?0:r-ht,n="prev"),g(fe,pe,n,Math.min(r,ht),s,!0)),a||(me=t,m(t)),e.needsSlide=!0}}function p(t,a,n){for(n||e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),Y=0;Y<ke;Y++)We[Y].html(c(t,a-Ne-ht+Y));v(),Ye=void 0,e.trigger("onMonthLoaded",{year:t,month:a})}function b(e,t){for(var a=ht,n=ht;n&&Be.getDate(e,t+n+Ve-Ne-1,1)>ue;)n--;for(;a&&Be.getDate(e,t-a-Ne,1)<ce;)a--;se(Z.settings,{contSize:Ve*W,snap:W,minScroll:j-(rt?a:n)*W,maxScroll:j+(rt?n:a)*W}),Z.refresh()}function v(){ze&&X.html(te(".mbsc-cal-week-nr-c",We[ht]).html()),te(".mbsc-cal-slide-a .mbsc-cal-day",P).attr("tabindex",0)}function g(t,a,n,s,i,r,o){if(t&&je.push({y:t,m:a,dir:n,slideNr:s,load:i,active:r,callback:o}),!_e&&je.length){var d,h=je.shift();if(t=h.y,a=h.m,n="next"===h.dir,s=h.slideNr,i=h.load,r=h.active,o=h.callback||Re,d=Be.getDate(t,a,1),t=Be.getYear(d),a=Be.getMonth(d),_e=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),i)for(Y=0;Y<Ve;Y++)We[n?ke-Ve+Y:Y].html(c(t,a-Ne+Y));r&&Pe.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(Be.monthNames[a]+" "+t),u(t,a,200),j=n?j-W*s*ot:j+W*s*ot,Z.scroll(j,r?200:0,!1,function(){var r;if(B=j,We.length){if(Pe.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),n)for(r=We.splice(0,s),Y=0;Y<s;Y++)We.push(r[Y]),x(We[We.length-1],+We[We.length-2].attr("data-curr")+100*ot);else for(r=We.splice(ke-s,s),Y=s-1;Y>=0;Y--)We.unshift(r[Y]),x(We[0],+We[1].attr("data-curr")-100*ot);for(Y=0;Y<s;Y++)We[n?ke-s+Y:Y].html(c(t,a-Ne-ht+Y+(n?ke-s:0))),i&&We[n?Y:ke-s+Y].html(c(t,a-Ne-ht+Y+(n?0:ke-s)));for(Y=0;Y<Ve;Y++)We[ht+Y].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");b(t,a),_e=!1}je.length?setTimeout(function(){g()},10):(fe=t,pe=a,e.changing=!1,te(".mbsc-cal-day",P).attr("tabindex",-1),v(),void 0!==Ye?p(t,a,Ye):e.trigger("onMonthLoaded",{year:t,month:a}),o())})},10)}}function y(){var t=te(this),a=e.live,n=e.getDate(!0),s=t.attr("data-full"),i=s.split("-"),r=tt(i[0],i[1],i[2]),l=tt(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),o=t.hasClass("mbsc-cal-day-sel");!Ie&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",se(qe[s],{date:l,target:this,selected:o}))!==!1&&(e.needsSlide=!1,$=!0,e.setDate(l,a,.2,!a,!0),Be.outerMonthChange&&(Se=!0,r<Be.getDate(fe,pe-Ne,1)?C():r>Be.getDate(fe,pe-Ne+Ve,0)&&_(),Se=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function x(e,t){e.attr("data-curr",t),e[0].style[at+"Transform"]="translate3d("+(ut?"0,"+t+"%,":t+"%,0,")+"0)"}function w(t){e.isVisible()&&q&&(e.changing?Ye=t:p(fe,pe,t))}function _(){Se&&Be.getDate(fe,pe+Ve-Ne,1)<=ue&&g(fe,++pe,"next",1,!1,!0,_)}function C(){Se&&Be.getDate(fe,pe-Ne-1,1)>=ce&&g(fe,--pe,"prev",1,!1,!0,C)}function T(e){Se&&Be.getDate(fe,pe,1)<=Be.getDate(Be.getYear(ue)-1,Be.getMonth(ue)-Ae,1)?g(++fe,pe,"next",ht,!0,!0,function(){T(e)}):Se&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(ue),Be.getMonth(ue)-Ae,"next",ht,!0,!0)}function M(e){Se&&Be.getDate(fe,pe,1)>=Be.getDate(Be.getYear(ce)+1,Be.getMonth(ce)+Ne,1)?g(--fe,pe,"prev",ht,!0,!0,function(){M(e)}):Se&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(ce),Be.getMonth(ce)+Ne,"prev",ht,!0,!0)}function D(t,a){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(a?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function S(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function V(e,t){(t||e).hasClass("mbsc-cal-v")?S(e):D(e)}function k(){te(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function A(e){return e[0].innerWidth||e.innerWidth()}var N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,B,X,z,K,G,Z,J,Q,ee,ae,ne,ie,re,le,oe,ce,ue,de,he,me,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,Me,De,Se,Ve,ke,Ae,Ne,Ye,Ie,Fe,Oe,Le,He,Ee=this,Pe=[],We=[],je=[],$e={},qe={},Re=function(){},Ue=se({},e.settings),Be=se(e.settings,lt,Ue),Xe="full"==Be.weekDays?"":"min"==Be.weekDays?"Min":"Short",ze=Be.weekCounter,Ke=Be.layout||(/top|bottom|inline/.test(Be.display)?"liquid":""),Ge="liquid"==Ke&&"bubble"!==Be.display,Ze="center"==Be.display,rt=Be.rtl,ot=rt?-1:1,ct=Ge?null:Be.calendarWidth,ut="vertical"==Be.calendarScroll,dt=Be.quickNav,ht=Be.preMonths,mt=Be.yearChange,ft=Be.controls.join(","),pt=(Be.tabs===!0||Be.tabs!==!1&&Ge)&&Be.controls.length>1,bt=!pt&&void 0===Be.tabs&&!Ge&&Be.controls.length>1,vt=Be.yearSuffix||"",gt=Be.activeClass||"",yt="mbsc-cal-tab-sel "+(Be.activeTabClass||""),xt=Be.activeTabInnerClass||"",wt="mbsc-fr-btn-d "+(Be.disabledClass||""),_t=ut?"Y":"X",Ct="",Tt="";return ft.match(/calendar/)?q=!0:dt=!1,ft.match(/date/)&&($e.date=1),ft.match(/time/)&&($e.time=1),q&&$e.date&&(pt=!0,bt=!1),Be.layout=Ke,Be.preset=($e.date||q?"date":"")+($e.time?"time":""),"inline"==Be.display&&te(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Re,e.onGenMonth=Re,e.prepareObj=r,e.refresh=function(){w(!1)},e.redraw=function(){w(!0)},e.navigate=function(t,a){var n,s,i=e.isVisible();je=[],a&&i?f(t,!0):(n=Be.getYear(t),s=Be.getMonth(t),!i||n==fe&&s==pe||(_e=!1,e.changing=!1,e.trigger("onMonthChange",{year:n,month:s}),u(n,s),p(n,s),j=B,Z.scroll(j),b(t.getFullYear(),t.getMonth())),fe=n,pe=s)},e.showMonthView=function(){dt&&!K&&(S(Tt,!0),S(Ct,!0),D(z,!0),K=!0)},e.changeTab=function(t){e._isVisible&&$e[t]&&we!=t&&(we=t,te(".mbsc-cal-pnl",L).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),te(".mbsc-cal-tab",L).removeClass(yt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(xt),te('.mbsc-cal-tab[data-control="'+t+'"]',L).addClass(yt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(xt),$e[we].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==we&&(N=e.getDate(!0),N.getFullYear()===me.getFullYear()&&N.getMonth()===me.getMonth()&&N.getDate()===me.getDate()||f(N)),e.showMonthView(),e.trigger("onTabChange",{tab:we}))},F=Je.datetime.call(this,e),ee=(Be.dateWheels||Be.dateFormat).search(/m/i),ne=(Be.dateWheels||Be.dateFormat).search(/y/i),se(F,{ariaMessage:Be.calendarText,onMarkupReady:function(s){var i,r,l="";if(L=te(s.target),H="inline"==Be.display?te(this).is("div")?te(this):te(this).parent():e._window,me=e.getDate(!0),fe||(fe=Be.getYear(me),pe=Be.getMonth(me)),j=0,B=0,U=!0,_e=!1,G=Be.monthNames,we="calendar",Be.min&&(ce=tt(Be.min.getFullYear(),Be.min.getMonth(),1),de=Be.min),Be.max&&(ue=tt(Be.max.getFullYear(),Be.max.getMonth(),1),he=Be.max),L.addClass("mbsc-calendar"),O=te(".mbsc-fr-popup",L),xe=te(".mbsc-fr-c",L),$e.date?$e.date=te(".mbsc-sc-whl-gr-c",L).eq(0):q&&te(".mbsc-sc-whl-gr-c",L).eq(0).addClass("mbsc-cal-hdn"),$e.time&&($e.time=te(".mbsc-sc-whl-gr-c",L).eq(1)),q){for(Ve="auto"==Be.months?Math.max(1,Math.min(3,Math.floor((ct||A(H))/280))):Be.months,ke=Ve+2*ht,Ae=Math.floor(Ve/2),Ne=Math.round(Ve/2)-1,Ie=void 0===Be.showOuterDays?Ve<2:Be.showOuterDays,ut=ut&&Ve<2,r='<div class="mbsc-cal-btnw"><div class="'+(rt?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevMonthText+'"></div></div>',Y=0;Y<Ve;++Y)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/Ve+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(rt?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextMonthText+'"></div></div></div>',mt&&(l='<div class="mbsc-cal-btnw"><div class="'+(rt?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(rt?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextYearText+'"></div></div></div>'),dt&&(ie=Be.getYear(ce),re=Be.getYear(ue),le=Be.getMonth(ce),oe=Be.getMonth(ue),ve=Math.ceil((re-ie+1)/12)+2,Ct=o("month",36,24,0,"",Be.monthNames,Be.monthNamesShort),Tt=o("year",12*ve,re-ie+13,ie,vt)),R='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(Ve>1?" mbsc-cal-multi ":"")+(ze?" mbsc-cal-weeks ":"")+(ut?" mbsc-cal-vertical":"")+(Ie?"":" mbsc-cal-hide-diff ")+(Be.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(mt?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(ne<ee||Ve>1?l+r:r+l)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              I=0;I<Ve;++I){for(R+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/Ve+'%"><table cellpadding="0" cellspacing="0"><tr>',Y=0;Y<7;Y++)R+="<th>"+Be["dayNames"+Xe][(Y+Be.firstDay)%7]+"</th>";R+="</tr></table></div>"}for(R+='</div><div class="mbsc-cal-week-nrs-c '+(Be.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(Be.calendarClass||"")+'"><div class="mbsc-cal-anim">',Y=0;Y<Ve+2*ht;Y++)R+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';R+="</div></div></div>"+Ct+Tt+"</div></div></div>",$e.calendar=te(R)}if(te.each(Be.controls,function(e,t){$e[t]=te('<div class="mbsc-cal-pnl" id="'+(Ee.id+"_dw_pnl_"+e)+'"></div>').append(te('<div class="mbsc-cal-pnl-i"></div>').append($e[t])).appendTo(xe)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',te.each(Be.controls,function(e,t){$e[t]&&(i+='<li role="tab" aria-controls="'+(Ee.id+"_dw_pnl_"+e)+'" class="mbsc-cal-tab '+(e?"":yt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":xt)+'">'+Be[t+"Text"]+"</a></li>")}),i+="</ul></div>",xe.before(i),E=te(".mbsc-cal-anim-c",L),P=te(".mbsc-cal-anim",E),X=te(".mbsc-cal-week-nrs",L),q){for(K=!0,Pe=te(".mbsc-cal-slide",P).each(function(e,t){We.push(te(t))}),Pe.slice(ht,ht+Ve).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),Y=0;Y<ke;Y++)x(We[Y],100*(Y-ht)*ot);p(fe,pe),Z=new Qe.ScrollView(E[0],{axis:_t,easing:"",contSize:0,snap:1,maxSnapScroll:ht,moveElement:P,mousewheel:Be.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round((e["pos"+_t]-j)/W)*ot;t&&g(fe,pe-t,t>0?"prev":"next",t>0?t:-t)}})}Q=te(".mbsc-cal-month",L),ae=te(".mbsc-cal-year",L),z=te(".mbsc-cal-m-c",L),dt&&(z.on(it,k),Ct=te(".mbsc-cal-month-c",L).on(it,k),Tt=te(".mbsc-cal-year-c",L).on(it,k),Fe=te(".mbsc-cal-sc-p",L),be={axis:_t,contSize:0,snap:1,maxSnapScroll:1,rtl:Be.rtl,mousewheel:Be.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Oe=new Qe.ScrollView(Tt[0],be),J=new Qe.ScrollView(Ct[0],be)),Ge?L.addClass("mbsc-cal-liq"):te(".mbsc-cal",L).width(ct||280*Ve),Be.calendarHeight&&te(".mbsc-cal-anim-c",L).height(Be.calendarHeight),e.tap(E,function(e){var t=te(e.target);_e||Z.scrolled||Be.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&y.call(t[0]))}),te(".mbsc-cal-btn",L).on("touchstart mousedown keydown",t).on("touchmove",a).on("touchend touchcancel keyup",n),te(".mbsc-cal-tab",L).on("touchstart click",function(t){nt(t,this)&&e.changeTab(te(this).attr("data-control"))}),dt&&(e.tap(te(".mbsc-cal-month",L),function(){Tt.hasClass("mbsc-cal-v")||(V(z),K=z.hasClass("mbsc-cal-v")),V(Ct),S(Tt)}),e.tap(te(".mbsc-cal-year",L),function(){Tt.hasClass("mbsc-cal-v")||Oe.scroll(Le),Ct.hasClass("mbsc-cal-v")||(V(z),K=z.hasClass("mbsc-cal-v")),V(Tt),S(Ct)}),e.tap(te(".mbsc-cal-month-s",L),function(){J.scrolled||te(this).hasClass("mbsc-fr-btn-d")||e.navigate(Be.getDate(fe,te(this).attr("data-val"),1))}),e.tap(te(".mbsc-cal-year-s",L),function(){Oe.scrolled||(N=Be.getDate(fe,pe,1),N=Be.getDate(te(this).attr("data-val"),N.getMonth(),1),e.navigate(new Date(et.constrain(N,ce,ue))))}),e.tap(Tt,function(){Oe.scrolled||(S(Tt),D(z),K=!0)}),e.tap(Ct,function(){J.scrolled||(S(Ct),D(z),K=!0)}))},onShow:function(){q&&u(fe,pe)},onPosition:function(t){var a,n,s,i,r,l,o=0,c=0,u=0,d=t.windowHeight;if(Ge&&(Ze&&E.height(""),xe.height(""),P.width("")),W&&(r=W),q&&(W=Math.round(Math.round(E[0][ut?"offsetHeight":"offsetWidth"])/Ve)),W&&(L.removeClass("mbsc-cal-m mbsc-cal-l"),W>1024?L.addClass("mbsc-cal-l"):W>640&&L.addClass("mbsc-cal-m")),(pt&&(U||Ge)||bt)&&(te(".mbsc-cal-pnl",L).removeClass("mbsc-cal-pnl-h"),te.each($e,function(e,t){a=t[0].offsetWidth,o=Math.max(o,a),c=Math.max(c,t[0].offsetHeight),u+=a}),pt||bt&&u>A(H)?(n=!0,we=te(".mbsc-cal-tabs .mbsc-cal-tab-sel",L).attr("data-control"),O.addClass("mbsc-cal-tabbed")):(we="calendar",o="",c="",O.removeClass("mbsc-cal-tabbed"),xe.css({width:"",height:""}))),Ge&&Ze&&q&&(e._isFullScreen=!0,n&&xe.height($e.calendar[0].offsetHeight),i=O[0].offsetHeight,d>=i&&E.height(d-i+E[0].offsetHeight),c=Math.max(c,$e.calendar[0].offsetHeight)),n&&(xe.css({width:Ge?"":o,height:c}),q&&(W=Math.round(Math.round(E[0][ut?"offsetHeight":"offsetWidth"])/Ve))),W){if(P[ut?"height":"width"](W),W!==r){if(mt)for(G=Be.maxMonthWidth>te(".mbsc-cal-btnw-m",L).width()?Be.monthNamesShort:Be.monthNames,Y=0;Y<Ve;++Y)te(Q[Y]).text(G[Be.getMonth(Be.getDate(fe,pe-Ne+Y,1))]);dt&&(l=Tt[0][ut?"offsetHeight":"offsetWidth"],se(Oe.settings,{contSize:l,snap:l,minScroll:(2-ve)*l,maxScroll:-l}),se(J.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),Oe.refresh(),J.refresh(),Tt.hasClass("mbsc-cal-v")&&Oe.scroll(Le)),Ge&&!U&&r&&(s=j/r,j=s*W,B=j),b(fe,pe)}}else W=r;n&&(te(".mbsc-cal-pnl",L).addClass("mbsc-cal-pnl-h"),$e[we].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),U=!1},onHide:function(){je=[],We=[],we=null,fe=null,pe=null,_e=!0,W=0,Z&&Z.destroy(),dt&&Oe&&J&&(Oe.destroy(),J.destroy())},onValidated:function(t){var a,n,s;if(n=e.getDate(!0),$)a="calendar";else for(s in e.order)s&&e.order[s]===t&&(a=/[mdy]/.test(s)?"date":"time");e.trigger("onSetDate",{date:n,control:a}),f(n),$=!1}}),F};var ot=A.util,ct=ot.datetime,ut=ct.adjustedDate,dt=A.presets.scroller,ht={};A.presetShort("calendar"),dt.calendar=function(e){function t(e){if(e){if(h[e])return h[e];var t=te('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,n=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),s=.299*n[0]+.587*n[1]+.114*n[2],i=s>130?"#000":"#fff";return t.remove(),h[e]=i,i}}function a(e){return ut(e.getFullYear(),e.getMonth(),e.getDate())}function n(e){if(y={},e&&e.length)for(o=0;o<e.length;o++)y[a(e[o])]=e[o]}function s(){e.refresh()}var i,r,l,o,c,u,d,h={},m=se({},e.settings),f=se(e.settings,ht,m),p=f.activeClass||"",b="multiple"==f.select||f.select>1||"week"==f.selectType,v=ot.isNumeric(f.select)?f.select:1/0,g=!!f.events,y={};if(d=dt.calbase.call(this,e),i=se({},d),l=void 0===f.firstSelectDay?f.firstDay:f.firstSelectDay,b&&f.defaultValue&&f.defaultValue.length)for(o=0;o<f.defaultValue.length;o++)y[a(f.defaultValue[o])]=f.defaultValue[o];return e.onGenMonth=function(t,a){c=e.prepareObj(f.events||f.marked,t,a)},e.getDayProps=function(e){var a,n=b?void 0!==y[e]:void 0,s=!!c[e]&&c[e],i=s&&s[0]&&s[0].text,r=s&&s[0]&&s[0].color,l=g&&i?t(r):"",o="",u="";if(s){for(a=0;a<s.length;a++)s[a].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+s[a].icon+'"'+(s[a].text?"":s[a].color?' style="color:'+s[a].color+';"':"")+"></span>\n");for(u='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<s.length;a++)u+='<div class="mbsc-cal-day-m-c"'+(s[a].color?' style="background:'+s[a].color+';"':"")+"></div>";u+="</div></div>"}return{marked:s,selected:n,cssClass:s?"mbsc-cal-day-marked":"",ariaLabel:g?i:"",markup:g&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+te("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+i+"</div></div>":g&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":s?u:""}},e.addValue=function(e){y[a(e)]=e,s()},e.removeValue=function(e){delete y[a(e)],s()},e.setVal=function(t,a,i,r,l){b&&(n(t),t=t?t[0]:null),e._setVal(t,a,i,r,l),s()},e.getVal=function(t){return b?ot.objectToArray(y):e.getDate(t)},se(d,{highlight:!b,outerMonthChange:!b,parseValue:function(t){var n,s;if(b&&t&&"string"==typeof t){for(y={},t=t.split(","),n=0;n<t.length;n++)s=ct.parseDate(e.format,t[n].replace(/^\s+|\s+$/g,""),f),y[a(s)]=s;t=t[0]}return b&&f.defaultValue&&f.defaultValue.length&&(f.defaultValue=f.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var a,n=[];if(b){for(a in y)n.push(ct.formatDate(e.format,y[a],f));return n.join(", ")}return i.formatValue.call(this,t)},onClear:function(){b&&(y={},e.refresh())},onBeforeShow:function(){void 0!==f.setOnDayTap||f.buttons&&f.buttons.length||(f.setOnDayTap=!0),f.setOnDayTap&&"inline"!=f.display&&(f.outerMonthChange=!1),f.counter&&b&&(f.headerText=function(){var e=0,t="week"==f.selectType?7:1;return te.each(y,function(){e++}),e=Math.round(e/t),(e>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=te(e.target),b&&(te(".mbsc-fr-hdr",r).attr("aria-live","off"),u=se({},y)),g&&te(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var n=t.date,i=a(n),o=te(t.target),c=t.selected;if(b)if("week"==f.selectType){var u,d,h=i.getDay()-l;for(h=h<0?7+h:h,"multiple"!=f.select&&(y={}),u=0;u<7;u++)d=ut(i.getFullYear(),i.getMonth(),i.getDate()-h+u),c?delete y[d]:ot.objectToArray(y).length/7<v&&(y[d]=d);s()}else{var m=te('.mbsc-cal .mbsc-cal-day[data-full="'+o.attr("data-full")+'"]',r);c?(m.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p),delete y[i]):ot.objectToArray(y).length<v&&(m.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(p),y[i]=i)}if(f.setOnDayTap&&"multiple"!=f.select&&"inline"!=f.display)return e.needsSlide=!1,e.setDate(n),e.select(),!1},onCancel:function(){!e.live&&b&&(y=se({},u))}}),d};var mt={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};A.presetShort("timespan"),A.presets.scroller.timespan=function(e){function t(e){var t={};return te(p).each(function(a,n){t[n]=y[n]?Math.floor(e/b[n].limit):0,e-=t[n]*b[n].limit}),t}function a(e){var t=!1,a=g[y[e]-1]||1,s=b[e],i=s.label,l=s.wheel;if(l.data=[],l.label=s.label,m.match(new RegExp(s.re+s.re,"i"))&&(t=!0),e==x)l.min=c[e],l.max=u[e],l.data=function(e){return{value:e*a,display:n(e*a,t,i)}},l.getIndex=function(e){return Math.round(e/a)};else for(r=0;r<=s.until;r+=a)l.data.push({value:r,display:n(r,t,i)})}function n(e,t,a){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+a+"</span>"}function s(e){var t=0,a=0;return te.each(v,function(n,s){isNaN(+e[t])||(a+=b[s.v].limit*e[n])}),a}function i(e,t){return Math.floor(e/t)*t}var r,l,o,c,u,d=se({},e.settings),h=se(e.settings,mt,d),m=h.wheelOrder,f=h.useShortLabels?h.labelsShort:h.labels,p=["years","months","days","hours","minutes","seconds"],b={years:{ord:0,index:6,until:10,limit:31536e6,label:f[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:f[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:f[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:f[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:f[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:f[5],re:"s",wheel:{}}},v=[],g=h.steps||[],y={},x="seconds",w=h.defaultValue||Math.max(h.min,Math.min(0,h.max)),_=[[]];return te(p).each(function(e,t){l=m.search(new RegExp(b[t].re,"i")),l>-1&&(v.push({o:l,v:t}),b[t].index>b[x].index&&(x=t))}),v.sort(function(e,t){return e.o>t.o?1:-1}),te.each(v,function(e,t){y[t.v]=e+1,_[0].push(b[t.v].wheel)}),c=t(h.min),u=t(h.max),te.each(v,function(e,t){a(t.v)}),e.getVal=function(t,a){return a?e._getVal(t):e._hasValue||t?s(e.getArrayVal(t)):null},{showLabel:!0,wheels:_,compClass:"mbsc-ts",parseValue:function(e){var a,n=[];return A.util.isNumeric(e)||!e?(o=t(e||w),te.each(v,function(e,t){n.push(o[t.v])})):te.each(v,function(t,s){a=new RegExp("(\\d+)\\s?("+h.labels[b[s.v].ord]+"|"+h.labelsShort[b[s.v].ord]+")","gi").exec(e),n.push(a?a[1]:0)}),te(n).each(function(e,t){n[e]=i(t,g[e]||1)}),n},formatValue:function(e){var t="";return te.each(v,function(a,n){t+=+e[a]?e[a]+" "+b[n.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(a){var n,i,r,l,o=a.values,d=a.direction,h=[],m=!0,f=!0;return te(p).each(function(a,p){if(void 0!==y[p]){if(r=y[p]-1,h[r]=[],l={},p!=x){if(m)for(i=u[p]+1;i<=b[p].until;i++)l[i]=!0;if(f)for(i=0;i<c[p];i++)l[i]=!0}o[r]=e.getValidValue(r,o[r],d,l),n=t(s(o)),m=m&&n[p]==u[p],f=f&&n[p]==c[p],te.each(l,function(e){h[r].push(e)})}}),{disabled:h}}}};var ft={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};A.presetShort("timer"),A.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function a(e){var a={};if(O&&T[Y].index>T.days.index){var n,s,i,r,l=new Date,o=b?l:F,c=b?F:l;for(c=t(c),o=t(o),a.years=o.getFullYear()-c.getFullYear(),a.months=o.getMonth()-c.getMonth(),a.days=o.getDate()-c.getDate(),a.hours=o.getHours()-c.getHours(),a.minutes=o.getMinutes()-c.getMinutes(),a.seconds=o.getSeconds()-c.getSeconds(),a.fract=(o.getMilliseconds()-c.getMilliseconds())/10,n=C.length;n>0;n--)s=C[n-1],i=T[s],r=C[te.inArray(s,C)-1],T[r]&&a[s]<0&&(a[r]--,a[s]+="months"==r?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==Y&&(a.months+=12*a.years,delete a.years)}else te(C).each(function(t,n){T[n].index<=T[Y].index&&(a[n]=Math.floor(e/T[n].limit),e-=a[n]*T[n].limit)});return a}function n(e){var t=1,a=T[e],n=a.wheel,i=a.prefix,r=0,l=a.until,c=T[C[te.inArray(e,C)-1]];if(a.index<=T[Y].index&&(!c||c.limit>N))if(M[e]||L[0].push(n),M[e]=1,n.data=[],n.label=a.label||"",n.cssClass="mbsc-timer-whl-"+e,N>=a.limit&&(t=Math.max(Math.round(N/a.limit),1),u=t*a.limit),e==Y)n.min=0,n.data=function(e){return{value:e,display:s(e,i,a.label)}},n.getIndex=function(e){return e};else for(o=r;o<=l;o+=t)n.data.push({value:o,display:s(o,i,a.label)})}function s(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function i(e){var t,n=[],s=a(e);return te(C).each(function(e,a){M[a]&&(t=Math.max(Math.round(N/T[a].limit),1),n.push(Math.round(s[a]/t)*t))}),n}function r(e){O?(f=F-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==F?(A=!1,f=1e3*F,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function l(){V?(te(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),te(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&te(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&te(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(te(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&te(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&te(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(te(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),te(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&te(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&te(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(te(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&te(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&te(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,u,d,h,m,f,p,b,v,g,y=se({},e.settings),x=se(e.settings,ft,y),w=x.useShortLabels?x.labelsShort:x.labels,_=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,until:10,limit:31536e6,label:w[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:w[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:w[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:w[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:w[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:w[5],wheel:{}},fract:{index:0,until:99,limit:10,label:w[6],prefix:".",wheel:{}}},M={},D=[],S=0,V=!1,k=!0,A=!1,N=Math.max(10,1e3*x.step),Y=x.maxWheel,I="stopwatch"==x.mode||O,F=x.targetTime,O=F&&void 0!==F.getTime,L=[[]];return e.start=function(){if(k&&e.reset(),!V){if(r(),!A&&p>=f)return;V=!0,k=!1,h=new Date,d=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-h+d,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,u-10)),!A&&p+u>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),k=!0},f-p))},u),l(),e.trigger("onStart")}},e.stop=function(){V&&(V=!1,clearInterval(c),p=new Date-h+d,l(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){V?e.stop():e.start()},e.reset=function(){e.stop(),p=0,D=[],S=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=I,k=!0,I||te(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){V&&(m=new Date-h+d,g=m-S,S=m,D.push(m),e.trigger("onLap",{ellapsed:m,lap:g,laps:D}))},e.resetlap=function(){V&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){F=e/1e3,f=e},e.getEllapsedTime=function(){return V?new Date-h+d:0},e.setEllapsedTime=function(t,a){k||(d=p=t,h=new Date,e.setVal(i(b?p:f-p),!0,a,!1,100))},r(!0),Y||f||(Y="minutes"),"inline"!==x.display&&_.push("hide"),Y||te(C).each(function(e,t){if(!Y&&f>=T[t].limit)return Y=t,!1}),te(C).each(function(e,t){n(t)}),u=Math.max(87,u),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:L,headerText:!1,readonly:I,buttons:_,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",a=0;return te(C).each(function(n,s){"fract"!=s&&M[s]&&(t+=e[a]+("seconds"==s&&M.fract?"."+e[a+1]:"")+" "+w[n]+" ",a++)}),t},validate:function(e){var t=e.values,a=e.index,n=0;k&&void 0!==a&&(F=0,te(C).each(function(e,a){M[a]&&(F+=T[a].limit*t[n],n++)}),F/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=te(e.target),l(),I&&te(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){te(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",te(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var pt=function(){},bt=function(e,t,a){var n,s,i,r,l=this;A.classes.Base.call(this,e,t,!0),l.__init=pt,l.__destroy=pt,l._init=function(t){var a;r=l.settings,n=te(e),a=!!s,s=n.parent(),s=s.hasClass("mbsc-input-wrap")?s.parent():s,l._$parent=s,i&&s.removeClass(i),i=l._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),s.addClass(i),n.addClass("mbsc-control"),l.__init(t),a||l._attachChange(),l.refresh()},l._destroy=function(){l.__destroy(),s.removeClass(i),n.removeClass("mbsc-control")},a||l.init(t)};bt.prototype={_class:"progressbase"};var vt="mbsc-input-wrap",gt=function(e,t,a){function n(){var e=s("value",h);e!==b&&i(e)}function s(e,t){var a=l.attr(e);return void 0===a||""===a?t:+a}function i(e,t,a,n){e=Math.min(m,Math.max(e,h)),c.css("width",100*(e-h)/(m-h)+"%"),void 0===a&&(a=!0),void 0===n&&(n=a),(e!==b||t)&&x._display(e),e!==b&&(b=e,a&&l.attr("value",b),n&&l.trigger("change"))}var r,l,o,c,u,d,h,m,f,p,b,y,x=this;bt.call(this,e,t,!0),x._display=function(e){y=p&&f.returnAffix?p.replace(/\{value\}/,e).replace(/\{max\}/,m):e,u&&u.html(y),r&&r.html(y)},x._attachChange=function(){l.on("change",n)},x.__init=function(t){var a,n,i,y;if(f=x.settings,l=te(e),y=!!o,o=x._$parent,h=x._min=void 0===t.min?s("min",f.min):t.min,m=x._max=void 0===t.max?s("max",f.max):t.max,b=s("value",h),a=l.attr("data-val")||f.val,i=l.attr("data-step-labels"),i=i?JSON.parse(i):f.stepLabels,p=l.attr("data-template")||(100!=m||f.template?f.template:"{value}%"),y?(a&&(r.remove(),o.removeClass("mbsc-progress-value-"+("right"==a?"right":"left"))),i&&te(".mbsc-progress-step-label",d).remove()):(g(o),v(l),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=x._$progress=o.find(".mbsc-progress-bar"),d=x._$track=o.find(".mbsc-progress-track")),l.attr("min",h).attr("max",m),a&&(r=te('<span class="mbsc-progress-value"></span>'),o.addClass("mbsc-progress-value-"+("right"==a?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(n=0;n<i.length;++n)d.append('<span class="mbsc-progress-step-label" style="'+(f.rtl?"right":"left")+": "+100*(i[n]-h)/(m-h)+'%" >'+i[n]+"</span>");u=te(l.attr("data-target")||f.target)},x.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),o.find(".mbsc-input-ic").remove(),l.off("change",n)},x.refresh=function(){i(s("value",h),!0,!1)},x.getVal=function(){return b},x.setVal=function(e,t,a){i(e,!0,t,a)},a||x.init(t)};gt.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,returnAffix:!0}},A.classes.Progress=gt,A.presetShort("progress","Progress");var yt=function(){},xt=A.util,wt=xt.getCoord,_t=xt.testTouch,Ct=function(e,t,a){function n(t){!_t(t,this)||C||e.disabled||(E.stopProp&&t.stopPropagation(),C=!0,O=!1,T=!1,W=wt(t,"X"),j=wt(t,"Y"),V=W,_.removeClass("mbsc-progress-anim"),v=L?te(".mbsc-slider-handle",this):y,g&&g.removeClass("mbsc-handle-curr"),g=v.parent().addClass("mbsc-active mbsc-handle-curr"),A=+v.attr("data-index"),R=_[0].offsetWidth,S=_[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),te(document).on("mousemove",s).on("mouseup",i)))}function s(e){C&&(V=wt(e,"X"),k=wt(e,"Y"),M=V-W,D=k-j,(Math.abs(M)>5||O)&&(O=!0,Math.abs(X-new Date)>50&&(X=new Date,m(V,E.round,Y))),O?e.preventDefault():Math.abs(D)>7&&h(e))}function i(e){C&&(e.preventDefault(),L||_.addClass("mbsc-progress-anim"),m(V,!0,!0),O||T||("touchend"==e.type&&xt.preventClick(),B._onTap(U[A])),h())}function r(){C&&h()}function l(){var e=B._readValue(te(this)),t=+te(this).attr("data-index");e!==U[t]&&(U[t]=e,p(e,t))}function o(e){e.stopPropagation()}function c(e){e.preventDefault()}function u(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),q||(A=+te(this).attr("data-index"),p(U[A]+H*a,A,!0),q=setInterval(function(){p(U[A]+H*a,A,!0)},200)))}}function d(e){e.preventDefault(),clearInterval(q),q=null}function h(){C=!1,g.removeClass("mbsc-active"),te(document).off("mousemove",s).off("mouseup",i)}function m(e,t,a){var n=t?Math.min(Math.round(Math.max(100*(e-S)/R,0)/P/H)*H*100/(I-F),100):Math.max(0,Math.min(100*(e-S)/R,100));N&&(n=100-n),p(Math.round((F+n/P)*$)/$,A,a,n)}function f(e){return 100*(e-F)/(I-F)}function p(e,t,a,n,s,i){var r=y.eq(t),l=r.parent();e=Math.min(I,Math.max(e,F)),void 0===i&&(i=a),B._update?B._update(e,U,t,n,L,s,l):l.css({left:N?"auto":(n||f(e))+"%",right:N?(n||f(e))+"%":"auto"}),e>F?l.removeClass("mbsc-slider-start"):(U[t]>F||s)&&l.addClass("mbsc-slider-start"),a&&U[t]!=e&&(T=!0,U[t]=e,B._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var b,v,g,y,x,w,_,C,T,M,D,S,V,k,A,N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,B=this,X=new Date;bt.call(this,e,t,!0),B._onTap=yt,B.___init=yt,B.___destroy=yt,B._attachChange=function(){b.on(E.changeEvent,l)},B.__init=function(e){var t;y&&(t=!0,y.parent().remove()),B.___init(e),w=B._$parent,_=B._$track,b=w.find("input"),E=B.settings,F=B._min,I=B._max,H=B._step,Y=B._live,$=H%1!==0?100/(100*+(H%1).toFixed(2)):1,P=100/(I-F)||100,L=b.length>1,N=E.rtl,U=[],b.each(function(e){U[e]=B._readValue(te(this)),te(this).attr("data-index",e)}),y=w.find(".mbsc-slider-handle"),x=w.find(L?".mbsc-slider-handle-cont":".mbsc-progress-cont"),y.on("keydown",u).on("keyup",d).on("blur",d),x.on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",i).on("pointercancel",r),t||(b.on("click",o),w.on("click",c))},B.__destroy=function(){w.off("click",c),b.off(E.changeEvent,l).off("click",o),y.off("keydown",u).off("keyup",d).off("blur",d),x.off("touchstart mousedown",n).off("touchmove",s).off("touchend touchcancel",i).off("pointercancel",r),B.___destroy()},B.refresh=function(){b.each(function(e){p(B._readValue(te(this)),e,!0,!1,!0,!1)})},B.getVal=function(){return L?U.slice(0):U[0]},B.setVal=B._setVal=function(e,t,a){te.isArray(e)||(e=[e]),te.each(e,function(e,t){p(t,e,!0,!1,!0,a)})},a||B.init(t)};Ct.prototype={_class:"sliderbase"};var Tt=function(e,t,a){function n(e){return 100*(e-p)/(f-p)}function s(e,t){var a=i.attr(e);return void 0===a||""===a?t:"true"===a}var i,r,l,o,c,u,d,h,m,f,p,b,v,g=this;gt.call(this,e,t,!0);var y=g.__init,x=g.__destroy;Ct.call(this,e,t,!0);var w=g.__init,_=g.__destroy;g.__init=function(e){y(e),w(e)},g.__destroy=function(){x(),_()},g._update=function(e,t,a,s,i,r,c){h?0===a?(e=Math.min(e,t[1]),l.css({width:n(t[1])-n(e)+"%",left:m?"auto":n(e)+"%",right:m?n(e)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:n(e)-n(t[0])+"%"})):i||!u?c.css({left:m?"auto":(s||n(e))+"%",right:m?(s||n(e))+"%":"auto"}):l.css("width",(s||n(e))+"%"),d&&o.eq(a).html(e),i||t[a]==e&&!r||g._display(e)},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,a){i.eq(t).val(e),a&&i.eq(t).trigger("change")},g.___init=function(e){var t,a;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&te(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,l=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=s("data-live",v.live),d=s("data-tooltip",v.tooltip),u=s("data-highlight",v.highlight)&&i.length<3,h=u&&2==i.length,m=v.rtl,d&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(a=(f-p)/b,t=0;t<=a;++t)c.append('<span class="mbsc-slider-step" style="'+(m?"right":"left")+":"+100/a*t+'%"></span>');i.each(function(e){"range"==this.type&&te(this).attr("min",p).attr("max",f).attr("step",b),(u?l:c).append('<span class="mbsc-slider-handle-cont'+(h&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(d?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=r.find(".mbsc-slider-tooltip")},a||g.init(t)};Tt.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},A.classes.Slider=Tt,A.presetShort("slider","Slider");var Mt=A.util,Dt=function(){},St=A.classes,Vt=function(e,t,a){function n(e,t,a){if(!a){Z._value=Z._hasValue?Z._tempValue.slice(0):null;for(var n=0;n<_.length;++n)_[n].tempChangedColor&&Z._value&&Z._value.indexOf(_[n].tempChangedColor)!=-1&&(_[n].changedColor=_[n].tempChangedColor),delete _[n].tempChangedColor}e&&(Z._isInput&&J.val(Z._hasValue?Z._tempValue:""),T("onFill",{valueText:Z._hasValue?Z._tempValue:"",change:t}),t&&(ee=se(!0,{},ae),Z._preventChange=!0,J.trigger("change")),h(Z._value,!0))}function s(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+(q?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){H[0].style.background=e?Mt.prefix+"linear-gradient(left, "+(g.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(g.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(ae).length&&!isNaN(e))return e;for(var t in _)if(e==_[t].color||e==_[t].changedColor)return t}function l(){if($){var e,t="";if(B.empty(),Z._value){if(q)t+=s(Z._value,j);else for(e=0;e<Z._value.length;++e)t+=s(Z._value[e],Object.keys(ae).length&&ae[e].colorIndex?ae[e].colorIndex:r(Z._value[e]));B.append(t),Z.tap(te(".mbsc-color-input-item",B),function(e){if(te(e.target).hasClass("mbsc-color-input-item-close")){var t=te(this).index();e.stopPropagation(),e.preventDefault(),void 0===j&&(j=te(e.target).parent().attr("data-color")),L&&(Q=_[j].previewInd,z.eq(Q).parent().removeClass("mbsc-color-active"),ee[t]={},ae[t]={}),Z._value.splice(t,1),Z.setVal(Z._value,!0,!0)}else E&&"inline"!==g.display&&(F=!0,j=te(e.target).attr("data-color"),isNaN(j)&&(j=r(j)),j&&(_[j].selected=!0,Q=_[j].previewInd,setTimeout(function(){k.scroll(X.eq(j),400),L&&A.scroll(z.eq(Q),400)},200)))})}}}function o(e,t){var a,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=y({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:a=D({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:a=S({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:a=e}return c(a,t||g.format)}function c(e,t){switch(t){case"rgb":return x(e);case"hsl":return M(e);case"hsv":return V(e);default:return e}}function u(){var e;for(e=0;e<g.select;++e)if(void 0===ae[e].colorIndex)return e}function d(e,t){te(".mbsc-color-active",t).removeClass("mbsc-color-active"),E&&(e.parent().addClass("mbsc-color-active"),L&&e&&void 0!==Q&&z.eq(Q).parent().addClass("mbsc-color-active"))}function h(e,t){var a,n,s=[],i=0,r=te.map(_,function(e){return e.changedColor||e.color});if(q){if(e=te.isArray(e)?e[0]:e,n=r.indexOf(e),n>-1&&s.push(n),e&&!s.length){var o=+te(".mbsc-color-input-item",B).attr("data-color");isNaN(o)||s.push(o),j=o}}else if(e)if(L&&E)for(var c in ee)void 0!==ee[c].colorIndex&&s.push(+ee[c].colorIndex);else for(a=0;a<e.length;++a)n=r.indexOf(e[a]),n>-1&&(s.push(n),r[n]="temp"+a);for(a=0;a<s.length;++a)m(!0,s[a],i++,_[s[a]].changedColor||_[s[a]].color,!0);for(a=0;a<_.length;++a)s.indexOf(a)==-1&&m(!1,a,void 0,_[a].changedColor||_[a].color,!1);if(L)for(a=i;a<g.select;++a)ae[a]={},z&&z.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ee=se(!0,{},ae),t!==!1&&l()}function m(e,t,a,n,s,i){if(L&&s&&(ae[a].colorIndex=e?t:void 0,ae[a].color=e?n:void 0,z)){var r=z.eq(a);r.removeClass("mbsc-color-preview-item-empty").css({background:e?n:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?Z._tempValue.splice(a,0,n):Z._tempValue.splice(Z._tempValue.indexOf(n),1)),X&&(e?X.eq(t).addClass("mbsc-color-selected"):X.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),_[t].previewInd=e?a:void 0,_[t].selected=e}function f(e,t){void 0!==e&&(q||_[e].selected)?(j=e,Y=_[e].changedColor||_[e].color,K=X.eq(e),E&&(d(X.eq(e),t||""),I=o(_[e].color,"hsl"),I.l=o(Y,"hsl").l,i(_[e].color),W.setVal(100-I.l,!1,!1))):E&&i()}function p(){var e,t=[];for(e=0;e<_.length;++e)_[e].selected&&t.push(_[e]);return t}function b(e,t){var a=te(e.target).index();j=ae[a].colorIndex,K=X.eq(j),Q=a,f(j,t),k.scroll(K,250),T("onPreviewItemTap",{target:e.target,value:ae[a].color,index:a})}function v(e,t){var a=!1,n=te(".mbsc-color-selected",t);return K=te(e.target),K.hasClass("mbsc-color-clear-item")?(Y="",void Z.clear()):void((q||R>+n.length||K.hasClass("mbsc-color-selected"))&&(j=K.attr("data-index"),L&&(Q=void 0!==_[j].previewInd?_[j].previewInd:u(),a=E&&K.hasClass("mbsc-color-selected")&&!K.parent().hasClass("mbsc-color-active"),z.length>6&&A.scroll(z.eq(Q))),Y=_[j].changedColor||_[j].color,q?(n.removeClass("mbsc-color-selected"),Z._tempValue=Y,Y&&K.toggleClass("mbsc-color-selected"),d(K,t)):(d(K,t),a||m(!_[j].selected,j,Q,Y,!0,!0)),f(j,t),Z.live&&(Z._fillValue(),T("onSet",{value:Z._value})),T("onItemTap",{target:e.target,value:Y,selected:_[j].selected,index:j})))}var g,w,_,C,T,k,A,N,Y,I,F,O,L,H,E,P,W,j,$,q,R,U,B,X,z,K,G,Z=this,J=te(e),Q=0,ee={},ae={};St.Frame.call(this,e,t,!0),Z.setVal=Z._setVal=function(e,t,a,s){
  Z._hasValue=null!==e&&void 0!==e,Z._tempValue=q?te.isArray(e)?e[0]:e:te.isArray(e)?e:[e],n(t,void 0===a?t:a,s)},Z.getVal=Z._getVal=function(e){return Z._hasValue||e?U?p():Z[e?"_tempValue":"_value"]:null},Z._readValue=function(){var e=J.val()||"";Z._hasValue=!1,0!==e.length&&""!==e&&(Z._hasValue=!0),Z._hasValue?(Z._tempValue=q?e:"hex"==g.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),n(!0)):Z._tempValue=[],h(Z._tempValue,Z._hasValue)},Z._fillValue=function(){Z._hasValue=!0,n(!0,!0)},Z._generateContent=function(){var e,t,a,n=N?1:0;for(P=O?Math.ceil((_.length+n)/g.rows):g.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(O?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(O?'<div class="mbsc-color-row">':""),e=0;e<_.length;++e)a=_[e].changedColor||_[e].color,N&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+n)%P===0&&(t+=O?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(_[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(O?"</div>":""),E&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),L){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var s in ee)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ee[s].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ee[s].color||"initial")+';"></div></div>';t+="</div></div>"}return t},Z._position=function(e){var t,a;O||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(_.length/g.rows))*a+1)),k&&k.refresh(),A&&A.refresh()},Z._markupInserted=function(e){O||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*g.rows),k=new St.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:O?"X":"Y",rtl:g.rtl,elastic:60,stopProp:!1,mousewheel:g.mousewheel,onBtnTap:function(t){v(t,e)}})},Z._attachEvents=function(e){var t;X=te(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?v(t,e):b(t,e))}),L&&(z=te(".mbsc-color-preview-item",e)),E&&(e.addClass("mbsc-color-refine"),G=te(".mbsc-color-slider",e),W=new St.Slider(G[0],{theme:g.theme,rtl:g.rtl}),H=e.find(".mbsc-progress-track"),j&&Z._value&&f(j,e),G.on("change",function(){void 0!==j&&(q||_[j].selected)&&(I.l=100-this.value,t=o(I.toString()).toString(),q?Z._tempValue=t:Z._tempValue[void 0!==Q?Q:Z._tempValue.length]=t,_[j].tempChangedColor=t,X.eq(j).css("background",t),L&&(ae[Q].color=t,z.eq(Q).removeClass("mbsc-color-preview-item-empty").css({background:t})),Z.live&&Mt.throttle(Z._fillValue()))})),L&&(A=new St.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:g.rtl,mousewheel:g.mousewheel,onBtnTap:function(t){b(t,e)}}))},Z._detachEvents=function(){k.destroy(),W&&W.destroy(),A&&A.destroy()},Z.__processSettings=function(){var t,a;if(g=Z.settings,C=g.format,T=Z.trigger,O="horizontal"==g.navigation,Z._value=[],Z._tempValue=[],q="single"==g.select,N=void 0!==g.clear?g.clear:q,a=g.data||[],!a.length)switch(g.format){case"rgb":a=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],N&&a.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":a=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],N&&a.splice(10,0,"hsl(20, 12%, 29%)");break;default:a=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],N&&a.splice(10,0,"#534741")}if(E="refine"==g.mode,L=!isNaN(g.select),R=isNaN(g.select)?q?2:a.length:g.select,U=te.isPlainObject(a[0]),L&&!Object.keys(ee).length)for(t=0;t<g.select;++t)ee[t]={},ae[t]={};if(!_)for(_=a.slice(0),t=0;t<_.length;++t)te.isPlainObject(a[t])?_[t].color=a[t].color:(a[t]=a[t].toLowerCase(),_[t]={key:t,name:a[t],color:a[t]});w=g.defaultValue||_[0].color,Y=w,I=o(Y,"hsl"),$=g.enhance&&J.is("input"),$&&(J.hasClass("mbsc-color-input-hdn")?B=J.prev():(B=te("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(g.inputClass||"")+'" readonly ></div>'),B.insertBefore(J),J.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),g.anchor=B,Z.attachShow(B))},Z.__init=function(){g.cssClass=(g.cssClass||"")+" mbsc-color"},Z.__destroy=function(){$&&(J.removeClass("mbsc-color-input-hdn"),B.remove())},a||Z.init(t)};Vt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:se({},St.Frame.prototype._defaults,{headerText:!1,validate:Dt,parseValue:Dt,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},A.classes.Color=Vt,A.themes.color=A.themes.frame,A.presetShort("color","Color",!1),Mt.color={hsv2hex:S,hsv2rgb:w,rgb2hsv:_,rgb2hex:y,rgb2hsl:C,hex2rgb:x,hex2hsv:V,hex2hsl:M};var kt=A.presets.scroller,At=A.util.datetime,Nt=A.util,Yt=Nt.testTouch,It={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};A.presetShort("range"),kt.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t){e._startDate=D=g,e._endDate=S=x,N.startInput&&(te(N.startInput).val(b),t&&te(N.startInput).trigger("change")),N.endInput&&(te(N.endInput).val(v),t&&te(N.endInput).trigger("change"))}function n(e,t){var a=!0;return e&&g&&x&&(x-g>N.maxRange-1&&(V?g=new Date(x-N.maxRange+1):x=new Date(+g+N.maxRange-1)),x-g<N.minRange-1&&(V?g=new Date(x-N.minRange+1):x=new Date(+g+N.minRange-1))),g&&x||(a=!1),t&&l(),a}function s(){return g&&x?Math.max(1,Math.round((new Date(x).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(F)}function r(){M&&u&&(te(".mbsc-range-btn-c",u).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",u).removeClass(F),i(te(".mbsc-range-btn-c",u).eq(V)))}function l(){var e,t,a,n,s,i=0,r=I||!V?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=I||V?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?At.formatDate(h,g,N):"",v=x?At.formatDate(h,x,N):"",u&&(te(".mbsc-range-btn-v-start",u).html(b||"&nbsp;"),te(".mbsc-range-btn-v-end",u).html(v||"&nbsp;"),e=g?new Date(g):null,a=x?new Date(x):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),s=V?a:e,te(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",u).removeClass(F),te(".mbsc-cal-table .mbsc-cal-day-hl",u).removeClass(L),te(".mbsc-cal-table .mbsc-cal-day-sel",u).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),n=a.setHours(0,0,0,0);a>=e&&i<84;)te('.mbsc-cal-day[data-full="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]',u).addClass("mbsc-cal-day-sel"+(s.getTime()===t?r:"")+(s.getTime()===n?l:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(F),s.setDate(s.getDate()+(V?-1:1)),i++}function o(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D=e._startDate,S=e._endDate,V=0,k=new Date,A=se({},e.settings),N=se(e.settings,It,A),Y=N.anchor,I=N.rangeTap,F=N.activeClass||"",O="mbsc-fr-btn-d "+(N.disabledClass||""),L="mbsc-cal-day-hl",H=null===N.defaultValue?[]:N.defaultValue||[new Date(k.setHours(0,0,0,0)),new Date(k.getFullYear(),k.getMonth(),k.getDate()+6,23,59,59,999)];return I&&(N.tabs=!0),m=kt.calbase.call(this,e),c=se({},m),h=e.format,_="time"===N.controls.join(""),M=1!=N.controls.length||"calendar"!=N.controls[0]||N.showSelector,N.startInput&&(C=te(N.startInput).prop("readonly"),e.attachShow(te(N.startInput).prop("readonly",!0),function(){V=0,N.anchor=Y||te(N.startInput)})),N.endInput&&(T=te(N.endInput).prop("readonly"),e.attachShow(te(N.endInput).prop("readonly",!0),function(){V=1,N.anchor=Y||te(N.endInput)})),e.setVal=function(t,a,n,s,i){var r=t||[],l=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?At.formatDate(h,g,N):"",V||(l=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,x=r[1]||null,v=x?At.formatDate(h,x,N):"",V&&(l=c.parseValue(v,e))),s||(e._startDate=D=g,e._endDate=S=x),e._setVal(l,a,n,s,i)},e.getVal=function(t){return t?[g,x]:e._hasValue?[D,S]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,a=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null;return{selected:t&&a&&e>=t&&e<=x,cssClass:((I||!V)&&t&&t.getTime()===e.getTime()||(I||V)&&a&&a.getTime()===e.getTime()?L:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;V="start"==t?0:1,a="start"==t?g:x,e.isVisible()&&(r(),I||(te(".mbsc-cal-table .mbsc-cal-day-hl",u).removeClass(L),a&&te('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',u).addClass(L)),a&&(f=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,se(m,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(N.endInput?"":v?" - "+v:"")},parseValue:function(t){var a=t?t.split(" - "):[];return N.defaultValue=H[1],S=N.endInput?te(N.endInput).val()?At.parseDate(h,te(N.endInput).val(),N):H[1]:a[1]?At.parseDate(h,a[1],N):H[1],N.defaultValue=H[0],D=N.startInput?te(N.startInput).val()?At.parseDate(h,te(N.startInput).val(),N):H[0]:a[0]?At.parseDate(h,a[0],N):H[0],N.defaultValue=H[V],b=D?At.formatDate(h,D,N):"",v=S?At.formatDate(h,S,N):"",e._startDate=D,e._endDate=S,c.parseValue(V?v:b,e)},onFill:function(e){a(e.change)},onBeforeClose:function(t){if("set"===t.button&&!n(!0,!0))return e.setActiveDate(V?"start":"end"),!1},onHide:function(){c.onHide.call(e),V=0,u=null,N.anchor=Y},onClear:function(){I&&(V=0)},onBeforeShow:function(){N.headerText=!1,g=D,x=S,y=o(g,0),w=o(x,1),N.counter&&(N.headerText=function(){var e=s();return(e>1?N.selectedPluralText||N.selectedText:N.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var a;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),x&&(f=!0,e.setDate(x,!1,0,!0),x=e.getDate(!0)),(V&&x||!V&&g)&&(f=!0,e.setDate(V?x:g,!1,0,!0)),l(),c.onMarkupReady.call(this,t),u=te(t.target),u.addClass("mbsc-range"),M&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+N.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+N.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",te(".mbsc-cal-tabs",u).before(a),r()),te(".mbsc-range-btn-c",u).on("touchstart click",function(t){Yt(t,this)&&(e.showMonthView(),e.setActiveDate(te(this).index()?"end":"start"))})},onDayChange:function(e){e.active=V?"end":"start",d=!0},onSetDate:function(a){var s=a.date,i=e.order;f||(void 0===i.h&&s.setHours(V?23:0),void 0===i.i&&s.setMinutes(V?59:0),void 0===i.s&&s.setSeconds(V?59:0),s.setMilliseconds(V?999:0),p&&!d||(I&&d&&(1==V&&s<g&&(V=0),V?s.setHours(w.h,w.i,w.s,999):s.setHours(y.h,y.i,y.s,0)),V?(x=new Date(s),w=o(x)):(g=new Date(s),y=o(g)),_&&(t(g,s),t(x,s)),I&&d&&!V&&(x=null))),e._isValid=n(p||d||N.autoCorrect,!f),a.active=V?"end":"start",!f&&I&&(d&&(V=V?0:1),r()),e.isVisible()&&(e._isValid?te(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(O):te(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(O)),d=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(V?x:g,!1,1e3,!0),n(!0,!0)},onDestroy:function(){te(N.startInput).prop("readonly",C),te(N.endInput).prop("readonly",T)}}),m};var Ft={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};A.presets.scroller.measurement=function(e){function t(e){return Math.max(y,Math.min(x,H?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-q),j)+q))}function a(e){return H?i((Math.abs(e)-Math.abs(t(e)))*W-R,j)+R:0}function n(e){var n=t(e),s=a(e),i=e<0?"-":"+";return s>=W&&(e<0?n--:n++,s=0),[i,n,s]}function s(e){var t=+e[p],a=H?e[f]/W*(t<0?-1:1):0;return(I&&"-"==e[0]?-1:1)*(t+a)}function i(e,t){return Math.round(e/t)*t}function r(e,t){for(e+="";e.length<t;)e="0"+e;return e}function l(e,t,a){return t!==a&&D.convert?D.convert.call(this,e,t,a):e}function o(e,t,a){return e=e>a?a:e,e=e<t?t:e}function c(e){var t,n;v=l(D.min,O,e),g=l(D.max,O,e),H?(y=v<0?Math.ceil(v):Math.floor(v),x=g<0?Math.ceil(g):Math.floor(g),w=a(v),_=a(g)):(y=Math.round(v),x=Math.round(g),x=y+Math.floor((x-y)/j)*j,q=y%j),t=y,n=x,I&&(n=Math.abs(t)>Math.abs(n)?Math.abs(t):Math.abs(n),t=t<0?0:t),A.min=t<0?Math.ceil(t/E):Math.floor(t/E),A.max=n<0?Math.ceil(n/E):Math.floor(n/E)}function u(e){return s(e).toFixed(H?P:0)+(F?" "+L[e[b]]:"")}var d,h,m,f,p,b,v,g,y,x,w,_,C,T,M=se({},e.settings),D=se(e.settings,Ft,M),S={},V=[[]],k={},A={},N={},Y=[],I=D.sign,F=D.units&&D.units.length,O=F?D.defaultUnit||D.units[0]:"",L=[],H=D.step<1,E=D.step>1?D.step:1,P=H?Math.max(D.scale,(D.step+"").split(".")[1].length):1,W=Math.pow(10,P),j=Math.round(H?D.step*W:D.step),$=-1,q=0,R=0,U=0;if(e.setVal=function(t,a,n,s,i){e._setVal(te.isArray(t)?u(t):t,a,n,s,i)},D.units)for(T=0;T<D.units.length;++T)C=D.units[T],L.push(D.unitNames?D.unitNames[C]||C:C);if(I)if(I=!1,F)for(T=0;T<D.units.length;T++)l(D.min,O,D.units[T])<0&&(I=!0);else I=D.min<0;if(I&&(V[0].push({data:["-","+"],label:D.signText}),$=U++),A={label:D.wholeText,data:function(e){return y%E+e*E},getIndex:function(e){return Math.round((e-y%E)/E)}},V[0].push(A),p=U++,c(O),H){for(V[0].push(N),N.data=[],N.label=D.fractionText,T=R;T<W;T+=j)Y.push(T),N.data.push({value:T,display:"."+r(T,P)});f=U++,d=Math.ceil(100/j),D.invalid&&D.invalid.length&&(te.each(D.invalid,function(e,t){var a=t>0?Math.floor(t):Math.ceil(t);0===a&&(a=t<=0?-.001:.001),k[a]=(k[a]||0)+1,0===t&&(a=.001,k[a]=(k[a]||0)+1)}),te.each(k,function(e,t){t<d?delete k[e]:k[e]=e}))}if(F){for(S={data:[],label:D.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},T=0;T<D.units.length;T++)S.data.push({value:T,display:L[T]});V[0].push(S)}return b=U,{wheels:V,minWidth:I&&H?70:80,showLabel:!1,formatValue:u,compClass:"mbsc-msr",parseValue:function(e){var t,a=("number"==typeof e?e+"":e)||D.defaultValue,s=(a+"").split(" "),i=+s[0],r=[],l="";return F&&(l=te.inArray(s[1],L),l=l==-1?te.inArray(O,D.units):l,l=l==-1?0:l),m=F?D.units[l]:"",c(m),i=isNaN(i)?0:i,i=o(i,v,g),t=n(i),t[1]=o(t[1],y,x),h=i,I&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[p]=t[1],H&&(r[f]=t[2]),F&&(r[b]=l),r},onCancel:function(){h=void 0},validate:function(t){var a,r,u,d,C,T=t.values,M=t.index,S=t.direction,V={},N=[],L={},P=F?D.units[T[b]]:"";if(I&&0===M&&(h=Math.abs(h)*("-"==T[0]?-1:1)),(M===p||M===f&&H||void 0===h||void 0===M)&&(h=s(T),m=P),(F&&M===b&&m!==P||void 0===M)&&(c(P),h=l(h,m,P),m=P,r=n(h),void 0!==M&&(L[p]=A,e.changeWheel(L)),I&&(T[0]=r[0])),N[p]=[],I)for(N[0]=[],v>0&&(N[0].push("-"),T[0]="+"),g<0&&(N[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?y:x),U=C+E;U<C+20*E;U+=E)N[p].push(U),V[U]=!0;if(h=o(h,v,g),r=n(h),u=I?Math.abs(r[1]):r[1],a=I?"-"==T[0]:h<0,T[p]=u,a&&(r[0]="-"),H&&(T[f]=r[2]),te.each(H?k:D.invalid,function(e,t){if(I&&a){if(!(t<=0))return;t=Math.abs(t)}t=i(l(t,O,P),H?1:j),V[t]=!0,N[p].push(t)}),T[p]=e.getValidValue(p,u,S,V),r[1]=T[p]*(I&&a?-1:1),H){N[f]=[];var W=I?T[0]+T[1]:(h<0?"-":"+")+Math.abs(r[1]),$=(v<0?"-":"+")+Math.abs(y),q=(g<0?"-":"+")+Math.abs(x);W===$&&te(Y).each(function(e,t){(a?t>w:t<w)&&N[f].push(t)}),W===q&&te(Y).each(function(e,t){(a?t<_:t>_)&&N[f].push(t)}),te.each(D.invalid,function(e,t){d=n(l(t,O,P)),(r[0]===d[0]||0===r[1]&&0===d[1]&&0===d[2])&&r[1]===d[1]&&N[f].push(d[2])})}return{disabled:N,valid:T}}}},A.presetShort("measurement"),A.presets.scroller.number=A.presets.scroller.measurement,A.presetShort("number");var Ot=A.util,Lt=A.presets.numpad,Ht=Ot.testTouch,Et=Ot.getCoord,Pt=Ot.isNumeric,Wt=function(){},jt=function(e,t,a){function n(t){var a,n=g.validate.call(e,{values:V.slice(0),variables:H},F)||[],i=n&&n.disabled||[];if(F._isValid=!n.invalid,F._tempValue=g.formatValue.call(e,V.slice(0),H,F),v=V.length,k=n.length||N,F._isVisible){if(te(".mbsc-np-ph",f).each(function(e){te(this).html("ltr"==g.fill?e>=v?b:y||V[e]:e>=N-k?e+v<N?b:y||V[e+v-N]:"")}),te(".mbsc-np-cph",f).each(function(){te(this).html(H[te(this).attr("data-var")]||te(this).attr("data-ph"))}),v===N)for(a=0;a<=9;a++)i.push(a);for(te(".mbsc-np-btn",f).removeClass(p),a=0;a<i.length;a++)te('.mbsc-np-btn[data-val="'+i[a]+'"]',f).addClass(p);F._isValid?te(".mbsc-fr-btn-s .mbsc-fr-btn",f).removeClass(p):te(".mbsc-fr-btn-s .mbsc-fr-btn",f).addClass(p),F.live&&(F._hasValue=t||F._hasValue,s(t,!1,t),t&&A("onSet",{valueText:F._value}))}}function s(e,t,a,s){t&&n(),s||(Y=V.slice(0),E=se({},H),O=L.slice(0),F._value=F._hasValue?F._tempValue:null),e&&(F._isInput&&I.val(F._hasValue&&F._isValid?F._value:""),A("onFill",{valueText:F._hasValue?F._tempValue:"",change:a}),a&&(F._preventChange=!0,I.trigger("change")))}function i(e){var t,a,n=e||[],s=[];for(L=[],H={},t=0;t<n.length;t++)/:/.test(n[t])?(a=n[t].split(":"),H[a[0]]=a[1],L.push(a[0])):(s.push(n[t]),L.push("digit"));return s}function r(e,t){!(v||t||g.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||v<N&&(L.push("digit"),V.push(t),n(!0))}function l(e){var t,a,s=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&L.push(a[0]),H[a[0]]=void 0===a[2]?a[1]:H[a[0]]==a[1]?a[2]:a[1]),s.length+v<=k)for(t=0;t<s.length;++t)a=Pt(s[t])?+s[t]:s[t],(g.allowLeadingZero||v||a)&&(L.push("digit"),V.push(a),v=V.length);n(!0)}}function o(){var e,t,a=L.pop();if(v||"digit"!==a){if("digit"!==a&&H[a])for(delete H[a],t=L.slice(0),L=[],e=0;e<t.length;e++)t[e]!==a&&L.push(t[e]);else V.pop();n(!0)}}function c(e){D=!0,x=Et(e,"X"),w=Et(e,"Y"),clearInterval(S),clearTimeout(S),o(),S=setInterval(function(){o()},150)}function u(){clearInterval(S),D=!1}function d(e){if(Ht(e,this)){if("keydown"==e.type&&32!=e.keyCode)return;c(e),"mousedown"==e.type&&te(document).on("mousemove",h).on("mouseup",m)}}function h(e){D&&(_=Et(e,"X"),C=Et(e,"Y"),T=_-x,M=C-w,(Math.abs(T)>7||Math.abs(M)>7)&&u())}function m(e){D&&(e.preventDefault(),u(),"mouseup"==e.type&&te(document).off("mousemove",h).off("mouseup",m))}var f,p,b,v,g,y,x,w,_,C,T,M,D,S,V,k,A,N,Y,I=te(e),F=this,O=[],L=[],H={},E={},P={107:"+",109:"-"},W={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};we.call(this,e,t,!0),F.setVal=F._setVal=function(t,a,n,r){F._hasValue=null!==t&&void 0!==t,V=i(te.isArray(t)?t.slice(0):g.parseValue.call(e,t,F)),s(a,!0,void 0===n?a:n,r)},F.getVal=F._getVal=function(e){return F._hasValue||e?F[e?"_tempValue":"_value"]:null},F.setArrayVal=F.setVal,F.getArrayVal=function(e){return e?V.slice(0):F._hasValue?Y.slice(0):null},F._readValue=function(){var t=I.val()||"";""!==t&&(F._hasValue=!0),y?(H={},L=[],V=[]):(H=F._hasValue?E:{},L=F._hasValue?O:[],V=F._hasValue&&Y?Y.slice(0):i(g.parseValue.call(e,t,F)),s(!1,!0))},F._fillValue=function(){F._hasValue=!0,s(!0,!1,!0)},F._generateContent=function(){var e,t,a,n=1,s="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+g.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+g.deleteIcon+'"></div><div class="mbsc-np-dsp">',s=g.template.replace(/d/g,'<span class="mbsc-np-ph">'+b+"</span>").replace(/&#100;/g,"d"),s=s.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=s,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)a=n,10==n||12==n?a="":11==n&&(a=0),i+=""===a?10==n&&g.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.leftKey.variable?'data-var="'+g.leftKey.variable+'"':"")+' data-val="'+(g.leftKey.value||"")+'" '+(void 0!==g.leftKey.track?' data-track="'+g.leftKey.track+'"':"")+">"+g.leftKey.text+"</div>":12==n&&g.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.rightKey.variable?'data-var="'+g.rightKey.variable+'"':"")+' data-val="'+(g.rightKey.value||"")+'" '+(void 0!==g.rightKey.track?' data-track="'+g.rightKey.track+'"':"")+" >"+g.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",n++;i+="</div>"}return i+="</div></div>"},F._markupReady=function(){f=F._markup,n()},F._attachEvents=function(e){e.on("keydown",function(t){var a;void 0!==P[t.keyCode]?(a=te('.mbsc-np-btn[data-var="sign:-:"]',e),a.length&&(H.sign=107==t.keyCode?"-":"",l(a))):void 0!==W[t.keyCode]?r(te('.mbsc-np-btn[data-val="'+W[t.keyCode]+'"]',e),W[t.keyCode]):8==t.keyCode&&(t.preventDefault(),o())}),F.tap(te(".mbsc-np-btn",e),function(){var e=te(this);e.hasClass("mbsc-np-btn-custom")?l(e):r(e,+e.attr("data-val"))},!1,30,!0),te(".mbsc-np-del",e).on("touchstart mousedown keydown",d).on("touchmove mousemove",h).on("touchend mouseup keyup",m)},F.__init=function(){g=F.settings,g.cssClass=(g.cssClass||"")+" mbsc-np",g.template=g.template.replace(/\\d/,"&#100;"),b=g.placeholder,N=(g.template.match(/d/g)||[]).length,p="mbsc-fr-btn-d "+(g.disabledClass||""),y=g.mask,A=F.trigger,y&&I.is("input")&&I.attr("type","password")},F._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},a||F.init(t)};jt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:se({},we.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:Wt,parseValue:Wt,formatValue:function(e,t,a){var n,s=1,i=a.settings,r=i.placeholder,l=i.template,o=e.length,c=l.length,u="";for(n=0;n<c;n++)"d"==l[c-n-1]?(u=s<=o?e[o-s]+u:r+u,s++):u=l[c-n-1]+u;return te.each(t,function(e,t){u=u.replace("{"+e+"}",t)}),te("<div>"+u+"</div>").text()}})},A.classes.Numpad=jt,A.themes.numpad=A.themes.frame,A.presetShort("numpad","Numpad",!1);var $t={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};Lt.decimal=function(e){function t(e,t){for(var a,n=e.slice(0),i=0;n.length;)i=10*i+n.shift();for(a=0;a<s.scale;a++)i/=10;return t?i*-1:i}function a(e){var a=t(e).toFixed(s.scale).replace(".",s.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,s.thousandsSeparator);return a}var n=se({},e.settings),s=se(e.settings,$t,n),i=s.min<0;return e.getVal=function(t){var a=e._getVal(t),n=(a+"").replace(s.decimalSeparator,".").replace(s.thousandsSeparator,"");return Ot.isNumeric(n)?+n:a},{template:(i?"{sign}":"")+s.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(s.max,Math.abs(s.min)))+"").length+1).join("d")+(s.scale?"."+Array(s.scale+1).join("d"):"")+s.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,n=e||s.defaultValue,i=[];if(n&&(n=(n+"").replace(s.decimalSeparator,".").replace(s.thousandsSeparator,""),a=n.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(s.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?i.push(+a[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,n){var i=a(e),r=t(e,n&&"-"==n.sign);return(r<0?"-":"")+(s.returnAffix?s.prefix+i+s.suffix:i)},validate:function(n){var i=n.values,r=a(i),l=t(i,n.variables&&"-"==n.variables.sign),o=[];return i.length||s.allowLeadingZero||o.push(0),e.isVisible()&&te(".mbsc-np-dsp",e._markup).html((n.variables.sign||"")+s.prefix+r+s.suffix),{disabled:o,invalid:l>s.max||l<s.min||!!s.invalid&&e._indexOf(s.invalid,l)!=-1}}}};var qt=["h","m","s"],Rt={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};Lt.timespan=function(e){function t(e){var t,a="",n=3600;return te(qt).each(function(i,r){t=Math.floor(e/n),e-=t*n,n/=60,(t>0||"s"==r&&!a)&&(a=a+(a?" ":"")+t+s[r])}),a}var a=se({},e.settings),n=se(e.settings,Rt,a),s={h:n.hourTextShort.replace(/d/g,"\\d"),m:n.minuteTextShort.replace(/d/g,"\\d"),s:n.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+s.s+"</span>";return n.max>9&&(i="d"+i),n.max>99&&(i='<span class="mbsc-np-ts-m">'+(n.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+s.m+"</span>"+i),n.max>6039&&(i='<span class="mbsc-np-ts-h">'+(n.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+s.h+"</span>"+i),e.setVal=function(a,n,s,i){return Ot.isNumeric(a)&&(a=t(a)),e._setVal(a,n,s,i)},e.getVal=function(t){return e._hasValue||t?k(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var a,i=e||t(n.defaultValue),r=[];return i&&te(qt).each(function(e,t){a=new RegExp("(\\d+)"+s[t],"gi").exec(i),a?(a=+a[1],a>9?(r.push(Math.floor(a/10)),r.push(a%10)):(r.length&&r.push(0),(a||r.length)&&r.push(a))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(k(e))},validate:function(t){var a=t.values,s=k(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:s>n.max||s<n.min||!!n.invalid&&e._indexOf(n.invalid,+s)!=-1}}}};var Ut={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};Lt.time=function(e){function t(e,t){var a,n="";for(a=0;a<e.length;++a)n+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return te.each(t,function(e,t){n+=" "+t}),n}function a(e){var t,a,n,l,o,b,v,g,y,x,w=[],_=2*i.length;if(c=_,e.length||(r&&(w.push(0),w.push(s.leftKey.value)),w.push(s.rightKey.value)),!r&&(_-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&_-e.length<=2)&&(w.push("30"),w.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=_-1),e.length==_)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2===0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+m==+(void 0!==e[3]?""+e[2]+e[3]:""),s.invalid)for(t=0;t<s.invalid.length;++t)if(b=s.invalid[t].getHours(),v=s.invalid[t].getMinutes(),g=s.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){w.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(s.min||s.max){if(a=+u==+y,n=+d==+y,o=n&&x,l=a&&x,0===e.length){for(t=r?2:u>19?u[0]:3;t<=(1==u[0]?9:u[0]-1);++t)w.push(t);if(u>=10&&(w.push(0),2==u[0]))for(t=3;t<=9;++t)w.push(t);if(d&&d<10||u&&u>=10)for(t=d&&d<10?+d[0]+1:0;t<(u&&u>=10?u[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<u[0];++t)w.push(t);if(u&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)w.push(t);if(e[0]==u[0])for(t=0;t<u[1];++t)w.push(t);if(e[0]==d[0]&&!r)for(t=+d[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(a||n))for(t=n?+m[0]+1:0;t<(a?+h[0]:10);++t)w.push(t);if(3==e.length&&(n&&e[2]==m[0]||a&&e[2]==h[0]))for(t=n&&e[2]==m[0]?+m[1]+1:0;t<(a&&e[2]==h[0]?+h[1]:10);++t)w.push(t);if(4==e.length&&(l||o))for(t=o?+p[0]+1:0;t<(l?+f[0]:10);++t)w.push(t);if(5==e.length&&(l&&e[4]==f[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(l&&e[4]==f[0]?+f[1]:10);++t)w.push(t)}return w}var n=se({},e.settings),s=se(e.settings,Ut,n),i=s.timeFormat.split(":"),r=s.timeFormat.match(/a/i),l=r?"a"==r[0]?s.amText:s.amText.toUpperCase():"",o=r?"a"==r[0]?s.pmText:s.pmText.toUpperCase():"",c=0,u=s.min?""+s.min.getHours():"",d=s.max?""+s.max.getHours():"",h=s.min?""+(s.min.getMinutes()<10?"0"+s.min.getMinutes():s.min.getMinutes()):"",m=s.max?""+(s.max.getMinutes()<10?"0"+s.max.getMinutes():s.max.getMinutes()):"",f=s.min?""+(s.min.getSeconds()<10?"0"+s.min.getSeconds():s.min.getSeconds()):"",p=s.max?""+(s.max.getSeconds()<10?"0"+s.max.getSeconds():s.max.getSeconds()):"";return s.min?s.min.setFullYear(2014,7,20):"",s.max?s.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,n=e||s.defaultValue,i=[];if(n){if(n+="",a=n.match(/\d/g))for(t=0;t<a.length;t++)i.push(+a[t]);r&&i.push("ampm:"+(n.match(new RegExp(s.pmText,"gi"))?o:l))}return i},formatValue:function(e,a){return t(e,a)},validate:function(n){var i=n.values,l=n.variables,o=t(i,l),u=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:a(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+s.amText+"|"+s.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!s.invalid&&e._indexOf(s.invalid,u)!=-1||!((!s.min||s.min<=u)&&(!s.max||u<=s.max))}}}};var Bt={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};Lt.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function a(e){var a,n,l,o,c,d=[],g=void 0!==e[s+3]?""+e[s]+e[s+1]+e[s+2]+e[s+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",w=""+u.getMaxDayOfMonth(g||2012,y-1||0),_=b===g&&+h===+y,C=v===g&&+m===+y;if(u.invalid)for(a=0;a<u.invalid.length;++a){if(l=u.getYear(u.invalid[a]),o=u.getMonth(u.invalid[a]),c=u.getDay(u.invalid[a]),l==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){d.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+l).substring(0,3)==""+e[s]+e[s+1]+e[s+2]){d.push((""+l)[3]);break}if(l==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){d.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?d.push(2,4,6,9,11):d.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&d.push(2),e.length==i){for(a=v===g&&+m<10?1:2;a<=9;++a)d.push(a);b===g&&+h>=10&&d.push(0)}if(e.length==i+1){if(1==e[i]){for(a=v===g?+m[1]+1:3;a<=9;++a)d.push(a);if(b==g)for(a=0;a<+h[1];++a)d.push(a)}if(0===e[i]&&(d.push(0),v===g||b===g))for(a=v===g?+x>+p?+m:+m+1:0;a<=(b===g?+x<+f?+h-1:+h-1:9);++a)d.push(a)}if(e.length==r){for(a=C?(+p>10?+p[0]:0)+1:+w[0]+1;a<=9;++a)d.push(a);if(_)for(a=0;a<(+f<10?0:f[0]);++a)d.push(a)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(a=+w[1]+1;a<=9;++a)d.push(a);if(C&&+p[0]==e[r])for(a=+p[1]+1;a<=9;++a)d.push(a);if(_&&f[0]==e[r])for(a=0;a<+f[1];++a)d.push(a);if(0===e[r]&&(d.push(0),C||_))for(a=C?+p+1:1;a<=(_?+f-1:9);++a)d.push(a)}if(void 0!==e[s+2]&&"02"==y&&"29"==x)for(n=+(""+e[s]+e[s+1]+e[s+2]+0);n<=+(""+e[s]+e[s+1]+e[s+2]+9);++n)d.push(t(n)?"":n%10);if(e.length==s){if(u.min)for(a=0;a<+b[0];++a)d.push(a);if(u.max)for(a=+v[0]+1;a<=9;++a)d.push(a);d.push(0)}if(u.min||u.max)for(n=1;n<4;++n)if(e.length==s+n){if(e[s+n-1]==+b[n-1]&&(3!=n||e[s+n-2]==+b[n-2]))for(a=0;a<+b[n]+(3==n&&e[i+1]&&+h>+y?1:0);++a)d.push(a);if(e[s+n-1]==+v[n-1]&&(3!=n||e[s+n-2]==+v[n-2]))for(a=+v[n]+(3==n&&+m<+y?0:1);a<=9;++a)d.push(a)}return d}function n(e){return new Date(+(""+e[s]+e[s+1]+e[s+2]+e[s+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var s,i,r,l,o=[],c=se({},e.settings),u=se(e.settings,Be.defaults,Bt,c),d=u.dateOrder,h=u.min?""+(u.getMonth(u.min)+1):0,m=u.max?""+(u.getMonth(u.max)+1):0,f=u.min?""+u.getDay(u.min):0,p=u.max?""+u.getDay(u.max):0,b=u.min?""+u.getYear(u.min):0,v=u.max?""+u.getYear(u.max):0;
  for(d=d.replace(/y+/gi,"yyyy"),d=d.replace(/m+/gi,"mm"),d=d.replace(/d+/gi,"dd"),s=d.toUpperCase().indexOf("Y"),i=d.toUpperCase().indexOf("M"),r=d.toUpperCase().indexOf("D"),d="",o.push({val:s,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),te.each(o,function(e,t){d+=t.n}),s=d.indexOf("y"),i=d.indexOf("m"),r=d.indexOf("d"),d="",l=0;l<8;++l)d+="d",l+1!=s&&l+1!=i&&l+1!=r||(d+=u.delimiter);return e.getVal=function(t){return e._hasValue||t?n(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:d,parseValue:function(e){var t,a=[],n=e||u.defaultValue,s=Be.parseDate(u.dateFormat,n,u);if(n)for(t=0;t<o.length;++t)a=/m/i.test(o[t].n)?a.concat(((u.getMonth(s)<9?"0":"")+(u.getMonth(s)+1)).split("")):/d/i.test(o[t].n)?a.concat(((u.getDay(s)<10?"0":"")+u.getDay(s)).split("")):a.concat((u.getYear(s)+"").split(""));return a},formatValue:function(e){return Be.formatDate(u.dateFormat,n(e),u)},validate:function(t){var s=t.values,i=n(s);return{disabled:a(s),invalid:!("Invalid Date"!=i&&(!u.min||u.min<=i)&&(!u.max||i<=u.max))||!!u.invalid&&e._indexOf(u.invalid,i)!=-1}}}};var Xt=A.presets.scroller,zt={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},Kt={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};A.presetShort("distance"),Xt.distance=function(e){var t=se({},zt,e.settings);return se(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Kt[t]/Kt[a]}}),Xt.measurement.call(this,e)};var Gt=A.presets.scroller,Zt={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},Jt={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};A.presetShort("force"),Gt.force=function(e){var t=se({},Zt,e.settings);return se(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Jt[t]/Jt[a]}}),Gt.measurement.call(this,e)};var Qt=A.presets.scroller,ea={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},ta={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};A.presetShort("mass"),Qt.mass=function(e){var t=se({},ea,e.settings);return se(e.settings,t,{sign:!1,convert:function(e,t,a){return e*ta[t]/ta[a]}}),Qt.measurement.call(this,e)};var aa=A.presets.scroller,na={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},sa={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};A.presetShort("speed"),aa.speed=function(e){var t=se({},na,e.settings);return se(e.settings,t,{sign:!1,convert:function(e,t,a){return e*sa[t]/sa[a]}}),aa.measurement.call(this,e)};var ia=A.presets.scroller,ra={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},la={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};A.presetShort("temperature"),ia.temperature=function(e){var t=se({},ra,e.settings);return se(e.settings,t,{sign:!0,convert:function(e,t,a){return la[t+"2"+a](e)}}),ia.measurement.call(this,e)},A.i18n.zh={setText:"",cancelText:"",clearText:"",selectedText:"{count} ",dateFormat:"yy/mm/dd",dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dayText:"",hourText:"",minuteText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["","","","","","","","","","","",""],monthText:"",secText:"",timeFormat:"HH:ii",yearText:"",nowText:"",pmText:"",amText:"",todayText:"",dateText:"",timeText:"",calendarText:"",closeText:"",fromText:"",toText:"",wholeText:"",fractionText:"",unitText:"",labels:["","","","","","",""],labelsShort:["","","","","","",""],startText:"",stopText:"",resetText:"",lapText:"",hideText:"",backText:"",undoText:"",offText:"",onText:"",decimalSeparator:",",thousandsSeparator:" "};var oa=A.themes;oa.frame["android-holo"]={},oa.scroller["android-holo"]=se({},oa.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),oa.form["android-holo"]={},A.customTheme("mobiscroll-dark","mobiscroll");var ca=A.themes,ua=void 0;return"android"==E?ua=W>=5?"material":"android-holo":"ios"==E?ua="ios":"wp"==E&&(ua="wp"),A.setAutoTheme=function(){te.each(ca.frame,function(e,t){return ua&&t.baseTheme==ua&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(A.autoTheme=e,!1):void(e==ua&&(A.autoTheme=e))})},A.setAutoTheme(),A.customTheme("choice-ui","android-holo"),A.uid="23848782",A});
