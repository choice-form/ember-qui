!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";var e=e||{};!function(t,a,s){function n(e){return"function"==typeof e}function r(e){return"object"==typeof e}function i(e){return"number"==typeof e.length}function l(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function o(e,t,a){for(var n in t)a&&(b.isPlainObject(t[n])||b.isArray(t[n]))?((b.isPlainObject(t[n])&&!b.isPlainObject(e[n])||b.isArray(t[n])&&!b.isArray(e[n]))&&(e[n]={}),o(e[n],t[n],a)):t[n]!==s&&(e[n]=t[n])}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e,t){return"number"!=typeof t||d[c(e)]?t:t+"px"}var d={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h={readonly:"readOnly"},m=[],f=Array.prototype.slice,p=function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,o(this)},o=function(s,r){var i=[],l=0;if(s&&!r&&s instanceof e)return s;if(n(s))return o(a).ready(s);if(s)if("string"==typeof s){var c,u,d;if(s=d=s.trim(),d.indexOf("<")>=0&&d.indexOf(">")>=0){var h="div";for(0===d.indexOf("<li")&&(h="ul"),0===d.indexOf("<tr")&&(h="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(h="tr"),0===d.indexOf("<tbody")&&(h="table"),0===d.indexOf("<option")&&(h="select"),u=a.createElement(h),u.innerHTML=d,l=0;l<u.childNodes.length;l++)i.push(u.childNodes[l])}else for(r||"#"!==s[0]||s.match(/[ .<>:~]/)?(r instanceof e&&(r=r[0]),c=(r||a).querySelectorAll(s)):c=[a.getElementById(s.split("#")[1])],l=0;l<c.length;l++)c[l]&&i.push(c[l])}else if(s.nodeType||s===t||s===a)i.push(s);else if(s.length>0&&s[0].nodeType)for(l=0;l<s.length;l++)i.push(s[l]);else o.isArray(s)&&(i=s);return new e(i)};return e.prototype={ready:function(e){return(a.attachEvent?"complete"==a.readyState:"loading"!=a.readyState)?e(o):a.addEventListener("DOMContentLoaded",function(){e(o)},!1),this},concat:m.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return o(o.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return o(f.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[a]&&this[s].classList.add(t[a]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[a]&&this[s].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&this[s].classList.toggle(t[a]);return this},closest:function(e,t){var a=this[0],s=!1;for(r(e)&&(s=o(e));a&&!(s?s.indexOf(a)>=0:o.matches(a,e));)a=a!==t&&a.nodeType!==a.DOCUMENT_NODE&&a.parentNode;return o(a)},attr:function(e,t){var a;if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this}if(this.length)return a=this[0].getAttribute(e),a||""===a?a:s},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=h[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:s;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?o.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:s;if(this.length&&this[0].multiple)o.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,t,a,s){function r(e){var s,n,r=e.target;if(o(r).is(t))a.call(r,e);else for(n=o(r).parents(),s=0;s<n.length;s++)o(n[s]).is(t)&&a.call(n[s],e)}function i(e,t,a,s){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:a,capture:s}),e.addEventListener(n[0],a,s)}var l,c,u=e.split(" ");for(l=0;l<this.length;l++)if(n(t)||t===!1)for(n(t)&&(s=a||!1,a=t),c=0;c<u.length;c++)u[c].indexOf(".")!=-1?i(this[l],u[c],a,s):this[l].addEventListener(u[c],a,s);else for(c=0;c<u.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:a,liveListener:r}),u[c].indexOf(".")!=-1?i(this[l],u[c],r,s):this[l].addEventListener(u[c],r,s);return this},off:function(e,t,a,s){function r(e){var t,a,s,n=e.split("."),r=n[0],i=n[1];for(t=0;t<u.length;++t)if(u[t].DomNameSpaces){for(a=0;a<u[t].DomNameSpaces.length;++a)s=u[t].DomNameSpaces[a],s.namespace!=i||s.event!=r&&r||(u[t].removeEventListener(s.event,s.listener,s.capture),s.removed=!0);for(a=u[t].DomNameSpaces.length-1;a>=0;--a)u[t].DomNameSpaces[a].removed&&u[t].DomNameSpaces.splice(a,1)}}var i,l,o,c,u=this;for(i=e.split(" "),l=0;l<i.length;l++)for(o=0;o<this.length;o++)if(n(t)||t===!1)n(t)&&(s=a||!1,a=t),0===i[l].indexOf(".")?r(i[l].substr(1)):this[o].removeEventListener(i[l],a,s);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===a&&this[o].removeEventListener(i[l],this[o].DomLiveListeners[c].liveListener,s);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&i[l]&&r(i[l])}return this},trigger:function(e,t){for(var s=e.split(" "),n=0;n<s.length;n++)for(var r=0;r<this.length;r++){var i;try{i=new CustomEvent(s[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=a.createEvent("Event"),i.initEvent(s[n],!0,!0),i.detail=t}this[r].dispatchEvent(i)}return this},width:function(e){return e!==s?this.css("width",e):this[0]===t?t.innerWidth:this[0]===a?a.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(e!==s)return this.css("height",e);if(this[0]===t)return t.innerHeight;if(this[0]===a){var n=a.body,r=a.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth;return["left","right"].forEach(function(a){t-=parseInt(e.css(l("border-"+a+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight;return["top","bottom"].forEach(function(a){t-=parseInt(e.css(l("border-"+a+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],s=e.getBoundingClientRect(),n=a.documentElement;return{top:s.top+t.pageYOffset-n.clientTop,left:s.left+t.pageXOffset-n.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?t.getComputedStyle(this[0],null):s},css:function(e,t){var a,s,n=this[0],r="";if(arguments.length<2){if(!n)return;if("string"==typeof e)return n.style[e]||getComputedStyle(n,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?r=c(e)+":"+u(e,t):this.each(function(){this.style.removeProperty(c(e))});else for(s in e)if(e[s]||0===e[s])r+=c(s)+":"+u(s,e[s])+";";else for(a=0;a<this.length;a++)this[a].style.removeProperty(c(s));return this.each(function(){this.style.cssText+=";"+r})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(t){for(var a=[],s=0;s<this.length;s++)n(t)?t.call(this[s],s,this[s])&&a.push(this[s]):o.matches(this[s],t)&&a.push(this[s]);return new e(a)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:s;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&o.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==s)this.each(function(a){e.call(this,a)||t.push(this)});else{var a="string"==typeof e?this.filter(e):i(e)&&n(e.item)?f.call(e):o(e);r(a)&&(a=o.map(a,function(e){return e})),this.each(function(e,s){a.indexOf(s)<0&&t.push(s)})}return o(t)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(o(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return e===s?f.call(this):this[e>=0?e:e+this.length]},eq:function(t){if(void 0===t)return this;var a,s=this.length;return t>s-1?new e([]):t<0?(a=s+t,new e(a<0?[]:[this[a]])):new e([this[t]])},append:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var r=a.createElement("div");for(r.innerHTML=t;r.firstChild;)this[s].appendChild(r.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].appendChild(t[n]);else this[s].appendChild(t);return this},appendTo:function(e){return o(e).append(this),this},prepend:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var r=a.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n--)this[s].insertBefore(r.childNodes[n],this[s].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].insertBefore(t[n],this[s].childNodes[0]);else this[s].insertBefore(t,this[s].childNodes[0]);return this},prependTo:function(e){return o(e).prepend(this),this},insertBefore:function(e){for(var t=o(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0]);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[a].cloneNode(!0),t[s]);return this},insertAfter:function(e){for(var t=o(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0].nextSibling);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[a].cloneNode(!0),t[s].nextSibling);return this},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&o(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var a=[],s=this[0];if(!s)return new e([]);for(;s.nextElementSibling;){var n=s.nextElementSibling;t?o(n).is(t)&&a.push(n):a.push(n),s=n}return new e(a)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&o(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var a=[],s=this[0];if(!s)return new e([]);for(;s.previousElementSibling;){var n=s.previousElementSibling;t?o(n).is(t)&&a.push(n):a.push(n),s=n}return new e(a)},parent:function(e){for(var t=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?o(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return o(o.unique(t))},parents:function(e){for(var t=[],a=0;a<this.length;a++)for(var s=this[a].parentNode;s;)e?o(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return o(o.unique(t))},find:function(t){for(var a=[],s=0;s<this.length;s++)for(var n=this[s].querySelectorAll(t),r=0;r<n.length;r++)a.push(n[r]);return new e(a)},children:function(t){for(var a=[],s=0;s<this.length;s++)for(var n=this[s].childNodes,r=0;r<n.length;r++)t?1===n[r].nodeType&&o(n[r]).is(t)&&a.push(n[r]):1===n[r].nodeType&&a.push(n[r]);return new e(o.unique(a))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,a=this;for(e=0;e<arguments.length;e++){var s=o(arguments[e]);for(t=0;t<s.length;t++)a[a.length]=s[t],a.length++}return a},before:function(e){return o(e).insertBefore(this),this},after:function(e){return o(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===s?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===s?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return f.call(t.childNodes)})},nextUntil:function(e){for(var t=this,a=[];t.length&&!t.filter(e).length;)a.push(t[0]),t=t.next();return o(a)},prevUntil:function(e){for(var t=this,a=[];t.length&&!o(t).filter(e).length;)a.push(t[0]),t=t.prev();return o(a)},detach:function(){return this.remove()}},o.fn=e.prototype,o}(),b=p;e.$=p,b.inArray=function(e,t,a){return m.indexOf.call(t,e,a)},b.extend=function(e){var t,a=f.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),e=e||{},a.forEach(function(a){o(e,a,t)}),e},b.isFunction=n,b.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},b.isPlainObject=function(e){return r(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},b.each=function(e,t){var a,s;if(r(e)&&t){if(b.isArray(e)||e instanceof p)for(a=0;a<e.length&&t.call(e[a],a,e[a])!==!1;a++);else for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&t.call(e[s],s,e[s])===!1)break;return this}},b.unique=function(e){for(var t=[],a=0;a<e.length;a++)t.indexOf(e[a])===-1&&t.push(e[a]);return t},b.map=function(e,t){var a,s,n,r=[];if(i(e))for(s=0;s<e.length;s++)null!==(a=t(e[s],s))&&r.push(a);else for(n in e)null!==(a=t(e[n],n))&&r.push(a);return r.length>0?b.fn.concat.apply([],r):r},b.matches=function(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)}}(window,document),e.presetShort=function(t,a,s){e[t]=function(n,r){var i,l,o={},c=r||{},u=e.$;return u.extend(c,{preset:s===!1?void 0:t}),u(n).each(function(){i=new e.classes[a||"Scroller"](this,c),o[this.id]=i}),l=Object.keys(o),1==l.length?o[l[0]]:o}},function(t,a,s){function n(e){var t;for(t in e)if(b[e[t]]!==s)return!0;return!1}function r(e){if(i.tapped&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}var i,l,o,c=function(){},u=e.$,d=+new Date,h={},m=u.extend,f=navigator.userAgent,p=f.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),b=a.createElement("modernizr").style,g=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(n([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),v=g.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),y=b.animation!==s?"animationend":"webkitAnimationEnd",x=[];/Android/i.test(p)?(l="android",(o=navigator.userAgent.match(/Android\s+([\d\.]+)/i))&&(x=o[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(p)?(l="ios",(o=navigator.userAgent.match(/OS\s+([\d\_]+)/i))&&(x=o[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(p)?l="wp":/Windows|MSIE/i.test(p)&&(l="windows"),i=m(e,{$:u,version:"3.1.0",util:{prefix:g,jsPrefix:v,animEnd:y,preventClick:function(){i.tapped++,setTimeout(function(){i.tapped--},500)},testTouch:function(e,t){if("touchstart"==e.type)u(t).attr("data-touch","1");else if(u(t).attr("data-touch"))return u(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,a=[];for(t in e)a.push(e[t]);return a},arrayToObject:function(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:function(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]},getPosition:function(e,t){var a,n=getComputedStyle(e[0]);return u.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(n[t+"ransform"]!==s)return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),t?a[13]||a[5]:a[12]||a[4]},constrain:function(e,t,a){return Math.max(t,Math.min(e,a))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var a,s;return t=t||100,function(){var n=this,r=+new Date,i=arguments;a&&r<a+t?(clearTimeout(s),s=setTimeout(function(){a=r,e.apply(n,i)},t)):(a=r,e.apply(n,i))}}},tapped:0,autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:l,majorVersion:x[0],minorVersion:x[1]},i18n:{},instances:h,classes:{},components:{},settings:{},setDefaults:function(e){m(this.settings,e)},customTheme:function(t,a){var s,n=e.themes,r=["frame","scroller","listview","menustrip","form","progress"];for(s=0;s<r.length;s++)n[r[s]][t]=e.$.extend({},n[r[s]][a],{baseTheme:a})}}),i.presetShort=i.presetShort||function(){},i.classes.Base=function(e,t){var a,s,n,r,l,o,f,p=i.util,b=p.getCoord,g=this;g.settings={},g._init=c,g._destroy=c,g._processSettings=c,g.init=function(c){var u;for(u in g.settings)delete g.settings[u];n=g.settings,m(t,c),g._hasDef&&(f=i.settings),m(n,g._defaults,f,t),g._hasTheme&&(l=n.theme,"auto"!=l&&l||(l=i.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=i.themes[g._class]?i.themes[g._class][l]:{}),g._hasLang&&(a=i.i18n[n.lang]),g._hasTheme&&o("onThemeLoad",{lang:a,settings:t}),m(n,r,a,f,t),g._processSettings(),g._hasPreset&&(s=i.presets[g._class][n.preset])&&(s=s.call(e,g),m(n,s,t)),g._init(c),o("onInit")},g.destroy=function(){g&&(g._destroy(),o("onDestroy"),delete h[e.id],g=null)},g.tap=function(e,t,a,s,r){function i(e){m||(a&&e.preventDefault(),m=this,d=b(e,"X"),h=b(e,"Y"),f=!1,v=new Date)}function l(e){m&&!f&&(Math.abs(b(e,"X")-d)>s||Math.abs(b(e,"Y")-h)>s)&&(f=!0)}function o(e){m&&((r&&new Date-v<100||!f)&&(e.preventDefault(),t.call(m,e,g)),m=!1,p.preventClick())}function c(){m=!1}var d,h,m,f,v,y=u(e);s=s||9,n.tap&&y.on("touchstart.mbsc",i).on("touchcancel.mbsc",c).on("touchmove.mbsc",l).on("touchend.mbsc",o),y.on("click.mbsc",function(e){e.preventDefault(),t.call(this,e,g)})},g.trigger=function(a,n){var i,l,o,c=[f,r,s,t];for(l=0;l<4;l++)(o=c[l])&&o[a]&&(i=o[a].call(e,n||{},g));return i},g.option=function(e,t){var a={};"object"==typeof e?a=e:a[e]=t,g.init(a)},g.getInst=function(){return g},t=t||{},o=g.trigger,u(e).addClass("mbsc-comp"),e.id?h[e.id]&&h[e.id].destroy():e.id="mobiscroll"+ ++d,h[e.id]=g},a.addEventListener&&u.each(["mouseover","mousedown","mouseup","click"],function(e,t){a.addEventListener(t,r,!0)})}(window,document),function(t){function a(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++n;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function s(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}var n=0;e.util.getJson=function(e,t,n){"jsonp"==n?a(e,t):s(e,t)}}();var t=e.util.getJson;!function(t,a,s){var n,r,i=e,l=i.$,o=i.platform,c=i.util,u=c.constrain,d=c.isString,h=c.getCoord,m=c.animEnd,f=/(iphone|ipod)/i.test(navigator.userAgent)&&o.majorVersion>=7,p="ios"==o.name&&8==o.majorVersion,b=function(){},g=function(e){e.preventDefault()};i.classes.Frame=function(e,o,p){function v(e){$&&$.removeClass("mbsc-fr-btn-a"),$=l(this),$.hasClass("mbsc-fr-btn-d")||$.hasClass("mbsc-fr-btn-nhl")||$.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?l(a).on("mouseup",y):"pointerdown"===e.type&&l(a).on("pointerup",y)}function y(e){$&&($.removeClass("mbsc-fr-btn-a"),$=null),"mouseup"===e.type?l(a).off("mouseup",y):"pointerup"===e.type&&l(a).off("pointerup",y)}function x(e){13==e.keyCode?ue.select():27==e.keyCode&&ue.cancel()}function _(e){e||J.focus(),ue.ariaMessage(ae.ariaMessage)}function w(e){var t=n,a=ae.focusOnClose;ue._markupRemove(),Y.remove(),i.activeInstance||(B&&(F.removeClass(R),Z&&(I.css({top:"",left:""}),E.scrollLeft(se),E.scrollTop(re))),e||(t||(t=de),setTimeout(function(){a===s||a===!0?(r=!0,t[0].focus()):a&&l(a)[0].focus()},200))),n=null,ue._isVisible=!1,X=!1,le("onHide")}function C(e){clearTimeout(me[e.type]),me[e.type]=setTimeout(function(){var t="scroll"==e.type;t&&!ne||(ue.position(!t),"orientationchange"==e.type&&(Q.style.display="none",Q.offsetHeight,Q.style.display=""))},200)}function T(e){e.target.nodeType&&!Q.contains(e.target)&&Q.focus()}function D(){l(a.activeElement).is("input,textarea")&&a.activeElement.blur()}function M(e,t){e&&e(),ue.show()!==!1&&(n=t,setTimeout(function(){r=!1},300))}function V(){ue._fillValue(),le("onSet",{valueText:ue._value})}function S(){le("onCancel",{valueText:ue._value})}function k(){ue.setVal(null,!0)}var A,I,N,F,Y,O,L,H,E,P,W,$,j,q,B,X,R,z,U,K,G,Z,J,Q,ee,te,ae,se,ne,re,ie,le,oe,ce,ue=this,de=l(e),he=[],me={};i.classes.Base.call(this,e,o,!0),ue.position=function(e){var t,n,r,o,c,d,h,m,f,p,b,g,v,y,x,_,w={},C=0,T=0,D=0,M=0;!te&&X&&(ue._position(Y),g=z.offsetHeight,v=z.offsetWidth,oe===v&&ce===g&&e||(ue._isFullScreen||/top|bottom/.test(ae.display)?H.width(v):P.width(""),le("onPosition",{target:z,windowWidth:v,windowHeight:g})!==!1&&B&&(l(".mbsc-comp",Y).each(function(){var e=i.instances[this.id];e&&e!==ue&&e.position&&e.position()}),!ue._isFullScreen&&/center|bubble/.test(ae.display)&&(l(".mbsc-w-p",Y).each(function(){y=this.getBoundingClientRect().width,M+=y,D=y>D?y:D}),P.css({width:ue._isLiquid?Math.min(ae.maxPopupWidth,v-16):Math.ceil(M>v?D:M),"white-space":M>v?"":"nowrap"})),U=Q.offsetWidth,K=Q.offsetHeight,ue.scrollLock=ne=K<=g&&U<=v,G&&(C=E.scrollLeft(),T=E.scrollTop()),"center"==ae.display?(_=Math.max(0,C+(v-U)/2),x=Math.max(0,T+(g-K)/2)):"bubble"==ae.display?(t=ae.anchor===s?de:l(ae.anchor),h=l(".mbsc-fr-arr-i",Y)[0],o=t.offset(),c=o.top+(q?T-I.offset().top:0),d=o.left+(q?C-I.offset().left:0),n=t[0].offsetWidth,r=t[0].offsetHeight,m=h.offsetWidth,f=h.offsetHeight,_=u(d-(U-n)/2,C+8,C+v-U-8),x=c-K-f/2,x<T||c>T+g?(H.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),x=c+r+f/2):H.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),l(".mbsc-fr-arr",Y).css({left:u(d+n/2-(_+(U-m)/2),0,m)})):(_=C,x="top"==ae.display?T:Math.max(0,T+g-K)),G&&(p=Math.max(x+K,q?I[0].scrollHeight:l(a).height()),b=Math.max(_+U,q?I[0].scrollWidth:l(a).width()),L.css({width:b,height:p}),ae.scroll&&"bubble"==ae.display&&(x+K+8>T+g||c>T+g||c+r<T)&&(te=!0,setTimeout(function(){te=!1},300),E.scrollTop(Math.min(c,x+K-g+8,p-g)))),w.top=Math.floor(x),w.left=Math.floor(_),H.css(w),oe=v,ce=g)))},ue.attachShow=function(e,t){var a,s=l(e),n=s.prop("readonly");if("inline"!==ae.display){if((ae.showOnFocus||ae.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ue._isVisible&&this.blur()}),a=l('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select"))return;ae.showOnFocus&&s.on("focus.mbsc",function(){r||M(t,s)}),ae.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),M(t,s))}),ue.tap(s,function(){M(t,s)}),a&&a.length&&ue.tap(a,function(){M(t,s)})),he.push({readOnly:n,el:s,lbl:a})}},ue.select=function(){B?ue.hide(!1,"set",!1,V):V()},ue.cancel=function(){B?ue.hide(!1,"cancel",!1,S):S()},ue.clear=function(){ue._clearValue(),le("onClear"),B&&ue._isVisible&&!ue.live?ue.hide(!1,"clear",!1,k):k()},ue.enable=function(){ae.disabled=!1,ue._isInput&&de.prop("disabled",!1)},ue.disable=function(){ae.disabled=!0,ue._isInput&&de.prop("disabled",!0)},ue.show=function(e,a){var n,r;if(!ae.disabled&&!ue._isVisible){if(ue._readValue(),le("onBeforeShow")===!1)return!1;if(j=ae.animate,W=ae.buttons||[],G=q||"bubble"==ae.display,Z=f&&!G,n=W.length>0,j!==!1&&("top"==ae.display?j="slidedown":"bottom"==ae.display?j="slideup":"center"!=ae.display&&"bubble"!=ae.display||(j=ae.animate||"pop")),B&&(R="mbsc-fr-lock"+(Z?" mbsc-fr-lock-ios":"")+(q?" mbsc-fr-lock-ctx":""),re=Math.max(0,E.scrollTop()),se=Math.max(0,E.scrollLeft()),oe=0,ce=0,Z&&!F.hasClass("mbsc-fr-lock")&&I.css({top:-re+"px",left:-se+"px"}),F.addClass(R),D(),i.activeInstance&&i.activeInstance.hide(),i.activeInstance=ue),r='<div lang="'+ae.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+ae.theme+(ae.baseTheme?" mbsc-"+ae.baseTheme:"")+" mbsc-fr-"+ae.display+" "+(ae.cssClass||"")+" "+(ae.compClass||"")+(ue._isLiquid?" mbsc-fr-liq":"")+(Z?" mbsc-platform-ios":"")+(n?W.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(B?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(ae.rtl?" mbsc-rtl":" mbsc-ltr")+(ae.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===ae.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(ae.headerText?'<div class="mbsc-fr-hdr">'+(d(ae.headerText)?ae.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',r+=ue._generateContent(),r+="</div>",n&&(r+='<div class="mbsc-fr-btn-cont">',l.each(W,function(e,t){t=d(t)?ue.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),r+="<div"+(ae.btnWidth?' style="width:'+100/W.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(t.cssClass===s?ae.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),r+="</div>"),r+="</div></div></div></div>"+(B?"</div></div>":""),Y=l(r),L=l(".mbsc-fr-persp",Y),O=l(".mbsc-fr-scroll",Y),P=l(".mbsc-fr-w",Y),N=l(".mbsc-fr-hdr",Y),H=l(".mbsc-fr-popup",Y),A=l(".mbsc-fr-aria",Y),z=Y[0],J=O[0],Q=H[0],ue._markup=Y,ue._header=N,ue._isVisible=!0,ee="orientationchange resize",ue._markupReady(Y),le("onMarkupReady",{target:z}),B){if(l(t).on("keydown",x),ae.scrollLock&&Y.on("touchmove mousewheel wheel",function(e){ne&&e.preventDefault()}),ae.focusTrap&&E.on("focusin",T),ae.closeOnOverlayTap){var o,u,p,b;O.on("touchstart mousedown",function(e){u||e.target!=O[0]||(u=!0,o=!1,p=h(e,"X"),b=h(e,"Y"))}).on("touchmove mousemove",function(e){u&&!o&&(Math.abs(h(e,"X")-p)>9||Math.abs(h(e,"Y")-b)>9)&&(o=!0)}).on("touchcancel",function(){u=!1}).on("touchend touchcancel mouseup",function(e){u&&!o&&(ue.cancel(),"mouseup"!=e.type&&c.preventClick()),u=!1})}G&&(ee+=" scroll")}setTimeout(function(){if(B)Y.appendTo(I);else if(de.is("div")&&!ue._hasContent)de.empty().append(Y);else if(de.hasClass("mbsc-control")){var t=de.closest(".mbsc-control-w");Y.insertAfter(t),t.hasClass("mbsc-select")&&t.addClass("mbsc-select-inline")}else Y.insertAfter(de);X=!0,ue._markupInserted(Y),le("onMarkupInserted",{target:z}),Y.on("selectstart mousedown",g).on("click",".mbsc-fr-btn-e",g).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&B&&ae.focusTrap){var t=Y.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(l(":focus",Y)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",v).on("touchend",".mbsc-fr-btn-e",y),l("input,select,textarea",Y).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),z.addEventListener("touchstart",function(){ie||(ie=!0,I.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),l.each(W,function(e,t){ue.tap(l(".mbsc-fr-btn"+e,Y),function(e){t=d(t)?ue.buttons[t]:t,(d(t.handler)?ue.handlers[t.handler]:t.handler).call(this,e,ue)},!0)}),ue._attachEvents(Y),ue.position(),E.on(ee,C),B&&(j&&!e?Y.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+j).on(m,function(){Y.off(m).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+j).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+j),_(a)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+j):_(a)),le("onShow",{target:z,valueText:ue._tempValue})},Z?100:0)}},ue.hide=function(e,a,s,n){if(!ue._isVisible||!s&&!ue._isValid&&"set"==a||!s&&le("onBeforeClose",{valueText:ue._tempValue,button:a})===!1)return!1;B&&(D(),l(t).off("keydown",x),delete i.activeInstance),Y&&(B&&j&&!e&&!Y.hasClass("mbsc-anim-trans")?Y.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+j).on(m,function(){Y.off(m),w(e)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+j):w(e),ue._detachEvents(Y),E.off(ee,C).off("focusin",T)),n&&n(),le("onClose",{valueText:ue._value})},ue.ariaMessage=function(e){A.html(""),setTimeout(function(){A.html(e)},100)},ue.isVisible=function(){return ue._isVisible},ue.setVal=b,ue.getVal=b,ue._generateContent=b,ue._attachEvents=b,ue._detachEvents=b,ue._readValue=b,ue._clearValue=b,ue._fillValue=b,ue._markupReady=b,ue._markupInserted=b,ue._markupRemove=b,ue._position=b,ue.__processSettings=b,ue.__init=b,ue.__destroy=b,ue._destroy=function(){ue.hide(!0,!1,!0),de.off(".mbsc"),l.each(he,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ue.__destroy()},ue._processSettings=function(){var e,a;for(ue.__processSettings(),ae.buttons=ae.buttons||("inline"!==ae.display?["set","cancel"]:[]),ae.headerText=ae.headerText===s?"inline"!==ae.display&&"{value}":ae.headerText,W=ae.buttons||[],B="inline"!==ae.display,q="body"!=ae.context,I=l(ae.context),F=q?I:l("body,html"),ue._window=E=l(q?ae.context:t),ue.live=!0,a=0;a<W.length;a++)"ok"!=(e=W[a])&&"set"!=e&&"set"!=e.handler||(ue.live=!1);ue.buttons.set={text:ae.setText,icon:ae.setIcon,handler:"set"},ue.buttons.cancel={text:ae.cancelText,icon:ae.cancelIcon,handler:"cancel"},ue.buttons.close={text:ae.closeText,icon:ae.closeIcon,handler:"cancel"},ue.buttons.clear={text:ae.clearText,icon:ae.clearIcon,handler:"clear"},ue._isInput=de.is("input")},ue._init=function(){ue._isVisible&&ue.hide(!0,!1,!0),de.off(".mbsc"),ue.__init(),ue._isLiquid="liquid"==ae.layout,B?(ue._readValue(),ue._hasContent||ue.attachShow(de)):ue.show(),de.on("change.mbsc",function(){ue._preventChange||ue.setVal(de.val(),!0,!1),ue._preventChange=!1})},ue.buttons={},ue.handlers={set:ue.select,cancel:ue.cancel,clear:ue.clear},ue._value=null,ue._isValid=!0,ue._isVisible=!1,ae=ue.settings,le=ue.trigger,p||ue.init(o)},i.classes.Frame.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:!1,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!p},i.themes.frame.mobiscroll={headerText:!1,btnWidth:!1},i.themes.scroller.mobiscroll=l.extend({},i.themes.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),l(t).on("focus",function(){n&&(r=!0)})}(window,document),function(t){var a=e,s=a.$,n=a.classes,r=a.util,i=r.constrain,l=r.jsPrefix,o=r.prefix,c=r.getCoord,u=r.getPosition,d=r.testTouch,h=r.isNumeric,m=r.isString,f=/(iphone|ipod|ipad)/i.test(navigator.userAgent),p=function(){},b=window.requestAnimationFrame||function(e){e()},g=window.cancelAnimationFrame||p;n.ScrollView=function(e,t,a){function r(e){se("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),
(ce.prevDef||"mousedown"==e.type)&&e.preventDefault(),ce.readonly||ce.lock&&$||d(e,this)&&!W&&(C&&C.removeClass("mbsc-btn-a"),O=!1,$||(C=s(e.target).closest(".mbsc-btn-e",this),C.length&&!C.hasClass("mbsc-btn-d")&&(O=!0,T=setTimeout(function(){C.addClass("mbsc-btn-a")},100))),W=!0,X=!1,j=!1,ie.scrolled=$,J=c(e,"X"),Q=c(e,"Y"),N=L=J,M=0,V=0,S=0,Z=new Date,G=+u(te,ne)||0,$&&w(G,f?0:1),"mousedown"===e.type&&s(document).on("mousemove",p).on("mouseup",y))}function p(e){W&&(ce.stopProp&&e.stopPropagation(),N=c(e,"X"),F=c(e,"Y"),M=N-J,V=F-Q,S=ne?V:M,O&&(Math.abs(V)>5||Math.abs(M)>5)&&(clearTimeout(T),C.removeClass("mbsc-btn-a"),O=!1),(ie.scrolled||!j&&Math.abs(S)>5)&&(X||se("onGestureStart",Y),ie.scrolled=X=!0,B||(B=!0,q=b(v))),ne||ce.scrollLock?e.preventDefault():ie.scrolled?e.preventDefault():Math.abs(V)>7&&(j=!0,ie.scrolled=!0,ue.trigger("touchend")))}function v(){E&&(S=i(S,-U*E,U*E)),w(i(G+S,P-I,H+I)),B=!1}function y(e){if(W){var t,a=new Date-Z;ce.stopProp&&e.stopPropagation(),g(q),B=!1,!j&&ie.scrolled&&(ce.momentum&&a<300&&(t=S/a,S=Math.max(Math.abs(S),t*t/ce.speedUnit)*(S<0?-1:1)),_(S)),O&&(clearTimeout(T),C.addClass("mbsc-btn-a"),setTimeout(function(){C.removeClass("mbsc-btn-a")},100),j||ie.scrolled||se("onBtnTap",{target:C[0]})),"mouseup"==e.type&&s(document).off("mousemove",p).off("mouseup",y),W=!1}}function x(e){if(e=e.originalEvent||e,S=ne?e.deltaY||e.wheelDelta||e.detail:e.deltaX,se("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),S){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(S*=5),S=i(-S,-20,20),G=re,ce.readonly||G+S<P||G+S>H)return;X||(Y={posX:ne?0:re,posY:ne?re:0,originX:ne?0:G,originY:ne?G:0,direction:S>0?ne?270:360:ne?90:180},se("onGestureStart",Y)),B||(B=!0,q=b(v)),X=!0,clearTimeout(R),R=setTimeout(function(){g(q),B=!1,X=!1,_(S)},200)}}function _(e){var t,a,s;if(E&&(e=i(e,-U*E,U*E)),s=i(Math.round((G+e)/U)*U,P,H),le=Math.round(s/U),K){if(e<0){for(t=K.length-1;t>=0;t--)if(Math.abs(s)+D>=K[t].breakpoint){le=t,oe=2,s=K[t].snap2;break}}else if(e>=0)for(t=0;t<K.length;t++)if(Math.abs(s)<=K[t].breakpoint){le=t,oe=1,s=K[t].snap1;break}s=i(s,P,H)}a=ce.time||(re<P||re>H?1e3:Math.max(1e3,Math.abs(s-re)*ce.timeUnit)),Y.destinationX=ne?0:s,Y.destinationY=ne?s:0,Y.duration=a,Y.transitionTiming=A,se("onGestureEnd",Y),w(s,a)}function w(e,t,a,s){var n=e!=re,r=t>1,i=function(){clearInterval(z),clearTimeout(ae),$=!1,re=e,Y.posX=ne?0:e,Y.posY=ne?e:0,n&&se("onMove",Y),r&&se("onAnimationEnd",Y),s&&s()};Y={posX:ne?0:re,posY:ne?re:0,originX:ne?0:G,originY:ne?G:0,direction:e-re>0?ne?270:360:ne?90:180},re=e,r&&(Y.destinationX=ne?0:e,Y.destinationY=ne?e:0,Y.duration=t,Y.transitionTiming=A,se("onAnimationStart",Y)),ee[l+"Transition"]=t?o+"transform "+Math.round(t)+"ms "+A:"",ee[l+"Transform"]="translate3d("+(ne?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!$||!t||t<=1?i():t&&($=!a,clearInterval(z),z=setInterval(function(){var t=+u(te,ne)||0;Y.posX=ne?0:t,Y.posY=ne?t:0,se("onMove",Y),Math.abs(t-e)<2&&i()},100),clearTimeout(ae),ae=setTimeout(function(){i()},t)),ce.sync&&ce.sync(e,t,A)}var C,T,D,M,V,S,k,A,I,N,F,Y,O,L,H,E,P,W,$,j,q,B,X,R,z,U,K,G,Z,J,Q,ee,te,ae,se,ne,re,ie=this,le=0,oe=1,ce=t,ue=s(e);n.Base.call(this,e,t,!0),ie.scrolled=!1,ie.scroll=function(t,a,n,r){t=h(t)?Math.round(t/U)*U:Math.ceil((s(t,e).length?Math.round(te.offset()[k]-s(t,e).offset()[k]):re)/U)*U,t=i(t,P,H),le=Math.round(t/U),G=re,w(t,a,n,r)},ie.refresh=function(e){var t;D=void 0===ce.contSize?ne?ue.height():ue.width():ce.contSize,P=void 0===ce.minScroll?Math.min(0,ne?D-te.height():D-te.width()):ce.minScroll,H=void 0===ce.maxScroll?0:ce.maxScroll,K=null,!ne&&ce.rtl&&(t=H,H=-P,P=-t),m(ce.snap)&&(K=[],te.find(ce.snap).each(function(){var e=ne?this.offsetTop:this.offsetLeft,t=ne?this.offsetHeight:this.offsetWidth;K.push({breakpoint:e+t/2,snap1:-e,snap2:D-e-t})})),U=h(ce.snap)?ce.snap:1,E=ce.snap?ce.maxSnapScroll:0,A=ce.easing,I=ce.elastic?h(ce.snap)?U:h(ce.elastic)?ce.elastic:0:0,void 0===re&&(re=ce.initialPos,le=Math.round(re/U)),e||ie.scroll(ce.snap?K?K[le]["snap"+oe]:le*U:re)},ie._processSettings=function(){ne="Y"==ce.axis,k=ne?"top":"left",te=ce.moveElement||ue.children().eq(0),ee=te[0].style},ie._init=function(){ie.refresh(),ue.on("touchstart mousedown",r).on("touchmove",p).on("touchend touchcancel",y),ce.mousewheel&&ue.on("wheel mousewheel",x),e.addEventListener&&e.addEventListener("click",function(e){ie.scrolled&&(ie.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},ie._destroy=function(){clearInterval(z),ue.off("touchstart mousedown",r).off("touchmove",p).off("touchend touchcancel",y).off("wheel mousewheel",x)},ce=ie.settings,se=ie.trigger,a||ie.init(t)},n.ScrollView.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},a.presetShort("scrollview","ScrollView",!1)}(),function(t,a,s){var n=e,r=n.$,i=r.extend,l=n.classes,o=n.platform,c=n.util,u=c.jsPrefix,d=c.prefix,h=c.getCoord,m=c.testTouch,f=t.CSS,p=f&&f.supports&&f.supports("(transform-style: preserve-3d)"),b=!p||"wp"==o.name||"android"==o.name;n.presetShort("scroller","Scroller",!1),l.Scroller=function(e,t,o){function f(e){var t=+r(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),m(e,this)&&!k(t)&&(P=r(this).addClass("mbsc-sc-btn-a"),U=h(e,"X"),K=h(e,"Y"),R=!0,z=!1,setTimeout(function(){M(t,"inc"==P.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&r(a).on("mousemove",p).on("mouseup",g))}function p(e){(Math.abs(U-h(e,"X"))>7||Math.abs(K-h(e,"Y"))>7)&&V(!0)}function g(e){V(),e.preventDefault(),"mouseup"===e.type&&r(a).off("mousemove",p).off("mouseup",g)}function v(e){var t,a,s=r(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,x(s,se[s]._$markup.find('.mbsc-sc-itm[data-val="'+G[s]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!R&&(R=!0,z=!1,M(s,a)))}function y(){V()}function x(e,t){var a=se[e],n=t.attr("data-index"),r=D(a,n),i=le._tempSelected[e],l=c.isNumeric(a.multiple)?a.multiple:1/0;te("onItemTap",{target:t[0],index:e,value:r,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[r]&&(i[r]!==s?(t.removeClass(q).removeAttr("aria-selected"),delete i[r]):(1==l&&(le._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(q).removeAttr("aria-selected")),c.objectToArray(i).length<l&&(t.addClass(q).attr("aria-selected","true"),i[r]=r))),L(a,e,n,ie,!0,!0,a.multiple),!le.live||a.multiple||ee.setOnTap!==!0&&!ee.setOnTap[e]||setTimeout(function(){le.select()},200))}function _(e,t){return(e._array?e._map[t]:e.getIndex(t,le))||0}function w(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?r(a).get(t%e._length):a[t]:r.isFunction(a)?a(t,le):""}function C(e){return r.isPlainObject(e)?e.value!==s?e.value:e.display:e}function T(e){var t=r.isPlainObject(e)?e.display:e;return t===s?"":t}function D(e,t){return C(w(e,t))}function M(e,t){z||S(e,t),R&&(clearInterval(X),X=setInterval(function(){S(e,t)},ee.delay))}function V(e){clearInterval(X),z=e,R=!1,P&&P.removeClass("mbsc-sc-btn-a")}function S(e,t){var a=se[e];L(a,e,a._current+t,ie,1==t?1:2)}function k(e){return r.isArray(ee.readonly)?ee.readonly[e]:ee.readonly}function A(e,t,a){var n=e._index-e._batch;return e.data=e.data||[],e.key=e.key!==s?e.key:t,e.label=e.label!==s?e.label:t,e._map={},e._array=r.isArray(e.data),e._array&&(e._length=e.data.length,r.each(e.data,function(t,a){e._map[C(a)]=t})),e.circular=ee.circular===s?e.circular===s?e._array&&e._length>ee.rows:e.circular:r.isArray(ee.circular)?ee.circular[t]:ee.circular,e.min=e._array?e.circular?-(1/0):0:e.min===s?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:e.max===s?1/0:e.max,e._nr=t,e._index=_(e,G[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-re,e._last=e._index+re,e._offset=e._first,a?(e._offset-=e._margin/Z+(e._index-n),e._margin+=(e._index-n)*Z):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!j?Math.floor(ee.rows/2):0))*Z,s=Math.min(a,-(e.max-e._offset-(e.multiple&&!j?Math.floor(ee.rows/2):0))*Z);i(e._scroller.settings,{minScroll:s,maxScroll:a}),e._scroller.refresh(t)},ne[e.key]=e,e}function I(e,t,a,n,r){var i,l,o,c,u,h,m,f,p="",b=le._tempSelected[t],g=e._disabled||{};for(i=a;i<=n;i++)o=w(e,i),u=T(o),c=C(o),l=o&&o.cssClass!==s?o.cssClass:"",h=o&&o.label!==s?o.label:"",m=o&&o.invalid,f=c!==s&&c==G[t]&&!e.multiple,p+='<div role="option" aria-selected="'+!!b[c]+'" class="mbsc-sc-itm '+(r?"mbsc-sc-itm-3d ":"")+l+" "+(f?"mbsc-sc-itm-sel ":"")+(b[c]?q:"")+(c===s?" mbsc-sc-itm-ph":" mbsc-btn-e")+(m?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[c]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+c+'"'+(h?' aria-label="'+h+'"':"")+(f?' aria-selected="true"':"")+' style="height:'+Z+"px;line-height:"+Z+"px;"+(r?d+"transform:rotateX("+(e._offset-i)*$%360+"deg) translateZ("+Z*ee.rows/2+"px);":"")+'">'+(ae>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(Z/ae)+"px;font-size:"+Math.round(Z/ae*.8)+'px;">':"")+u+(ae>1?"</div>":"")+"</div>";return p}function N(t){var a=ee.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function F(e,t,a){var s=Math.round(-a/Z)+e._offset,n=s-e._current,i=e._first,l=e._last,o=i+re-W+1,c=l-re+W;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(I(e,t,Math.max(l+1,i+n),l+n)),r(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,l-i+1)).remove(),j&&(e._$3d.append(I(e,t,Math.max(c+1,o+n),c+n,!0)),r(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,c-o+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(I(e,t,i+n,Math.min(i-1,l+n))),r(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-l-1)).remove(),j&&(e._$3d.prepend(I(e,t,o+n,Math.min(o-1,c+n),!0)),r(".mbsc-sc-itm",e._$3d).slice(Math.max(n,o-c-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*Z,e._$scroller.css("margin-top",e._margin+"px"))}function Y(e,t,a,n){var r,i=se[e],l=n||i._disabled,o=_(i,t),c=t,u=t,d=0,h=0;if(t===s&&(t=D(i,o)),l[t]===!0){for(r=0;o-d>=i.min&&l[c]&&r<100;)r++,d++,c=D(i,o-d);for(r=0;o+h<i.max&&l[u]&&r<100;)r++,h++,u=D(i,o+h);t=(h<d&&h&&2!==a||!d||o-d<0||1==a)&&!l[u]?u:c}return t}function O(t,a,n,i,l,o){var c,u,d,h,m=le._isVisible;Q=!0,h=ee.validate.call(e,{values:G.slice(0),index:a,direction:n},le)||{},Q=!1,h.valid&&(le._tempWheelArray=G=h.valid.slice(0)),o||r.each(se,function(e,i){if(m&&i._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),i._disabled={},h.disabled&&h.disabled[e]&&r.each(h.disabled[e],function(e,t){i._disabled[t]=!0,m&&i._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),G[e]=i.multiple?G[e]:Y(e,G[e],n),m){if(i.multiple&&a!==s||i._$markup.find(".mbsc-sc-itm-sel").removeClass(q).removeAttr("aria-selected"),i.multiple){if(a===s)for(var o in le._tempSelected[e])i._$markup.find('.mbsc-sc-itm[data-val="'+o+'"]').addClass(q).attr("aria-selected","true")}else i._$markup.find('.mbsc-sc-itm[data-val="'+G[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");u=_(i,G[e]),c=u-i._index+i._batch,Math.abs(c)>2*re+1&&(d=c+(2*re+1)*(c>0?-1:1),i._offset+=d,i._margin-=d*Z,i._refresh()),i._index=u+i._batch,i._scroller.scroll(-(u-i._offset+i._batch)*Z,a===e||a===s?t:ie,l)}}),te("onValidated"),le._tempValue=ee.formatValue(G,le),m&&le._header.html(N(le._tempValue)),le.live&&(le._hasValue=i||le._hasValue,H(i,i,0,!0),i&&te("onSet",{valueText:le._value})),i&&te("onChange",{valueText:le._tempValue})}function L(e,t,a,n,r,i,l){var o=D(e,a);o!==s&&(G[t]=o,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){O(n,t,r,!0,i,l)},10))}function H(e,t,a,s,n){if(s?le._tempValue=ee.formatValue(le._tempWheelArray,le):O(a),!n){le._wheelArray=[];for(var r=0;r<G.length;r++)le._wheelArray[r]=se[r]&&se[r].multiple?Object.keys(le._tempSelected[r])[0]:G[r];le._value=le._hasValue?le._tempValue:null,le._selected=i(!0,{},le._tempSelected)}e&&(le._isInput&&oe.val(le._hasValue?le._tempValue:""),te("onFill",{valueText:le._hasValue?le._tempValue:"",change:t}),t&&(le._preventChange=!0,oe.trigger("change")))}var E,P,W,$,j,q,B,X,R,z,U,K,G,Z,J,Q,ee,te,ae,se,ne,re=40,ie=1e3,le=this,oe=r(e);l.Frame.call(this,e,t,!0),le.setVal=le._setVal=function(t,a,n,i,l){le._hasValue=null!==t&&t!==s,le._tempWheelArray=G=r.isArray(t)?t.slice(0):ee.parseValue.call(e,t,le)||[],H(a,n===s?a:n,l,!1,i)},le.getVal=le._getVal=function(e){var t=le._hasValue||e?le[e?"_tempValue":"_value"]:null;return c.isNumeric(t)?+t:t},le.setArrayVal=le.setVal,le.getArrayVal=function(e){return e?le._tempWheelArray:le._wheelArray},le.changeWheel=function(e,t,a){var n,l;r.each(e,function(e,t){l=ne[e],n=l._nr,l&&(i(l,t),A(l,n,!0),le._isVisible&&(j&&l._$3d.html(I(l,n,l._first+re-W+1,l._last-re+W,!0)),l._$scroller.html(I(l,n,l._first,l._last)).css("margin-top",l._margin+"px"),l._refresh(Q)))}),!le._isVisible||le._isLiquid||Q||le.position(),Q||O(t,s,s,a)},le.getValidValue=Y,le._generateContent=function(){var e,t=0,a="",n=j?d+"transform: translateZ("+(Z*ee.rows/2+3)+"px);":"",l='<div class="mbsc-sc-whl-l" style="'+n+"height:"+Z+"px;margin-top:-"+(Z/2+(ee.selectedLineBorder||0))+'px;"></div>',o=0;return r.each(ee.wheels,function(c,u){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(ee.showLabel?" mbsc-sc-lbl-v":"")+'">'+l+'<div class="mbsc-sc-whl-gr'+(j?" mbsc-sc-whl-gr-3d":"")+(B?" mbsc-sc-cp":"")+(ee.width||ee.maxWidth?'"':'" style="max-width:'+ee.maxPopupWidth+'px;"')+">",r.each(u,function(r,c){le._tempSelected[o]=i({},le._selected[o]),se[o]=A(c,o),t+=ee.maxWidth?ee.maxWidth[o]||ee.maxWidth:ee.width?ee.width[o]||ee.width:0,e=c.label!==s?c.label:r,a+='<div class="mbsc-sc-whl-w '+(c.cssClass||"")+(c.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(ee.width?"width:"+(ee.width[o]||ee.width)+"px;":(ee.minWidth?"min-width:"+(ee.minWidth[o]||ee.minWidth)+"px;":"")+(ee.maxWidth?"max-width:"+(ee.maxWidth[o]||ee.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+l+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(c.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+o+'" class="mbsc-sc-whl" style="height:'+ee.rows*Z*(j?1.1:1)+'px;">'+(B?'<div data-index="'+o+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(ee.btnPlusClass||"")+'" style="height:'+Z+"px;line-height:"+Z+'px;"></div><div data-index="'+o+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(ee.btnMinusClass||"")+'" style="height:'+Z+"px;line-height:"+Z+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+J+"px;margin-top:-"+(J/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(J-Z)/2+'px;">',a+=I(c,o,c._first,c._last)+"</div></div>",j&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+Z+"px;margin-top:-"+Z/2+'px;">',a+=I(c,o,c._first+re-W+1,c._last-re+W,!0),a+="</div>"),a+="</div></div>",o++}),a+="</div></div>"}),t&&(ee.maxPopupWidth=t),a},le._attachEvents=function(e){r(".mbsc-sc-btn",e).on("touchstart mousedown",f).on("touchmove",p).on("touchend touchcancel",g),r(".mbsc-sc-whl",e).on("keydown",v).on("keyup",y)},le._detachEvents=function(){for(var e=0;e<se.length;e++)se[e]._scroller.destroy()},le._markupReady=function(e){E=e,r(".mbsc-sc-whl",E).each(function(e){var t,a=r(this),s=se[e],i=-(s.min-s._offset+(s.multiple&&!j?Math.floor(ee.rows/2):0))*Z,l=Math.min(i,-(s.max-s._offset-(s.multiple&&!j?Math.floor(ee.rows/2):0))*Z);s._$markup=a,s._$scroller=r(".mbsc-sc-whl-sc",this),s._$3d=r(".mbsc-sc-whl-3d",this),s._scroller=new n.classes.ScrollView(this,{mousewheel:ee.mousewheel,moveElement:s._$scroller,initialPos:(s._first-s._index)*Z,contSize:0,snap:Z,minScroll:l,maxScroll:i,maxSnapScroll:re,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){j&&(s._$3d[0].style[u+"Transition"]=t?d+"transform "+Math.round(t)+"ms "+a:"",s._$3d[0].style[u+"Transform"]="rotateX("+-e/Z*$+"deg)")},onStart:function(t,a){a.settings.readonly=k(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,r=a.duration,i=a.destinationY;t=Math.round(-i/Z)+s._offset,L(s,e,t,r,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){F(s,e,t.posY)},onBtnTap:function(t){x(e,r(t.target))}})}),O()},le._fillValue=function(){le._hasValue=!0,H(!0,!0,0,!0)},le._clearValue=function(){r(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",E).removeClass(q).removeAttr("aria-selected")},le._readValue=function(){var t=oe.val()||"",a=0;""!==t&&(le._hasValue=!0),le._tempWheelArray=G=le._hasValue&&le._wheelArray?le._wheelArray.slice(0):ee.parseValue.call(e,t,le)||[],le._tempSelected=i(!0,{},le._selected),r.each(ee.wheels,function(e,t){r.each(t,function(e,t){se[a]=A(t,a),a++})}),H(!1,!1,0,!0),te("onRead")},le.__processSettings=function(){ee=le.settings,te=le.trigger,ae=ee.multiline,q="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+ee.checkIcon,se=[],ne={}},le.__init=function(){B=ee.showScrollArrows,j=ee.scroll3d&&!b&&!B,Z=ee.height,J=j?2*Math.round((Z-.03*(Z*ee.rows/2+3))/2):Z,W=Math.round(1.8*ee.rows),$=360/(2*W),B&&(ee.rows=Math.max(3,ee.rows)),ee.cssClass=(ee.cssClass||"")+" mbsc-sc"},le._getItemValue=C,le._tempSelected={},le._selected={},o||le.init(t)},l.Scroller.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:i({},l.Frame.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,n,i=[],l=[],o=0;return null!==e&&e!==s&&(i=(e+"").split(" ")),r.each(t.settings.wheels,function(e,s){r.each(s,function(e,s){n=s.data,a=t._getItemValue(n[0]),r.each(n,function(e,s){if(i[o]==t._getItemValue(s))return a=t._getItemValue(s),!1}),l.push(a),o++})}),l}})}}(window,document),function(a){var s=e,n=s.$,r=s.util,i=r.isString,l={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};s.presetShort("select"),s.presets.scroller.select=function(e){function s(e){var t,s,r,i,l,o,c=0,u=0,d={};if(W={},V={},I=[],M=[],te.length=0,U)n.each(_,function(n,c){l=c[H.dataText],s=c[H.dataHtml],o=c[H.dataValue],r=c[H.dataGroup],i={value:o,html:s,text:l,index:n},W[o]=i,e&&!g(l,e)||(I.push(i),K&&(d[r]===a?(t={text:r,value:u,options:[],index:u},V[u]=t,d[r]=u,M.push(t),u++):t=V[d[r]],J&&(i.index=t.options.length),i.group=d[r],t.options.push(i)),c[H.dataDisabled]&&te.push(o))});else if(K){var h=!0;n("optgroup",O).each(function(t){V[t]={text:this.label,value:t,options:[],index:t},h=!0,n("option",this).each(function(a){i={value:this.value,text:this.text,index:J?a:c++,group:t},W[this.value]=i,e&&!g(this.text,e)||(h&&(M.push(V[t]),h=!1),I.push(i),V[t].options.push(i),this.disabled&&te.push(this.value))})})}else n("option",O).each(function(t){i={value:this.value,text:this.text,index:t},W[this.value]=i,e&&!g(this.text,e)||(I.push(i),this.disabled&&te.push(this.value))});I.length&&(w=I[0].value),Q&&(I=[],c=0,n.each(V,function(e,t){t.options.length&&(o="__group"+e,i={text:t.text,value:o,group:e,index:c++,cssClass:"mbsc-sel-gr"},W[o]=i,I.push(i),te.push(i.value),n.each(t.options,function(e,t){t.index=c++,I.push(t)}))})),E&&(I.length?E.removeClass("mbsc-sel-empty-v"):E.addClass("mbsc-sel-empty-v"))}function o(e,t,a){var s,n=[];for(s=0;s<e.length;s++)n.push({value:e[s].value,display:e[s].html||e[s].text,cssClass:e[s].cssClass});return{circular:!1,multiple:t,data:n,label:a}}function c(){return o(M,!1,H.groupLabel)}function u(){return o(J?V[D].options:I,B,z)}function d(){var e,t,a=[[]];return Z&&(e=c(),j?a[0][S]=e:a[S]=[e]),t=u(),j?a[0][N]=t:a[N]=[t],a}function h(e){q&&(e&&i(e)&&(e=e.split(",")),n.isArray(e)&&(e=e[0])),A=e!==a&&null!==e&&""!==e&&W[e]?e:w,Z&&(D=W[A]?W[A].group:null)}function m(t,a){var s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return s?H.group&&a?s:s[N]:null}function f(t){var a,s,n=[];if(B){for(a in e._tempSelected[N])n.push(Y[a]||(W[a]?W[a].text:""));return n.join(", ")}return s=t[N],W[s]?W[s].text:""}function p(){var t=e.getVal(),a=e._tempValue;H.filter&&"inline"==H.display||x.val(a),O.val(t)}function b(){var t={};t[N]=u(),F=!0,e.changeWheel(t)}function g(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function v(e){return H.data.dataField?e[H.data.dataField]:H.data.processResponse?H.data.processResponse(e):e}function y(t){var a={};s(t),H.wheels=d(),h(A),a[N]=u(),e._tempWheelArray[N]=A,Z&&(a[S]=c(),e._tempWheelArray[S]=D),e._isVisible&&e.changeWheel(a,0,!0)}var x,_,w,C,T,D,M,V,S,k,A,I,N,F,Y={},O=n(this),L=n.extend({},e.settings),H=n.extend(e.settings,l,L),E=n('<div class="mbsc-sel-empty">'+H.filterEmptyText+"</div>"),P=H.readonly,W={},$=H.layout||(/top|bottom|inline/.test(H.display)||H.filter?"liquid":""),j="liquid"==$,q=r.isNumeric(H.select)?H.select:"multiple"==H.select||O.prop("multiple"),B=q||!!H.filter&&1,X=this.id+"_dummy",R=n('label[for="'+this.id+'"]').attr("for",X),z=H.label!==a?H.label:R.length?R.text():O.attr("name"),U=!!H.data,K=U?!!H.group:n("optgroup",O).length,G=H.group,Z=K&&G&&G.groupWheel!==!1,J=K&&G&&Z&&G.clustered===!0,Q=K&&(!G||G.header!==!1&&!J),ee=O.val()||(q?[]:[""]),te=[];return e.setVal=function(t,a,s,n,l){B&&(t&&!q&&(t=[t]),t&&i(t)&&(t=t.split(",")),e._tempSelected[N]=r.arrayToObject(t),n||(e._selected[N]=r.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,a,s,n,l)},e.getVal=function(t,a){if(B){var s=r.objectToArray(t?e._tempSelected[N]:e._selected[N]);return q?s:s.length?s[0]:null}return m(t,a)},e.refresh=function(e,s){e&&(_=e),!e&&k&&s===a?t(H.data.url,function(e){_=v(e),y()},H.data.dataType):y(s)},H.invalid.length||(H.invalid=te),Z?(S=0,N=1):(S=-1,N=0),B&&(q&&O.prop("multiple",!0),ee&&i(ee)&&(ee=ee.split(",")),e._selected[N]=r.arrayToObject(ee)),e._dummyInput&&e._dummyInput.remove(),O.next().is("input.mbsc-control")?x=O.off(".mbsc-form").next().removeAttr("tabindex"):(H.filter&&"inline"==H.display?e._dummyInput=n('<div class="mbsc-sel-input-wrap"><input type="text" id="'+X+'" class="mbsc-control mbsc-control-ev '+H.inputClass+'" readonly /></div>'):(x=n('<input type="text" id="'+X+'" class="mbsc-control mbsc-control-ev '+H.inputClass+'" readonly />'),e._dummyInput=x),H.showInput&&(e._dummyInput.insertBefore(O),x||(x=e._dummyInput.find("#"+X)))),e.attachShow(x.attr("placeholder",H.placeholder||"")),O.addClass("mbsc-sel-hdn").attr("tabindex",-1),H.filter&&(C=H.filter.minLength||0),k=H.data&&H.data.url,k?e.refresh():(U&&(_=H.data),s(),h(O.val())),{layout:$,headerText:!1,anchor:x,compClass:"mbsc-sel"+(Z?" mbsc-sel-gr-whl":"")+(B?" mbsc-sel-multi":""),setOnTap:!Z||[!1,!0],formatValue:f,parseValue:function(e){return h(e===a?O.val():e),Z?[D,A]:[A]},validate:function(e){var t=e.index,s=[];return s[N]=H.invalid,J&&!F&&t===a&&b(),F=!1,{disabled:s}},onRead:p,onFill:p,onMarkupReady:function(e,s){if(H.filter){var r,i,l,o=n(".mbsc-fr-w",e.target),c=n('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+H.filterClearIcon+'"></span>');"inline"==H.display?(r=x,x.parent().find(".mbsc-sel-filter-clear").remove()):(o.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control mbsc-control-ev"/></span></div>'),r=o.find(".mbsc-sel-filter-input")),T="",l=r[0],r.prop("readonly",!1).attr("placeholder",H.filterPlaceholderText).parent().append(c),o.find(".mbsc-fr-c").prepend(E),s.tap(c,function(){l.value="",s.refresh(),c.removeClass("mbsc-sel-filter-show-clear")}),r.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),l.blur())}).on("keyup",function(){clearTimeout(i),l.value.length?c.addClass("mbsc-sel-filter-show-clear"):c.removeClass("mbsc-sel-filter-show-clear"),i=setTimeout(function(){T!==l.value&&s.trigger("onFilter",{filterText:l.value})!==!1&&(T=l.value,(T.length>=C||!T.length)&&(k&&H.data.remoteFilter?t(H.data.url+encodeURIComponent(T),function(e){s.refresh(v(e))},H.data.dataType):s.refresh(a,T)))},500)})}},onBeforeShow:function(){q&&H.counter&&(H.headerText=function(){var t=0;return n.each(e._tempSelected[N],function(){t++}),(t>1?H.selectedPluralText||H.selectedText:H.selectedText).replace(/{count}/,t)}),h(O.val()),H.filter&&s(a),e.settings.wheels=d(),F=!0},onWheelGestureStart:function(e){e.index==S&&(H.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==S?(H.readonly=P,a[S]!=D&&(D=a[S],A=V[D].options[0].value,a[N]=A,J?b():e.setArrayVal(a,!1,!1,!0,1e3))):t.index==N&&a[N]!=A&&(A=a[N],Z&&A&&W[A].group!=D&&(D=W[A].group,a[S]=D,e.setArrayVal(a,!1,!1,!0,1e3)))},onItemTap:function(e){if(e.index==N&&(Y[e.value]=W[e.value].text,B&&!q&&e.selected))return!1},onClose:function(){k&&H.data.remoteFilter&&T&&e.refresh()},onDestroy:function(){e._dummyInput&&e._dummyInput.remove(),O.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}}}(),function(t){function a(e,t,a,s,n,r,i){var l=new Date(e,t,a,s||0,n||0,r||0,i||0);return 23==l.getHours()&&0===(s||0)&&l.setHours(l.getHours()+2),l}var s=e,n=s.$;s.util.datetime={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:a,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:a,formatDate:function(e,t,a){if(!t)return null;var r,i,l=n.extend({},s.util.datetime.defaults,a),o=function(t){for(var a=0;r+1<e.length&&e.charAt(r+1)==t;)a++,r++;return a},c=function(e,t,a){var s=""+t;if(o(e))for(;s.length<a;)s="0"+s;return s},u=function(e,t,a,s){return o(e)?s[t]:a[t]},d="",h=!1;for(r=0;r<e.length;r++)if(h)"'"!=e.charAt(r)||o("'")?d+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":d+=c("d",l.getDay(t),2);break;case"D":d+=u("D",t.getDay(),l.dayNamesShort,l.dayNames);break;case"o":d+=c("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":d+=c("m",l.getMonth(t)+1,2);break;case"M":d+=u("M",l.getMonth(t),l.monthNamesShort,l.monthNames);break;case"y":i=l.getYear(t),d+=o("y")?i:(i%100<10?"0":"")+i%100;break;case"h":var m=t.getHours();d+=c("h",m>12?m-12:0===m?12:m,2);break;case"H":d+=c("H",t.getHours(),2);break;case"i":d+=c("i",t.getMinutes(),2);break;case"s":d+=c("s",t.getSeconds(),2);break;case"a":d+=t.getHours()>11?l.pmText:l.amText;break;case"A":d+=t.getHours()>11?l.pmText.toUpperCase():l.amText.toUpperCase();break;case"'":o("'")?d+="'":h=!0;break;default:d+=e.charAt(r)}return d},parseDate:function(e,t,a){var r=n.extend({},s.util.datetime.defaults,a),i=r.defaultValue&&r.defaultValue.getTime?r.defaultValue:new Date;if(!e||!t)return i;if(t.getTime)return t;t="object"==typeof t?t.toString():t+"";var l,o=r.shortYearCutoff,c=r.getYear(i),u=r.getMonth(i)+1,d=r.getDay(i),h=-1,m=i.getHours(),f=i.getMinutes(),p=0,b=-1,g=!1,v=function(t){var a=l+1<e.length&&e.charAt(l+1)==t;return a&&l++,a},y=function(e){v(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(w).match(s);return n?(w+=n[0].length,parseInt(n[0],10)):0},x=function(e,a,s){var n,r=v(e)?s:a;for(n=0;n<r.length;n++)if(t.substr(w,r[n].length).toLowerCase()==r[n].toLowerCase())return w+=r[n].length,n+1;return 0},_=function(){w++},w=0;for(l=0;l<e.length;l++)if(g)"'"!=e.charAt(l)||v("'")?_():g=!1;else switch(e.charAt(l)){case"d":d=y("d");break;case"D":x("D",r.dayNamesShort,r.dayNames);break;case"o":h=y("o");break;case"m":u=y("m");break;case"M":u=x("M",r.monthNamesShort,r.monthNames);break;case"y":c=y("y");break;case"H":m=y("H");break;case"h":m=y("h");break;case"i":f=y("i");break;case"s":p=y("s");break;case"a":b=x("a",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"A":b=x("A",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"'":v("'")?_():g=!0;break;default:_()}if(c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),h>-1)for(u=1,d=h;;){var C=32-new Date(c,u-1,32,12).getDate();if(d<=C)break;u++,d-=C}m=b==-1?m:b&&m<12?m+12:b||12!=m?m:0;var T=r.getDate(c,u-1,d,m,f,p);return r.getYear(T)!=c||r.getMonth(T)+1!=u||r.getDay(T)!=d?i:T}}}();var a=e.util.datetime;return function(t){var s=e,n=s.$,r=a.adjustedDate,i={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},l=function(e){function l(e){return e<10?"0"+e:e}function o(e){var t,a,s,n=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.start.getTime)for(s=new Date(a.start);s<=a.end;)n.push(r(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else n.push(a);return n}return e}function c(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function u(e,t,a){return Math.floor((a-t)/e)*e+t}function d(e){return j.getYear(e)}function h(e){return j.getMonth(e)}function m(e){return j.getDay(e)}function f(e){var t=e.getHours();return t=ae&&t>=12?t-12:t,c(t,re,ce,he)}function p(e){return c(e.getMinutes(),ie,ue,me)}function b(e){return c(e.getSeconds(),le,de,fe)}function g(e){return e.getMilliseconds()}function v(e){return e.getHours()>11?1:0}function y(e){return e.getFullYear()+"-"+l(e.getMonth()+1)+"-"+l(e.getDate())}function x(e){return c(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),Y,0,86400)}function _(e,a,s,n){var r;return H[a]===t||(r=+e[H[a]],isNaN(r))?s?ye[a](s):E[a]!==t?E[a]:ye[a](n):r}function w(e){var a,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;H.dd!==t&&(a=e[H.dd].split("-"),a=new Date(a[0],a[1]-1,a[2])),H.tt!==t&&(a=a||s,a=new Date(a.getTime()+e[H.tt]%86400*1e3));var n=_(e,"y",a,s),r=_(e,"m",a,s),i=Math.min(_(e,"d",a,s),j.getMaxDayOfMonth(n,r)),l=_(e,"h",a,s);return j.getDate(n,r,i,ae&&_(e,"a",a,s)?l+12:l,_(e,"i",a,s),_(e,"s",a,s),_(e,"u",a,s))}function C(e,a){var s,n,r=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||e===t)return e;for(s=0;s<r.length;s++)n=r[s],H[n]!==t&&(i[H[n]]=ye[n](e)),a&&(E[n]=ye[n](e));return i}function T(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function D(e){return{value:e,display:(/yy/i.test(G)?e:(e+"").substr(2,2))+(j.yearSuffix||"")}}function M(e){return e}function V(e){var s=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:Q?T(y(Q),s):t,max:ee?T(y(ee),s):t,data:function(t){var n=new Date((new Date).setHours(0,0,0,0)),r=s?new Date(864e5*t):new Date(1970,t,1);return s&&(r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())),{invalid:s&&!A(r,!0),value:y(r),display:n.getTime()==r.getTime()?j.todayText:a.formatDate(e,r,j)}},getIndex:function(e){return T(e,s)}}}function S(e){var t,s,n,r=[];for(/s/i.test(e)?s=le:/i/i.test(e)?s=60*ie:/h/i.test(e)&&(s=3600*re),Y=ge.tt=s,t=0;t<86400;t+=s)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),r.push({value:t,display:a.formatDate(e,n,j)});return{label:"",cssClass:"mbsc-dt-whl-time",data:r}}function k(e,t){var a,s,n=!1,r=!1,i=0,l=0,o=Q?w(C(Q)):-(1/0),c=ee?w(C(ee)):1/0;if(A(e))return e;if(e<o&&(e=o),
e>c&&(e=c),a=e,s=e,2!==t)for(n=A(a);!n&&a<c;)a=new Date(a.getTime()+864e5),n=A(a),i++;if(1!==t)for(r=A(s);!r&&s>o;)s=new Date(s.getTime()-864e5),r=A(s),l++;return 1===t&&n?a:2===t&&r?s:l<=i&&r?s:a}function A(e,t){return!(!t&&e<Q)&&(!(!t&&e>ee)&&(!!I(e,B)||!I(e,q)))}function I(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(a.getTime){if(e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0}else if(n.match(/w/i)){if((n=+n.replace("w",""))==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function N(e,t,a,s,n,r,i){var l,o,c,u;if(e)for(o=0;o<e.length;o++)if(l=e[o],u=l+"",!l.start)if(l.getTime)j.getYear(l)==t&&j.getMonth(l)==a&&(r[j.getDay(l)]=i);else if(u.match(/w/i))for(u=+u.replace("w",""),c=u-s;c<n;c+=7)c>=0&&(r[c+1]=i);else u=u.split("/"),u[1]?u[0]-1==a&&(r[u[1]]=i):r[u[0]]=i}function F(e,a,s,n,r,i,l,o){var u,d,h,m,f,p,b,g,v,y,x,_,w,C,T,D,M,V,S,k,A={},I=j.getDate(n,r,i),N=["a","h","i","s"];if(e){for(b=0;b<e.length;b++)x=e[b],x.start&&(x.apply=!1,h=x.d,M=h+"",V=M.split("/"),h&&(h.getTime&&n==j.getYear(h)&&r==j.getMonth(h)&&i==j.getDay(h)||!M.match(/w/i)&&(V[1]&&i==V[1]&&r==V[0]-1||!V[1]&&i==V[0])||M.match(/w/i)&&I.getDay()==+M.replace("w",""))&&(x.apply=!0,A[I]=!0));for(b=0;b<e.length;b++)if(x=e[b],u=0,D=0,g=pe[s],v=be[s],C=!0,T=!0,d=!1,x.start&&(x.apply||!x.d&&!A[I])){for(_=x.start.split(":"),w=x.end.split(":"),y=0;y<3;y++)_[y]===t&&(_[y]=0),w[y]===t&&(w[y]=59),_[y]=+_[y],w[y]=+w[y];if("tt"==s)g=c(Math.round((new Date(I).setHours(_[0],_[1],_[2])-new Date(I).setHours(0,0,0,0))/1e3),Y,0,86400),v=c(Math.round((new Date(I).setHours(w[0],w[1],w[2])-new Date(I).setHours(0,0,0,0))/1e3),Y,0,86400);else{for(_.unshift(_[0]>11?1:0),w.unshift(w[0]>11?1:0),ae&&(_[1]>=12&&(_[1]=_[1]-12),w[1]>=12&&(w[1]=w[1]-12)),y=0;y<a;y++)P[y]!==t&&(S=c(_[y],ge[N[y]],pe[N[y]],be[N[y]]),k=c(w[y],ge[N[y]],pe[N[y]],be[N[y]]),m=0,f=0,p=0,ae&&1==y&&(m=_[0]?12:0,f=w[0]?12:0,p=P[0]?12:0),C||(S=0),T||(k=be[N[y]]),(C||T)&&S+m<P[y]+p&&P[y]+p<k+f&&(d=!0),P[y]!=S&&(C=!1),P[y]!=k&&(T=!1));if(!o)for(y=a+1;y<4;y++)_[y]>0&&(u=ge[s]),w[y]<be[N[y]]&&(D=ge[s]);d||(S=c(_[a],ge[s],pe[s],be[s])+u,k=c(w[a],ge[s],pe[s],be[s])-D,C&&(g=S),T&&(v=k))}if(C||T||d)for(y=g;y<=v;y+=ge[s])l[y]=!o}}}var Y,O,L,H={},E={},P=[],W=function(e){var t,s,n,r={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",r.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}r.format=t,s=e.attr("min"),n=e.attr("max"),s&&(r.min=a.parseDate(t,s)),n&&(r.max=a.parseDate(t,n))}return r}(n(this)),$=n.extend({},e.settings),j=n.extend(e.settings,s.util.datetime.defaults,i,W,$),q=o(j.invalid),B=o(j.valid),X=j.preset,R="datetime"==X?j.dateFormat+j.separator+j.timeFormat:"time"==X?j.timeFormat:j.dateFormat,z=W.format||R,U=j.dateWheels||j.dateFormat,K=j.timeWheels||j.timeFormat,G=j.dateWheels||j.dateDisplay,Z=K,J=j.baseTheme||j.theme,Q=j.min,ee=j.max,te=/time/i.test(X),ae=/h/.test(Z),se=/D/.test(G),ne=j.steps||{},re=ne.hour||j.stepHour||1,ie=ne.minute||j.stepMinute||1,le=ne.second||j.stepSecond||1,oe=ne.zeroBased,ce=oe||!Q?0:Q.getHours()%re,ue=oe||!Q?0:Q.getMinutes()%ie,de=oe||!Q?0:Q.getSeconds()%le,he=u(re,ce,ae?11:23),me=u(ie,ue,59),fe=u(ie,ue,59),pe={y:Q?Q.getFullYear():-(1/0),m:0,d:1,h:ce,i:ue,s:de,a:0,tt:0},be={y:ee?ee.getFullYear():1/0,m:11,d:31,h:he,i:me,s:fe,a:1,tt:86400},ge={y:1,m:1,d:1,h:re,i:ie,s:le,a:1,tt:1},ve={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ye={y:d,m:h,d:m,h:f,i:p,s:b,u:g,a:v,dd:y,tt:x};return e.getDate=e.getVal=function(t){return e._hasValue||t?w(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,r){e.setArrayVal(C(t),a,r,n,s)},L=function(){var e,a,s,n,r,i,o,c,u=0,d=[],h=[],m=[];if(X.match(/date/i)){for(e=U.split(/\|/.test(U)?"|":""),n=0;n<e.length;n++)if(s=e[n],i=0,s.length)if(/y/i.test(s)&&i++,/m/i.test(s)&&i++,/d/i.test(s)&&i++,i>1&&H.dd===t)H.dd=u,u++,h.push(V(s)),m=h,O=!0;else if(/y/i.test(s)&&H.y===t)H.y=u,u++,h.push({cssClass:"mbsc-dt-whl-y",label:j.yearText,min:Q?j.getYear(Q):t,max:ee?j.getYear(ee):t,data:D,getIndex:M});else if(/m/i.test(s)&&H.m===t){for(H.m=u,o=[],u++,r=0;r<12;r++)c=G.replace(/[dy]/gi,"").replace(/mm/,l(r+1)+(j.monthSuffix||"")).replace(/m/,r+1+(j.monthSuffix||"")),o.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+j.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+j.monthNamesShort[r]+"</span>")});h.push({cssClass:"mbsc-dt-whl-m",label:j.monthText,data:o})}else if(/d/i.test(s)&&H.d===t){for(H.d=u,o=[],u++,r=1;r<32;r++)o.push({value:r,display:(/dd/i.test(G)?l(r):r)+(j.daySuffix||"")});h.push({cssClass:"mbsc-dt-whl-d",label:j.dayText,data:o})}d.push(h)}if(X.match(/time/i)){for(a=K.split(/\|/.test(K)?"|":""),n=0;n<a.length;n++)if(s=a[n],i=0,s.length&&(/h/i.test(s)&&i++,/i/i.test(s)&&i++,/s/i.test(s)&&i++,/a/i.test(s)&&i++),i>1&&H.tt===t)H.tt=u,u++,m.push(S(s));else if(/h/i.test(s)&&H.h===t){for(o=[],H.h=u,u++,r=ce;r<(ae?12:24);r+=re)o.push({value:r,display:ae&&0===r?12:/hh/i.test(Z)?l(r):r});m.push({cssClass:"mbsc-dt-whl-h",label:j.hourText,data:o})}else if(/i/i.test(s)&&H.i===t){for(o=[],H.i=u,u++,r=ue;r<60;r+=ie)o.push({value:r,display:/ii/i.test(Z)?l(r):r});m.push({cssClass:"mbsc-dt-whl-i",label:j.minuteText,data:o})}else if(/s/i.test(s)&&H.s===t){for(o=[],H.s=u,u++,r=de;r<60;r+=le)o.push({value:r,display:/ss/i.test(Z)?l(r):r});m.push({cssClass:"mbsc-dt-whl-s",label:j.secText,data:o})}else/a/i.test(s)&&H.a===t&&(H.a=u,u++,m.push({cssClass:"mbsc-dt-whl-a",label:j.ampmText,data:/A/.test(s)?[{value:0,display:j.amText.toUpperCase()},{value:1,display:j.pmText.toUpperCase()}]:[{value:0,display:j.amText},{value:1,display:j.pmText}]}));m!=h&&d.push(m)}return d}(),e.format=R,e.order=H,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:j.nowText,icon:j.nowIcon,handler:"now"},{minWidth:O&&te?ve[J]:t,compClass:"mbsc-dt",wheels:L,headerText:!!j.headerText&&function(){return a.formatDate(R,w(e.getArrayVal(!0)),j)},formatValue:function(e){return a.formatDate(z,w(e),j)},parseValue:function(e){return e||(E={}),C(e?a.parseDate(z,e,j):j.defaultValue&&j.defaultValue.getTime?j.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(a){var s,r,i,l,o=a.values,c=a.index,u=a.direction,d=e.settings.wheels[0][H.d],h=k(w(o),u),m=C(h),f=[],p={},b=ye.y(h),g=ye.m(h),v=j.getMaxDayOfMonth(b,g),y=!0,x=!0;if(n.each(["dd","y","m","d","tt","a","h","i","s"],function(e,a){if(H[a]!==t){var s=pe[a],i=be[a],l=ye[a](h);if(f[H[a]]=[],y&&Q&&(s=ye[a](Q)),x&&ee&&(i=ye[a](ee)),"y"!=a&&"dd"!=a)for(r=pe[a];r<=be[a];r+=ge[a])(r<s||r>i)&&f[H[a]].push(r);if(l<s&&(l=s),l>i&&(l=i),y&&(y=l==s),x&&(x=l==i),"d"==a){var o=j.getDate(b,g,1).getDay(),c={};N(q,b,g,o,v,c,1),N(B,b,g,o,v,c,0),n.each(c,function(e,t){t&&f[H[a]].push(e)})}}}),te&&n.each(["a","h","i","s","tt"],function(a,s){var r=ye[s](h),i=ye.d(h),l={};H[s]!==t&&(F(q,a,s,b,g,i,l,0),F(B,a,s,b,g,i,l,1),n.each(l,function(e,t){t&&f[H[s]].push(e)}),P[a]=e.getValidValue(H[s],r,u,l))}),d&&(d._length!==v||se&&(c===t||c===H.y||c===H.m))){for(p[H.d]=d,d.data=[],s=1;s<=v;s++)l=j.getDate(b,g,s).getDay(),i=G.replace(/[my]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(j.daySuffix||"")).replace(/d/,s+(j.daySuffix||"")),d.data.push({value:s,display:i.match(/DD/)?i.replace(/DD/,'<span class="mbsc-dt-day">'+j.dayNames[l]+"</span>"):i.replace(/D/,'<span class="mbsc-dt-day">'+j.dayNamesShort[l]+"</span>")});e._tempWheelArray[H.d]=m[H.d],e.changeWheel(p)}return{disabled:f,valid:m}}}};n.each(["date","time","datetime"],function(e,t){s.presets.scroller[t]=l})}(),function(){e.$.each(["date","time","datetime"],function(t,a){e.presetShort(a)})}(),function(t){var a=e,s=a.$,n={invalid:[],showInput:!0,inputClass:""};a.presets.scroller.list=function(e){function a(e,t,a){for(var s=0,n=[];s<e;)n[s]=r(a,s,t),s++;return n}function r(e,t,a){for(var s,n=0,r=a,i=[];n<t;){var l=e[n];for(s in r)if(r[s].key==l){r=r[s].children;break}n++}for(n=0;n<r.length;)r[n].invalid&&i.push(r[n].key),n++;return i}function i(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}function l(e,a,s){var n,r,i,l=0,u=[[]],d=V;if(a)for(n=0;n<a;n++)x?u[0][n]={}:u[n]=[{}];for(;l<e.length;){for(x?u[0][l]=c(d,S[l]):u[l]=[c(d,S[l])],n=0,i=t;n<d.length&&i===t;)d[n].key==e[l]&&(s!==t&&l<=s||s===t)&&(i=n),n++;if(i!==t&&d[i].children)l++,d=d[i].children;else{if(!(r=o(d))||!r.children)return u;l++,d=r.children}}return u}function o(e,t){if(!e)return!1;for(var a,s=0;s<e.length;)if(!(a=e[s++]).invalid)return t?s-1:a;return!1}function c(e,t){for(var a={data:[],label:t},s=0;s<e.length;)a.data.push({value:e[s].key,display:e[s].value}),s++;return a}function u(t){e._isVisible&&s(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function d(e,a){var s,n,r,i=[],l=V,c=0,u=!1;if(e[c]!==t&&c<=a)for(s=0,n=e[c],r=t;s<l.length&&r===t;)l[s].key!=e[c]||l[s].invalid||(r=s),s++;else r=o(l,!0),n=l[r].key;for(u=r!==t&&l[r].children,i[c]=n;u;){if(l=l[r].children,c++,u=!1,r=t,e[c]!==t&&c<=a)for(s=0,n=e[c],r=t;s<l.length&&r===t;)l[s].key!=e[c]||l[s].invalid||(r=s),s++;else r=o(l,!0),r=r===!1?t:r,n=l[r].key;u=!(r===t||!o(l[r].children))&&l[r].children,i[c]=n}return{lvl:c+1,nVector:i}}function h(a){var n=[];return T=T>D++?T:D,a.children("li").each(function(a){var r=s(this),i=r.clone();i.children("ul,ol").remove();var l=e._processMarkup?e._processMarkup(i):i.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),o=!!r.attr("data-invalid"),c={key:r.attr("data-val")===t||null===r.attr("data-val")?a:r.attr("data-val"),value:l,invalid:o,children:null},u=r.children("ul,ol");u.length&&(c.children=h(u)),n.push(c)}),D--,n}function m(t,a,s){var n,r=(a||0)+1,i=[],o={},c={};for(o=l(t,null,a),n=0;n<t.length;n++)e._tempWheelArray[n]=t[n]=s.nVector[n]||0;for(;r<s.lvl;)c[r]=x?o[0][r]:o[r][0],i.push(r++);u(s.lvl),M=t.slice(0),i.length&&(p=!0,e.changeWheel(c))}var f,p,b,g=s.extend({},e.settings),v=s.extend(e.settings,n,g),y=v.layout||(/top|bottom/.test(v.display)?"liquid":""),x="liquid"==y,_=v.readonly,w=s(this),C=this.id+"_dummy",T=0,D=0,M=[],V=v.wheelArray||h(w),S=function(e){var t,a=[];for(t=0;t<e;t++)a[t]=v.labels&&v.labels[t]?v.labels[t]:t;return a}(T),k=function(e){for(var t,a=[],s=e,n=!0,r=0;n;)t=o(s),a[r++]=t.key,(n=t.children)&&(s=n);return a}(V),A=l(k,T);return s("#"+C).remove(),v.showInput&&(f=s('<input type="text" id="'+C+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w),v.anchor=f,e.attachShow(f)),v.wheelArray||w.hide(),{wheels:A,layout:y,headerText:!1,setOnTap:1==T,formatValue:function(e){return b===t&&(b=d(e,e.length).lvl),e.slice(0,b).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||k).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=l(t,T,T),p=!0},onWheelGestureStart:function(e){v.readonly=i(T,e.index)},onWheelAnimationEnd:function(t){var a=t.index,s=e.getArrayVal(!0),n=d(s,a);b=n.lvl,v.readonly=_,s[a]!=M[a]&&m(s,a,n)},onFill:function(e){b=t,f&&f.val(e.valueText)},validate:function(e){var s=e.values,n=e.index,r=d(s,s.length);return b=r.lvl,n===t&&(u(r.lvl),p||m(s,n,r)),p=!1,{disabled:a(b,V,s)}},onDestroy:function(){f&&f.remove(),w.show()}}}}(),function(){var t=e,a=t.presets.scroller;a.treelist=a.list,t.presetShort("list"),t.presetShort("treelist")}(),function(t){var a=function(){},s=e,n=s.$;s.util.addIcon=function(e,t){var a={},s=e.parent(),r=s.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",l=e.attr("data-icon");n('<span class="mbsc-input-wrap"></span>').insertAfter(e).append(e),r&&s.find(".mbsc-input-wrap").append(r),l&&(l.indexOf("{")!==-1?a=JSON.parse(l):a[i]=l),(l||t)&&(n.extend(a,t),s.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find(".mbsc-input-wrap").append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))},s.classes.Progress=function(e,r,i){function l(){var e=o("value",g);e!==_&&c(e)}function o(e,a){var s=d.attr(e);return s===t||""===s?a:+s}function c(e,a,s,n){e=Math.min(v,Math.max(e,g)),m.css("width",100*(e-g)/(v-g)+"%"),s===t&&(s=!0),n===t&&(n=s),(e!==_||a)&&C._display(e),e!==_&&(_=e,s&&d.attr("value",_),n&&d.trigger("change"))}var u,d,h,m,f,p,b,g,v,y,x,_,w,C=this;s.classes.Base.call(this,e,r,!0),C._onInit=a,C._onDestroy=a,C._display=function(e){w=x&&y.returnAffix?x.replace(/\{value\}/,e).replace(/\{max\}/,v):e,f&&f.html(w),u&&u.html(w)},C._attachChange=function(){d.on("change",l)},C._init=function(a){var r,i,l,c;if(y=C.settings,d=n(e),c=d.parent().hasClass("mbsc-input-wrap"),h=C._$parent=c?h:d.parent(),g=C._min=a.min===t?o("min",y.min):a.min,v=C._max=a.max===t?o("max",y.max):a.max,_=o("value",g),r=d.attr("data-val")||y.val,l=d.attr("data-step-labels"),l=l?JSON.parse(l):y.stepLabels,x=d.attr("data-template")||(100!=v||y.template?y.template:"{value}%"),c?(r&&(u.remove(),h.removeClass("mbsc-progress-value-"+("right"==r?"right":"left"))),l&&n(".mbsc-progress-step-label",p).remove()):(C._wrap&&s.util.addIcon(d),h.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),m=C._$progress=h.find(".mbsc-progress-bar"),p=C._$track=h.find(".mbsc-progress-track")),b&&h.removeClass(b),b=C._css+" mbsc-progress-w mbsc-control-w mbsc-"+y.theme+(y.baseTheme?" mbsc-"+y.baseTheme:"")+(y.rtl?" mbsc-rtl":" mbsc-ltr"),h.addClass(b),d.addClass("mbsc-control").attr("min",g).attr("max",v),r&&(u=n('<span class="mbsc-progress-value"></span>'),h.addClass("mbsc-progress-value-"+("right"==r?"right":"left")).find(".mbsc-input-wrap").append(u)),l)for(i=0;i<l.length;++i)p.append('<span class="mbsc-progress-step-label" style="'+(y.rtl?"right":"left")+": "+100*(l[i]-g)/(v-g)+'%" >'+l[i]+"</span>");f=n(d.attr("data-target")||y.target),C._onInit(a),c||C._attachChange(),C.refresh()},C._destroy=function(){C._onDestroy(),h.find(".mbsc-progress-cont").remove(),h.removeClass(b).find(".mbsc-input-wrap").before(d).remove(),d.removeClass("mbsc-control").off("change",l)},C.refresh=function(){c(o("value",g),!0,!1)},C.getVal=function(){return _},C.setVal=function(e,t,a){c(e,!0,t,a)},i||C.init(r)},s.classes.Progress.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{min:0,max:100,returnAffix:!0}},s.presetShort("progress","Progress")}(),function(t){var a=function(){},s=e,n=s.$,r=s.util,i=r.getCoord,l=r.testTouch;s.classes.Slider=function(e,o,c){function u(t){!l(t,this)||F||e.disabled||(Z.stopProp&&t.stopPropagation(),F=!0,U=!1,Y=!1,Q=i(t,"X"),ee=i(t,"Y"),E=Q,N.removeClass("mbsc-progress-anim"),D=K?n(".mbsc-slider-handle",this):V,M&&M.removeClass("mbsc-handle-curr"),M=D.parent().addClass("mbsc-active mbsc-handle-curr"),W=+D.attr("data-index"),se=N[0].offsetWidth,H=N[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),n(document).on("mousemove",d).on("mouseup",h)))}function d(e){F&&(E=i(e,"X"),P=i(e,"Y"),O=E-Q,L=P-ee,(Math.abs(O)>5||U)&&(U=!0,Math.abs(ie-new Date)>50&&(ie=new Date,x(E,Z.round,X))),U?e.preventDefault():Math.abs(L)>7&&y())}function h(e){F&&(e.preventDefault(),K||N.addClass("mbsc-progress-anim"),x(E,!0,!0),U||Y||(r.preventClick(),re._onTap(ne[W])),y())}function m(){F&&y()}function f(){var e=re._readValue(n(this)),t=+n(this).attr("data-index");e!==ne[t]&&(ne[t]=e,C(e,t))}function p(e){e.stopPropagation()}function b(e){e.preventDefault()}function g(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),ae||(W=+n(this).attr("data-index"),C(ne[W]+G*a,W,!0),ae=setInterval(function(){C(ne[W]+G*a,W,!0)},200)))}}function v(e){e.preventDefault(),clearInterval(ae),ae=null}function y(){F=!1,M.removeClass("mbsc-active"),n(document).off("mousemove",d).off("mouseup",h)}function x(e,t,a){var s=t?Math.min(Math.round(Math.max(100*(e-H)/se,0)/J/G)*G*100/(R-z),100):Math.max(0,Math.min(100*(e-H)/se,100));B&&(s=100-s),C(Math.round((z+s/J)*te)/te,W,a,s)}function _(e){return 100*(e-z)/(R-z)}function w(e,a){var s=T.attr(e);return s===t||""===s?a:"true"===s}function C(e,a,s,n,r,i){var l=V.eq(a),o=l.parent();e=Math.min(R,Math.max(e,z)),i===t&&(i=s),q?0===a?(e=Math.min(e,ne[1]),A.css({width:_(ne[1])-_(e)+"%",left:B?"auto":_(e)+"%",right:B?_(e)+"%":"auto"})):(e=Math.max(e,ne[0]),A.css({width:_(e)-_(ne[0])+"%"})):K||!$?o.css({left:B?"auto":(n||_(e))+"%",right:B?(n||_(e))+"%":"auto"}):A.css("width",(n||_(e))+"%"),j&&I.eq(a).html(e),e>z?o.removeClass("mbsc-slider-start"):(ne[a]>z||r)&&o.addClass("mbsc-slider-start"),K||ne[a]==e&&!r||re._display(e),s&&ne[a]!=e&&(Y=!0,ne[a]=e,re._fillValue(e,a,i)),l.attr("aria-valuenow",e)}var T,D,M,V,S,k,A,I,N,F,Y,O,L,H,E,P,W,$,j,q,B,X,R,z,U,K,G,Z,J,Q,ee,te,ae,se,ne,re=this,ie=new Date;s.classes.Progress.call(this,e,o,!0),re._onTap=a,re.__onInit=a,re._readValue=function(e){return+e.val()},re._fillValue=function(e,t,a){T.eq(t).val(e),a&&T.eq(t).trigger("change")},re._attachChange=function(){T.on(Z.changeEvent,f)},re._onInit=function(e){var a,s,r;if(k&&(k.removeClass("mbsc-slider-has-tooltip"),1!=G&&n(".mbsc-slider-step",N).remove()),re.__onInit(),k=re._$parent,N=re._$track,A=re._$progress,T=k.find("input"),Z=re.settings,z=re._min,R=re._max,G=e.step===t?+T.attr("step")||Z.step:e.step,X=w("data-live",Z.live),j=w("data-tooltip",Z.tooltip),$=w("data-highlight",Z.highlight)&&T.length<3,te=G%1!=0?100/(100*+(G%1).toFixed(2)):1,J=100/(R-z)||100,K=T.length>1,q=$&&2==T.length,B=Z.rtl,ne=[],j&&k.addClass("mbsc-slider-has-tooltip"),1!=G)for(s=(R-z)/G,a=0;a<=s;++a)N.append('<span class="mbsc-slider-step" style="'+(B?"right":"left")+":"+100/s*a+'%"></span>');V&&(r=!0,V.parent().remove()),T.each(function(e){ne[e]=re._readValue(n(this)),n(this).attr("data-index",e),"range"==this.type&&n(this).attr("min",z).attr("max",R).attr("step",G),Z.handle&&($?A:N).append('<span class="mbsc-slider-handle-cont'+(q&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+z+'" aria-valuemax="'+R+'" data-index="'+e+'"></span>'+(j?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),V=k.find(".mbsc-slider-handle"),I=k.find(".mbsc-slider-tooltip"),S=k.find(K?".mbsc-slider-handle-cont":".mbsc-progress-cont"),V.on("keydown",g).on("keyup",v).on("blur",v),S.on("touchstart mousedown",u).on("touchmove",d).on("touchend touchcancel",h).on("pointercancel",m),r||(T.on("click",p),k.on("click",b))},re._onDestroy=function(){k.off("click",b),T.off(Z.changeEvent,f).off("click",p),V.off("keydown",g).off("keyup",v).off("blur",v),S.off("touchstart mousedown",u).off("touchmove",d).off("touchend",h).off("touchcancel pointercancel",m)},re.refresh=function(){T.each(function(e){C(re._readValue(n(this)),e,!0,!1,!0,!1)})},re.getVal=function(){return K?ne.slice(0):ne[0]},re.setVal=re._setVal=function(e,t,a){n.isArray(e)||(e=[e]),n.each(e,function(e,t){C(t,e,!0,!1,!0,a)})},c||re.init(o)},s.classes.Slider.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,handle:!0,round:!0,returnAffix:!0}},s.presetShort("slider","Slider")}(),function(t){function a(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return m.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function s(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function n(e){var t,a,s,n=e.h,r=255*e.s/100,i=255*e.v/100;if(0===r)t=a=s=i;else{var l=i,o=(255-r)*i/255,c=n%60*(l-o)/60;360==n&&(n=0),n<60?(t=l,s=o,a=o+c):n<120?(a=l,s=o,t=l-c):n<180?(a=l,t=o,s=o+c):n<240?(s=l,t=o,a=l-c):n<300?(s=l,a=o,t=o+c):n<360?(t=l,a=o,s=l-c):t=a=s=0}return{r:t,g:a,b:s,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function r(e){var t,a,s=0,n=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),i=r-n;return a=r,t=r?255*i/r:0,s=t?e.r==r?(e.g-e.b)/i:e.g==r?2+(e.b-e.r)/i:4+(e.r-e.g)/i:-1,s*=60,s<0&&(s+=360),t*=100/255,a*=100/255,{h:s,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function i(e){var t,a,s=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(s,n,r),l=Math.min(s,n,r),o=(i+l)/2;if(i==l)t=a=0;else{var c=i-l;switch(a=o>.5?c/(2-i-l):c/(i+l),i){case s:t=(n-r)/c+(n<r?6:0);break;case n:t=(r-s)/c+2;break;case r:t=(s-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function l(e){var t,a,s,n,r,i,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),r=(1-Math.abs(2*c-1))*o,i=r*(1-Math.abs(l%2-1)),l<1?(t=r,a=i,s=0):l<2?(t=i,a=r,s=0):l<3?(t=0,a=r,s=i):l<4?(t=0,a=i,s=r):l<5?(t=i,a=0,s=r):(t=r,a=0,s=i),n=c-r/2,{r:Math.round(255*(t+n)),g:Math.round(255*(a+n)),b:Math.round(255*(s+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function o(e){return i(s(e))}function c(e){return a(l(e))}function u(e){return a(n(e))}function d(e){return r(s(e))}var h=e,m=h.$,f=h.util,p=function(){},b=h.classes;b.Color=function(e,n,r){function i(e,t,a,s,n){if(!n){te._value=te._hasValue?te._tempValue.slice(0):null;for(var r=0;r<A.length;++r)A[r].tempChangedColor&&te._value&&te._value.indexOf(A[r].tempChangedColor)!=-1&&(A[r].changedColor=A[r].tempChangedColor),delete A[r].tempChangedColor}e&&(te._isInput&&ae.val(te._hasValue?te._tempValue:""),N("onFill",{valueText:te._hasValue?te._tempValue:"",change:t}),t&&(ne=m.extend(!0,{},re),te._preventChange=!0,ae.trigger("change"),w(te._value)))}function l(e,a){return a=a!==t?a:p(e),'<div class="mbsc-color-input-item" data-color="'+(a!==t?a:e)+'" style="background: '+e+';">'+(z?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function h(e){$[0].style.background=e?f.prefix+"linear-gradient(left, "+(S.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(S.rtl?"#FFFFFF":"#000000")+" 100%)":""}function p(e){if(Object.keys(re).length&&!isNaN(e))return e;for(var t in A)if(e==A[t].color||e==A[t].changedColor)return t}function g(){if(R){var e,a="";if(G.empty(),te._value){if(z)a+=l(te._value,X);else for(e=0;e<te._value.length;++e)a+=l(te._value[e],Object.keys(re).length&&re[e].colorIndex?re[e].colorIndex:p(te._value[e]));G.append(a),te.tap(m(".mbsc-color-input-item",G),function(e){if(m(e.target).hasClass("mbsc-color-input-item-close")){var a=m(this).index();e.stopPropagation(),e.preventDefault(),X===t&&(X=m(e.target).parent().attr("data-color")),W&&(se=A[X].previewInd,J.eq(se).parent().removeClass("mbsc-color-active"),ne[a]={},re[a]={}),te._value.splice(a,1),te.setVal(te._value,!0,!0)}else j&&"inline"!==S.display&&(E=!0,X=m(e.target).attr("data-color"),isNaN(X)&&(X=p(X)),X&&(A[X].selected=!0,se=A[X].previewInd,setTimeout(function(){F.scroll(Z.eq(X),400),W&&Y.scroll(J.eq(se),400)},200)))})}}}function v(e,t){var s,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:s=a({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:s=c({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:s=u({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:s=e}return y(s,t||S.format)}function y(e,t){switch(t){case"rgb":return s(e);case"hsl":return o(e);case"hsv":return d(e);default:return e}}function x(){var e;for(e=0;e<S.select;++e)if(re[e].colorIndex===t)return e}function _(e,a){m(".mbsc-color-active",a).removeClass("mbsc-color-active"),j&&(e.parent().addClass("mbsc-color-active"),W&&e&&se!==t&&J.eq(se).parent().addClass("mbsc-color-active"))}function w(e,a){var s,n,r=[],i=0,l=m.map(A,function(e){return e.changedColor||e.color});if(z){if(e=m.isArray(e)?e[0]:e,n=l.indexOf(e),n>-1&&r.push(n),e&&!r.length){var o=+m(".mbsc-color-input-item",G).attr("data-color");isNaN(o)||r.push(o),X=o}}else if(e)if(W&&j)for(var c in ne)ne[c].colorIndex!==t&&r.push(+ne[c].colorIndex);else for(s=0;s<e.length;++s)(n=l.indexOf(e[s]))>-1&&(r.push(n),l[n]="temp"+s);for(s=0;s<r.length;++s)C(!0,r[s],i++,A[r[s]].changedColor||A[r[s]].color,!0);for(s=0;s<A.length;++s)r.indexOf(s)==-1&&C(!1,s,t,A[s].changedColor||A[s].color,!1);if(W)for(s=i;s<S.select;++s)re[s]={},J&&J.eq(s).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ne=m.extend(!0,{},re),a!==!1&&g()}function C(e,a,s,n,r,i){if(W&&r&&(re[s].colorIndex=e?a:t,re[s].color=e?n:t,J)){var l=J.eq(s);l.removeClass("mbsc-color-preview-item-empty").css({background:e?n:"transparent"}),e||l.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?te._tempValue.splice(s,0,n):te._tempValue.splice(te._tempValue.indexOf(n),1)),Z&&(e?Z.eq(a).addClass("mbsc-color-selected"):Z.eq(a).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),A[a].previewInd=e?s:t,A[a].selected=e}function T(e,a){e!==t&&(z||A[e].selected)?(X=e,L=A[e].changedColor||A[e].color,Q=Z.eq(e),j&&(_(Z.eq(e),a||""),H=v(A[e].color,"hsl"),H.l=v(L,"hsl").l,h(A[e].color),B.setVal(100-H.l,!1,!1))):j&&h()}function D(){var e,t=[];for(e=0;e<A.length;++e)A[e].selected&&t.push(A[e]);return t}function M(e,t){var a=m(e.target).index();X=re[a].colorIndex,Q=Z.eq(X),se=a,T(X,t),F.scroll(Q,250),N("onPreviewItemTap",{target:e.target,value:re[a].color,index:a})}function V(e,a){var s=!1,n=m(".mbsc-color-selected",a);if(Q=m(e.target),Q.hasClass("mbsc-color-clear-item"))return L="",void te.clear();(z||U>+n.length||Q.hasClass("mbsc-color-selected"))&&(X=Q.attr("data-index"),W&&(se=A[X].previewInd!==t?A[X].previewInd:x(),s=j&&Q.hasClass("mbsc-color-selected")&&!Q.parent().hasClass("mbsc-color-active"),J.length>6&&Y.scroll(J.eq(se))),L=A[X].changedColor||A[X].color,z?(n.removeClass("mbsc-color-selected"),te._tempValue=L,L&&Q.toggleClass("mbsc-color-selected"),_(Q,a)):(_(Q,a),s||C(!A[X].selected,X,se,L,!0,!0)),T(X,a),te.live&&(te._fillValue(),N("onSet",{value:te._value})),N("onItemTap",{target:e.target,value:L,selected:A[X].selected,index:X}))}var S,k,A,I,N,F,Y,O,L,H,E,P,W,$,j,q,B,X,R,z,U,K,G,Z,J,Q,ee,te=this,ae=m(e),se=0,ne={},re={};b.Frame.call(this,e,n,!0),te.setVal=te._setVal=function(e,a,s,n){te._hasValue=null!==e&&e!==t,te._tempValue=m.isArray(e)?e:[e],i(a,!0,s===t?a:s,n)},te.getVal=te._getVal=function(e){return te._hasValue||e?K?D():te[e?"_tempValue":"_value"]:null},te._readValue=function(){var e=ae.val()||"";te._hasValue=!1,0!==e.length&&""!==e&&(te._hasValue=!0),te._hasValue?(te._tempValue=z?e:"hex"==S.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),i(!0)):te._tempValue=[],w(te._tempValue,te._hasValue)},te._fillValue=function(){te._hasValue=!0,i(!0,!0,0,!0)},te._generateContent=function(){var e,t,a,s=O?1:0;for(q=P?Math.ceil((A.length+s)/S.rows):S.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(P?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(P?'<div class="mbsc-color-row">':""),e=0;e<A.length;++e)a=A[e].changedColor||A[e].color,O&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+s)%q==0&&(t+=P?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(A[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(P?"</div>":""),j&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),W){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in ne)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ne[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ne[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},te._position=function(e){var t,a;P||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(A.length/S.rows))*a+1)),F&&F.refresh(),Y&&Y.refresh()},te._markupInserted=function(e){P||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*S.rows),F=new b.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:P?"X":"Y",rtl:S.rtl,elastic:60,stopProp:!1,mousewheel:S.mousewheel,onBtnTap:function(t){V(t,e)}})},te._attachEvents=function(e){var a;Z=m(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?V(t,e):M(t,e))}),W&&(J=m(".mbsc-color-preview-item",e)),j&&(e.addClass("mbsc-color-refine"),ee=m(".mbsc-color-slider",e),B=new b.Slider(ee[0],{theme:S.theme,rtl:S.rtl}),$=e.find(".mbsc-progress-track"),X&&te._value&&T(X,e),ee.on("change",function(){X!==t&&(z||A[X].selected)&&(H.l=100-this.value,a=v(H.toString()).toString(),z?te._tempValue=a:te._tempValue[se!==t?se:te._tempValue.length]=a,A[X].tempChangedColor=a,Z.eq(X).css("background",a),W&&(re[se].color=a,J.eq(se).removeClass("mbsc-color-preview-item-empty").css({background:a})),te.live&&f.throttle(te._fillValue()))})),W&&(Y=new b.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:S.rtl,mousewheel:S.mousewheel,onBtnTap:function(t){M(t,e)}}))},te._detachEvents=function(){F.destroy(),B&&B.destroy(),Y&&Y.destroy()},te.__processSettings=function(){var a,s;if(S=te.settings,I=S.format,N=te.trigger,P="horizontal"==S.navigation,te._value=[],te._tempValue=[],z="single"==S.select,O=S.clear!==t?S.clear:z,s=S.data||[],!s.length)switch(S.format){case"rgb":s=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],O&&s.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":s=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],O&&s.splice(10,0,"hsl(20, 12%, 29%)");break;default:s=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],O&&s.splice(10,0,"#534741")}if(j="refine"==S.mode,W=!isNaN(S.select),U=isNaN(S.select)?z?2:s.length:S.select,K=m.isPlainObject(s[0]),W&&!Object.keys(ne).length)for(a=0;a<S.select;++a)ne[a]={},re[a]={};if(!A)for(A=s.slice(0),a=0;a<A.length;++a)m.isPlainObject(s[a])?A[a].color=s[a].color:(s[a]=s[a].toLowerCase(),A[a]={key:a,name:s[a],color:s[a]});k=S.defaultValue||A[0].color,L=k,H=v(L,"hsl"),(R=S.enhance&&ae.is("input"))&&(ae.hasClass("mbsc-color-input-hdn")?G=ae.prev():(G=m("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input mbsc-control-ev '+(S.inputClass||"")+'" readonly ></div>'),G.insertBefore(ae),ae.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),S.anchor=G,te.attachShow(G))},te.__init=function(){S.cssClass=(S.cssClass||"")+" mbsc-color"},te.__destroy=function(){R&&(ae.removeClass("mbsc-color-input-hdn"),G.remove())},r||te.init(n)},b.Color.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:m.extend({},b.Frame.prototype._defaults,{headerText:!1,validate:p,parseValue:p,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},h.themes.color=h.themes.frame,h.presetShort("color","Color",!1),f.color={hsv2hex:u,hsv2rgb:n,rgb2hsv:r,rgb2hex:a,rgb2hsl:i,
hex2rgb:s,hex2hsv:d,hex2hsl:o}}(),function(t,a,s){var n=e,r=n.$,i=n.presets.scroller,l=n.util,o=l.datetime.adjustedDate,c=l.jsPrefix,u=l.testTouch,d=l.getCoord,h=l.animEnd,m=new Date,f={min:new Date(m.getFullYear()-100,0,1),max:new Date(m.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};i.calbase=function(e){function t(e){var t;Ye=r(this),Oe=!1,"keydown"!=e.type?(Ne=d(e,"X"),Fe=d(e,"Y"),t=u(e,this)):t=32===e.keyCode,Le||!t||Ye.hasClass("mbsc-fr-btn-d")||(Le=!0,setTimeout(b,100),"mousedown"==e.type&&r(a).on("mousemove",m).on("mouseup",p))}function m(e){(Math.abs(Ne-d(e,"X"))>7||Math.abs(Fe-d(e,"Y"))>7)&&(Le=!1,Ye.removeClass("mbsc-fr-btn-a"))}function p(e){"touchend"==e.type&&e.preventDefault(),Ye&&!Oe&&b(),Le=!1,"mouseup"==e.type&&r(a).off("mousemove",m).off("mouseup",p)}function b(){Oe=!0,Ye.hasClass("mbsc-cal-prev-m")?O():Ye.hasClass("mbsc-cal-next-m")?Y():Ye.hasClass("mbsc-cal-prev-y")?H(Ye):Ye.hasClass("mbsc-cal-next-y")&&L(Ye)}function g(e){return!(e<o(xe.getFullYear(),xe.getMonth(),xe.getDate()))&&(!(e>_e)&&(Se[e]===s||Ve[e]!==s))}function v(e,t,a){var s,n,i,l,c={},u=ht+Pe;return e&&r.each(e,function(e,r){if(s=r.d||r.start||r,n=s+"",r.start&&r.end)for(l=new Date(r.start);l<=r.end;)i=o(l.getFullYear(),l.getMonth(),l.getDate()),c[i]=c[i]||[],c[i].push(r),l.setDate(l.getDate()+1);else if(s.getTime)i=o(s.getFullYear(),s.getMonth(),s.getDate()),c[i]=c[i]||[],c[i].push(r);else if(n.match(/w/i)){var d=+n.replace("w",""),h=0,m=tt.getDate(t,a-ht-We,1).getDay();for(tt.firstDay-m+1>1&&(h=7),X=0;X<5*Ee;X++)i=tt.getDate(t,a-ht-We,7*X-h-m+1+d),c[i]=c[i]||[],c[i].push(r)}else if(n=n.split("/"),n[1])a+u>=11&&(i=tt.getDate(t+1,n[0]-1,n[1]),c[i]=c[i]||[],c[i].push(r)),a-u<=1&&(i=tt.getDate(t-1,n[0]-1,n[1]),c[i]=c[i]||[],c[i].push(r)),i=tt.getDate(t,n[0]-1,n[1]),c[i]=c[i]||[],c[i].push(r);else for(X=0;X<Ee;X++)i=tt.getDate(t,a-ht-We+X,n[0]),tt.getDay(i)==n[0]&&(c[i]=c[i]||[],c[i].push(r))}),c}function y(t,a){Se=v(tt.invalid,t,a),Ve=v(tt.valid,t,a),e.onGenMonth(t,a)}function x(e,t,a,s,n,r,i){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(tt.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(B=1;B<=t;B++)l+=B<=12||B>a?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(r?' aria-label="'+r[B-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(s+B-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(i?i[B-13]:s+B-13+n)+"</div></div></div>",B<t&&(B%12==0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(ut?"top":lt?"right":"left")+":"+100*Math.round(B/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':B%3==0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function _(t,a){var s,n,i,l,o,c,u,d,h,m,f,p,b,v,y,x,_=1,w=0,C=tt.getDate(t,a,1),T=tt.getYear(C),D=tt.getMonth(C),M=null!==tt.defaultValue||e._hasValue?e.getDate(!0):null,V=tt.getDate(T,D,1).getDay(),S='<div class="mbsc-cal-table">',k='<div class="mbsc-cal-week-nr-c">';for(tt.firstDay-V+1>1&&(w=7),x=0;x<42;x++)y=x+tt.firstDay-w,s=tt.getDate(T,D,y-V+1),i=s.getFullYear(),l=s.getMonth(),o=s.getDate(),c=tt.getMonth(s),u=tt.getDay(s),v=tt.getMaxDayOfMonth(i,l),d=i+"-"+l+"-"+o,h=r.extend({valid:g(s),selected:M&&M.getFullYear()===i&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(s,M)),m=h.valid,f=h.selected,n=h.cssClass,p=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==D,Je[d]=h,x%7==0&&(S+=(x?"</div>":"")+'<div class="mbsc-cal-row'+(tt.highlight&&M&&M-s>=0&&M-s<6048e5?" mbsc-cal-week-hl":"")+'">'),st&&1==s.getDay()&&("month"==st&&b&&_>1?_=1==o?1:2:"year"==st&&(_=tt.getWeekNumber(s)),k+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+_+"</div></div>",_++),S+='<div role="button" tabindex="-1" aria-label="'+(p?tt.todayText+", ":"")+tt.dayNames[s.getDay()]+", "+tt.monthNames[c]+" "+u+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(b&&!je?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(m?"":' aria-disabled="true"')+' data-day="'+y%7+'" data-full="'+d+'"class="mbsc-cal-day '+(tt.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+tt.todayClass:"")+(n?" "+n:"")+(1==u?" mbsc-cal-day-first":"")+(u==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(m?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?vt:"")+" "+(tt.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+u+"</div>"+(h.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return S+="</div></div>"+k+"</div>"}function w(e,t,a){var s=tt.getDate(e,t,1),n=tt.getYear(s),i=tt.getMonth(s),l=n+gt;if(dt){if(Xe&&Xe.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(vt),Re&&Re.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(vt),Xe=r('.mbsc-cal-year-s[data-val="'+n+'"]',U).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Re=r('.mbsc-cal-month-s[data-val="'+i+'"]',U).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Xe.find(".mbsc-cal-sc-cell-i").addClass(vt),Re.find(".mbsc-cal-sc-cell-i").addClass(vt),Be&&Be.scroll(Xe,a),r(".mbsc-cal-month-s",U).removeClass("mbsc-fr-btn-d"),n===fe)for(B=0;B<be;B++)r('.mbsc-cal-month-s[data-val="'+B+'"]',U).addClass("mbsc-fr-btn-d");if(n===pe)for(B=ge+1;B<=12;B++)r('.mbsc-cal-month-s[data-val="'+B+'"]',U).addClass("mbsc-fr-btn-d")}for(1==he.length&&he.attr("aria-label",n).html(l),B=0;B<He;++B)s=tt.getDate(e,t-We+B,1),n=tt.getYear(s),i=tt.getMonth(s),l=n+gt,r(ue[B]).attr("aria-label",tt.monthNames[i]+(mt?"":" "+n)).html((!mt&&me<de?l+" ":"")+le[i]+(!mt&&me>de?" "+l:"")),he.length>1&&r(he[B]).html(l);tt.getDate(e,t-We-1,1)<ve?T(r(".mbsc-cal-prev-m",U)):C(r(".mbsc-cal-prev-m",U)),tt.getDate(e,t+He-We,1)>ye?T(r(".mbsc-cal-next-m",U)):C(r(".mbsc-cal-next-m",U)),tt.getDate(e,t,1).getFullYear()<=ve.getFullYear()?T(r(".mbsc-cal-prev-y",U)):C(r(".mbsc-cal-prev-y",U)),tt.getDate(e,t,1).getFullYear()>=ye.getFullYear()?T(r(".mbsc-cal-next-y",U)):C(r(".mbsc-cal-next-y",U))}function C(e){e.removeClass(_t).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function T(e){e.addClass(_t).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function D(t){e.trigger("onDayHighlight",{date:t}),tt.highlight&&(r(".mbsc-cal-day-sel .mbsc-cal-day-i",G).removeClass(vt),r(".mbsc-cal-day-sel",G).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),r(".mbsc-cal-week-hl",G).removeClass("mbsc-cal-week-hl"),(null!==tt.defaultValue||e._hasValue)&&r('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',G).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(vt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function M(t,a){if(te&&("calendar"===Ae||a)){var s,n,r=tt.getDate(Ce,Te,1),i=Math.abs(12*(tt.getYear(t)-tt.getYear(r))+tt.getMonth(t)-tt.getMonth(r));e.needsSlide&&i&&(Ce=tt.getYear(t),Te=tt.getMonth(t),t>r?(n=i>ht-We+He-1,Te-=n?0:i-ht,s="next"):t<r&&(n=i>ht+We,Te+=n?0:i-ht,s="prev"),A(Ce,Te,s,Math.min(i,ht),n,!0)),a||(we=t,D(t)),e.needsSlide=!0}}function V(t,a,n){for(n||e.trigger("onMonthLoading",{year:t,month:a}),y(t,a),B=0;B<Ee;B++)Ke[B].html(_(t,a-We-ht+B));k(),$e=s,e.trigger("onMonthLoaded",{year:t,month:a})}function S(e,t){for(var a=ht,s=ht;s&&tt.getDate(e,t+s+He-We-1,1)>ye;)s--;for(;a&&tt.getDate(e,t-a-We,1)<ve;)a--;r.extend(oe.settings,{contSize:He*J,snap:J,minScroll:Q-(lt?a:s)*J,maxScroll:Q+(lt?s:a)*J}),oe.refresh()}function k(){st&&ne.html(r(".mbsc-cal-week-nr-c",Ke[ht]).html()),r(".mbsc-cal-slide-a .mbsc-cal-day",Z).attr("tabindex",0)}function A(t,a,n,i,l,o,c){if(t&&Ge.push({y:t,m:a,dir:n,slideNr:i,load:l,active:o,callback:c}),!Ie){var u,d=Ge.shift();if(t=d.y,a=d.m,n="next"===d.dir,i=d.slideNr,l=d.load,o=d.active,c=d.callback||Qe,u=tt.getDate(t,a,1),t=tt.getYear(u),a=tt.getMonth(u),Ie=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),y(t,a),l)for(B=0;B<He;B++)Ke[n?Ee-He+B:B].html(_(t,a-We+B));o&&Ue.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(tt.monthNames[a]+" "+t),w(t,a,200),Q=n?Q-J*i*ot:Q+J*i*ot,oe.scroll(Q,o?200:0,!1,function(){var o;if(Ke.length){if(Ue.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),n)for(o=Ke.splice(0,i),B=0;B<i;B++)Ke.push(o[B]),N(Ke[Ke.length-1],+Ke[Ke.length-2].attr("data-curr")+100*ot);else for(o=Ke.splice(Ee-i,i),B=i-1;B>=0;B--)Ke.unshift(o[B]),N(Ke[0],+Ke[1].attr("data-curr")-100*ot);for(B=0;B<i;B++)Ke[n?Ee-i+B:B].html(_(t,a-We-ht+B+(n?Ee-i:0))),l&&Ke[n?B:Ee-i+B].html(_(t,a-We-ht+B+(n?0:Ee-i)));for(B=0;B<He;B++)Ke[ht+B].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");S(t,a),Ie=!1}Ge.length?setTimeout(function(){A()},10):(Ce=t,Te=a,e.changing=!1,r(".mbsc-cal-day",Z).attr("tabindex",-1),k(),$e!==s?V(t,a,$e):e.trigger("onMonthLoaded",{year:t,month:a}),c())})},10)}}function I(){var t=r(this),a=e.live,s=e.getDate(!0),n=t.attr("data-full"),i=n.split("-"),l=o(i[0],i[1],i[2]),c=o(l.getFullYear(),l.getMonth(),l.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),u=t.hasClass("mbsc-cal-day-sel");!je&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",r.extend(Je[n],{date:c,target:this,selected:u}))!==!1&&(e.needsSlide=!1,ee=!0,e.setDate(c,a,.2,!a,!0),tt.outerMonthChange&&(Le=!0,l<tt.getDate(Ce,Te-We,1)?O():l>tt.getDate(Ce,Te-We+He,0)&&Y(),Le=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function N(e,t){e.attr("data-curr",t),e[0].style[c+"Transform"]="translate3d("+(ut?"0,"+t+"%,":t+"%,0,")+"0)"}function F(t){e.isVisible()&&te&&(e.changing?$e=t:V(Ce,Te,t))}function Y(){Le&&tt.getDate(Ce,Te+He-We,1)<=ye&&A(Ce,++Te,"next",1,!1,!0,Y)}function O(){Le&&tt.getDate(Ce,Te-We-1,1)>=ve&&A(Ce,--Te,"prev",1,!1,!0,O)}function L(e){Le&&tt.getDate(Ce,Te,1)<=tt.getDate(tt.getYear(ye)-1,tt.getMonth(ye)-Pe,1)?A(++Ce,Te,"next",ht,!0,!0,function(){L(e)}):Le&&!e.hasClass("mbsc-fr-btn-d")&&A(tt.getYear(ye),tt.getMonth(ye)-Pe,"next",ht,!0,!0)}function H(e){Le&&tt.getDate(Ce,Te,1)>=tt.getDate(tt.getYear(ve)+1,tt.getMonth(ve)+We,1)?A(--Ce,Te,"prev",ht,!0,!0,function(){H(e)}):Le&&!e.hasClass("mbsc-fr-btn-d")&&A(tt.getYear(ve),tt.getMonth(ve)+We,"prev",ht,!0,!0)}function E(t,a){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(a?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function P(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function W(e,t){(t||e).hasClass("mbsc-cal-v")?P(e):E(e)}function $(){r(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function j(e){return e[0].innerWidth||e.innerWidth()}var q,B,X,R,z,U,K,G,Z,J,Q,ee,te,ae,se,ne,re,ie,le,oe,ce,ue,de,he,me,fe,pe,be,ge,ve,ye,xe,_e,we,Ce,Te,De,Me,Ve,Se,ke,Ae,Ie,Ne,Fe,Ye,Oe,Le,He,Ee,Pe,We,$e,je,qe,Be,Xe,Re,ze=this,Ue=[],Ke=[],Ge=[],Ze={},Je={},Qe=function(){},et=r.extend({},e.settings),tt=r.extend(e.settings,f,et),at="full"==tt.weekDays?"":"min"==tt.weekDays?"Min":"Short",st=tt.weekCounter,nt=tt.layout||(/top|bottom|inline/.test(tt.display)?"liquid":""),rt="liquid"==nt&&"bubble"!==tt.display,it="center"==tt.display,lt=tt.rtl,ot=lt?-1:1,ct=rt?null:tt.calendarWidth,ut="vertical"==tt.calendarScroll,dt=tt.quickNav,ht=tt.preMonths,mt=tt.yearChange,ft=tt.controls.join(","),pt=(tt.tabs===!0||tt.tabs!==!1&&rt)&&tt.controls.length>1,bt=!pt&&tt.tabs===s&&!rt&&tt.controls.length>1,gt=tt.yearSuffix||"",vt=tt.activeClass||"",yt="mbsc-cal-tab-sel "+(tt.activeTabClass||""),xt=tt.activeTabInnerClass||"",_t="mbsc-fr-btn-d "+(tt.disabledClass||""),wt="",Ct="";return ft.match(/calendar/)?te=!0:dt=!1,ft.match(/date/)&&(Ze.date=1),ft.match(/time/)&&(Ze.time=1),te&&Ze.date&&(pt=!0,bt=!1),tt.layout=nt,tt.preset=(Ze.date||te?"date":"")+(Ze.time?"time":""),"inline"==tt.display&&r(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Qe,e.onGenMonth=Qe,e.prepareObj=v,e.refresh=function(){F(!1)},e.redraw=function(){F(!0)},e.navigate=function(t,a){var s,n,r=e.isVisible();a&&r?M(t,!0):(s=tt.getYear(t),n=tt.getMonth(t),!r||s==Ce&&n==Te||(e.trigger("onMonthChange",{year:s,month:n}),w(s,n),V(s,n),S(t.getFullYear(),t.getMonth())),Ce=s,Te=n)},e.showMonthView=function(){dt&&!ie&&(P(Ct,!0),P(wt,!0),E(re,!0),ie=!0)},e.changeTab=function(t){e._isVisible&&Ze[t]&&Ae!=t&&(Ae=t,r(".mbsc-cal-pnl",U).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),r(".mbsc-cal-tab",U).removeClass(yt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(xt),r('.mbsc-cal-tab[data-control="'+t+'"]',U).addClass(yt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(xt),Ze[Ae].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==Ae&&(q=e.getDate(!0),q.getFullYear()===we.getFullYear()&&q.getMonth()===we.getMonth()&&q.getDate()===we.getDate()||M(q)),e.showMonthView(),e.trigger("onTabChange",{tab:Ae}))},R=i.datetime.call(this,e),de=(tt.dateWheels||tt.dateFormat).search(/m/i),me=(tt.dateWheels||tt.dateFormat).search(/y/i),r.extend(R,{ariaMessage:tt.calendarText,onMarkupReady:function(a){var i,c,d="";if(U=r(a.target),K="inline"==tt.display?r(this).is("div")?r(this):r(this).parent():e._window,we=e.getDate(!0),Ce||(Ce=tt.getYear(we),Te=tt.getMonth(we)),Q=0,se=!0,Ie=!1,le=tt.monthNames,Ae="calendar",tt.min&&(ve=o(tt.min.getFullYear(),tt.min.getMonth(),1),xe=tt.min),tt.max&&(ye=o(tt.max.getFullYear(),tt.max.getMonth(),1),_e=tt.max),U.addClass("mbsc-calendar"),z=r(".mbsc-fr-popup",U),ke=r(".mbsc-fr-c",U),Ze.date?Ze.date=r(".mbsc-sc-whl-gr-c",U).eq(0):te&&r(".mbsc-sc-whl-gr-c",U).eq(0).addClass("mbsc-cal-hdn"),Ze.time&&(Ze.time=r(".mbsc-sc-whl-gr-c",U).eq(1)),te){for(He="auto"==tt.months?Math.max(1,Math.min(3,Math.floor((ct||j(K))/280))):tt.months,Ee=He+2*ht,Pe=Math.floor(He/2),We=Math.round(He/2)-1,je=tt.showOuterDays===s?He<2:tt.showOuterDays,ut=ut&&He<2,c='<div class="mbsc-cal-btnw"><div class="'+(lt?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevMonthText+'"></div></div>',B=0;B<He;++B)c+='<div class="mbsc-cal-btnw-m" style="width: '+100/He+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(c+='<div class="'+(lt?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextMonthText+'"></div></div></div>',mt&&(d='<div class="mbsc-cal-btnw"><div class="'+(lt?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(lt?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextYearText+'"></div></div></div>'),dt&&(fe=tt.getYear(ve),pe=tt.getYear(ye),be=tt.getMonth(ve),ge=tt.getMonth(ye),Me=Math.ceil((pe-fe+1)/12)+2,wt=x("month",36,24,0,"",tt.monthNames,tt.monthNamesShort),Ct=x("year",12*Me,pe-fe+13,fe,gt)),ae='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(He>1?" mbsc-cal-multi ":"")+(st?" mbsc-cal-weeks ":"")+(ut?" mbsc-cal-vertical":"")+(je?"":" mbsc-cal-hide-diff ")+(tt.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(mt?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(me<de||He>1?d+c:c+d)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',X=0;X<He;++X){for(ae+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/He+'%"><table cellpadding="0" cellspacing="0"><tr>',B=0;B<7;B++)ae+="<th>"+tt["dayNames"+at][(B+tt.firstDay)%7]+"</th>";ae+="</tr></table></div>"}for(ae+='</div><div class="mbsc-cal-week-nrs-c '+(tt.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(tt.calendarClass||"")+'"><div class="mbsc-cal-anim">',B=0;B<He+2*ht;B++)ae+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';ae+="</div></div></div>"+wt+Ct+"</div></div></div>",Ze.calendar=r(ae)}if(r.each(tt.controls,function(e,t){Ze[t]=r('<div class="mbsc-cal-pnl" id="'+ze.id+"_dw_pnl_"+e+'"></div>').append(r('<div class="mbsc-cal-pnl-i"></div>').append(Ze[t])).appendTo(ke)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',r.each(tt.controls,function(e,t){Ze[t]&&(i+='<li role="tab" aria-controls="'+ze.id+"_dw_pnl_"+e+'" class="mbsc-cal-tab '+(e?"":yt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":xt)+'">'+tt[t+"Text"]+"</a></li>")}),i+="</ul></div>",ke.before(i),G=r(".mbsc-cal-anim-c",U),Z=r(".mbsc-cal-anim",G),ne=r(".mbsc-cal-week-nrs",U),te){for(ie=!0,Ue=r(".mbsc-cal-slide",Z).each(function(e,t){Ke.push(r(t))}),Ue.slice(ht,ht+He).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),B=0;B<Ee;B++)N(Ke[B],100*(B-ht)*ot);V(Ce,Te),oe=new n.classes.ScrollView(G[0],{axis:ut?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:ht,moveElement:Z,mousewheel:tt.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round(((ut?e.posY:e.posX)-Q)/J)*ot;t&&A(Ce,Te-t,t>0?"prev":"next",t>0?t:-t)}})}ue=r(".mbsc-cal-month",U),he=r(".mbsc-cal-year",U),re=r(".mbsc-cal-m-c",U),dt&&(re.on(h,$),wt=r(".mbsc-cal-month-c",U).on(h,$),Ct=r(".mbsc-cal-year-c",U).on(h,$),qe=r(".mbsc-cal-sc-p",U),De={axis:ut?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:tt.rtl,mousewheel:tt.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Be=new n.classes.ScrollView(Ct[0],De),ce=new n.classes.ScrollView(wt[0],De)),rt?U.addClass("mbsc-cal-liq"):r(".mbsc-cal",U).width(ct||280*He),tt.calendarHeight&&r(".mbsc-cal-anim-c",U).height(tt.calendarHeight),e.tap(G,function(e){var t=r(e.target);Ie||oe.scrolled||tt.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&I.call(t[0]))}),r(".mbsc-cal-btn",U).on("touchstart mousedown keydown",t).on("touchmove",m).on("touchend touchcancel keyup",p),r(".mbsc-cal-tab",U).on("touchstart click",function(t){u(t,this)&&e.changeTab(r(this).attr("data-control"))}),dt&&(e.tap(r(".mbsc-cal-month",U),function(){Ct.hasClass("mbsc-cal-v")||(W(re),ie=re.hasClass("mbsc-cal-v")),W(wt),P(Ct)}),e.tap(r(".mbsc-cal-year",U),function(){Ct.hasClass("mbsc-cal-v")||Be.scroll(Xe),wt.hasClass("mbsc-cal-v")||(W(re),ie=re.hasClass("mbsc-cal-v")),W(Ct),P(wt)}),e.tap(r(".mbsc-cal-month-s",U),function(){ce.scrolled||r(this).hasClass("mbsc-fr-btn-d")||e.navigate(tt.getDate(Ce,r(this).attr("data-val"),1))}),e.tap(r(".mbsc-cal-year-s",U),function(){Be.scrolled||(q=tt.getDate(r(this).attr("data-val"),Te,1),e.navigate(new Date(l.constrain(q,ve,ye))))}),e.tap(Ct,function(){Be.scrolled||(P(Ct),E(re),ie=!0)}),e.tap(wt,function(){ce.scrolled||(P(wt),E(re),ie=!0)}))},onShow:function(){te&&w(Ce,Te)},onPosition:function(t){var a,s,n,i,l,o,c=0,u=0,d=0,h=t.windowHeight;if(rt&&(it&&G.height(""),ke.height(""),Z.width("")),J&&(l=J),te&&(J=Math.round(Math.round(G[0][ut?"offsetHeight":"offsetWidth"])/He)),J&&(U.removeClass("mbsc-cal-m mbsc-cal-l"),J>1024?U.addClass("mbsc-cal-l"):J>640&&U.addClass("mbsc-cal-m")),(pt&&(se||rt)||bt)&&(r(".mbsc-cal-pnl",U).removeClass("mbsc-cal-pnl-h"),r.each(Ze,function(e,t){a=t[0].offsetWidth,c=Math.max(c,a),u=Math.max(u,t[0].offsetHeight),d+=a}),pt||bt&&d>j(K)?(s=!0,Ae=r(".mbsc-cal-tabs .mbsc-cal-tab-sel",U).attr("data-control"),z.addClass("mbsc-cal-tabbed")):(Ae="calendar",c="",u="",z.removeClass("mbsc-cal-tabbed"),ke.css({width:"",height:""}))),rt&&it&&te&&(e._isFullScreen=!0,s&&ke.height(Ze.calendar[0].offsetHeight),i=z[0].offsetHeight,h>=i&&G.height(h-i+G[0].offsetHeight),u=Math.max(u,Ze.calendar[0].offsetHeight)),s&&(ke.css({width:rt?"":c,height:u}),te&&(J=Math.round(Math.round(G[0][ut?"offsetHeight":"offsetWidth"])/He))),J){if(Z[ut?"height":"width"](J),J!==l){if(mt)for(le=tt.maxMonthWidth>r(".mbsc-cal-btnw-m",U).width()?tt.monthNamesShort:tt.monthNames,B=0;B<He;++B)r(ue[B]).text(le[tt.getMonth(tt.getDate(Ce,Te-We+B,1))]);dt&&(o=Ct[0][ut?"offsetHeight":"offsetWidth"],r.extend(Be.settings,{contSize:o,snap:o,minScroll:(2-Me)*o,maxScroll:-o}),r.extend(ce.settings,{contSize:o,snap:o,minScroll:-o,maxScroll:-o}),Be.refresh(),ce.refresh(),Ct.hasClass("mbsc-cal-v")&&Be.scroll(Xe)),rt&&!se&&l&&(n=Q/l,Q=n*J),S(Ce,Te)}}else J=l;s&&(r(".mbsc-cal-pnl",U).addClass("mbsc-cal-pnl-h"),Ze[Ae].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),se=!1},onHide:function(){Ge=[],Ke=[],Ae=null,Ce=null,Te=null,Ie=!0,J=0,oe&&oe.destroy(),dt&&Be&&ce&&(Be.destroy(),ce.destroy())},onValidated:function(t){var a,s,n;if(s=e.getDate(!0),ee)a="calendar";else for(n in e.order)n&&e.order[n]===t&&(a=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:s,control:a}),M(s),ee=!1}}),R}}(window,document),function(t){var a=e,s=a.$,n=a.presets.scroller,r=a.util.datetime,i=a.util,l=i.testTouch,o={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};a.presetShort("range"),n.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t){e._startDate=I=C,e._endDate=N=D,L.startInput&&(s(L.startInput).val(_),t&&s(L.startInput).trigger("change")),L.endInput&&(s(L.endInput).val(w),t&&s(L.endInput).trigger("change"))}function i(e,t){var a=!0;return e&&C&&D&&(D-C>L.maxRange-1&&(F?C=new Date(D-L.maxRange+1):D=new Date(+C+L.maxRange-1)),D-C<L.minRange-1&&(F?C=new Date(D-L.minRange+1):D=new Date(+C+L.minRange-1))),C&&D||(a=!1),t&&h(),a}function c(){return C&&D?Math.max(1,Math.round((new Date(D).setHours(0,0,0,0)-new Date(C).setHours(0,0,0,0))/864e5)+1):0}function u(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(P)}function d(){A&&p&&(s(".mbsc-range-btn-c",p).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",p).removeClass(P),u(s(".mbsc-range-btn-c",p).eq(F)))}function h(){var e,t,a,n,i,l=0,o=E||!F?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",c=E||F?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(_=C?r.formatDate(g,C,L):"",w=D?r.formatDate(g,D,L):"",p&&(s(".mbsc-range-btn-v-start",p).html(_||"&nbsp;"),s(".mbsc-range-btn-v-end",p).html(w||"&nbsp;"),e=C?new Date(C):null,a=D?new Date(D):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),i=F?a:e,s(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",p).removeClass(P),s(".mbsc-cal-table .mbsc-cal-day-hl",p).removeClass($),s(".mbsc-cal-table .mbsc-cal-day-sel",p).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),n=a.setHours(0,0,0,0);a>=e&&l<84;)s('.mbsc-cal-day[data-full="'+i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()+'"]',p).addClass("mbsc-cal-day-sel"+(i.getTime()===t?o:"")+(i.getTime()===n?c:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(P),i.setDate(i.getDate()+(F?-1:1)),l++}function m(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var f,p,b,g,v,y,x,_,w,C,T,D,M,V,S,k,A,I=e._startDate,N=e._endDate,F=0,Y=new Date,O=s.extend({},e.settings),L=s.extend(e.settings,o,O),H=L.anchor,E=L.rangeTap,P=L.activeClass||"",W="mbsc-fr-btn-d "+(L.disabledClass||""),$="mbsc-cal-day-hl",j=null===L.defaultValue?[]:L.defaultValue||[new Date(Y.setHours(0,0,0,0)),new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()+6,23,59,59,999)];return E&&(L.tabs=!0),v=n.calbase.call(this,e),f=s.extend({},v),g=e.format,V="time"===L.controls.join(""),A=1!=L.controls.length||"calendar"!=L.controls[0]||L.showSelector,L.startInput&&(S=s(L.startInput).prop("readonly"),e.attachShow(s(L.startInput).prop("readonly",!0),function(){F=0,L.anchor=H||s(L.startInput)})),L.endInput&&(k=s(L.endInput).prop("readonly"),e.attachShow(s(L.endInput).prop("readonly",!0),function(){F=1,L.anchor=H||s(L.endInput)})),e.setVal=function(t,a,s,n,i){var l=t||[],o=t;(void 0===l[0]||null===l[0]||l[0].getTime)&&(x=!0,C=l[0]||null,_=C?r.formatDate(g,C,L):"",F||(o=f.parseValue(_,e))),(void 0===l[1]||null===l[1]||l[1].getTime)&&(x=!0,D=l[1]||null,w=D?r.formatDate(g,D,L):"",F&&(o=f.parseValue(w,e))),n||(e._startDate=I=C,e._endDate=N=D),e._setVal(o,a,s,n,i)},e.getVal=function(t){return t?[C,D]:e._hasValue?[I,N]:null},e.getDayProps=function(e){var t=C?new Date(C.getFullYear(),C.getMonth(),C.getDate()):null,a=D?new Date(D.getFullYear(),D.getMonth(),D.getDate()):null;return{selected:t&&a&&e>=t&&e<=D,cssClass:((E||!F)&&t&&t.getTime()===e.getTime()||(E||F)&&a&&a.getTime()===e.getTime()?$:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;F="start"==t?0:1,a="start"==t?C:D,e.isVisible()&&(d(),E||(s(".mbsc-cal-table .mbsc-cal-day-hl",p).removeClass($),a&&s('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',p).addClass($)),a&&(y=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,s.extend(v,{highlight:!1,outerMonthChange:!1,formatValue:function(){return _+(L.endInput?"":w?" - "+w:"")},parseValue:function(t){var a=t?t.split(" - "):[];return L.defaultValue=j[1],N=L.endInput?s(L.endInput).val()?r.parseDate(g,s(L.endInput).val(),L):j[1]:a[1]?r.parseDate(g,a[1],L):j[1],L.defaultValue=j[0],I=L.startInput?s(L.startInput).val()?r.parseDate(g,s(L.startInput).val(),L):j[0]:a[0]?r.parseDate(g,a[0],L):j[0],L.defaultValue=j[F],_=I?r.formatDate(g,I,L):"",w=N?r.formatDate(g,N,L):"",e._startDate=I,e._endDate=N,f.parseValue(F?w:_,e)},onFill:function(e){a(e.change)},onBeforeClose:function(t){if("set"===t.button&&!i(!0,!0))return e.setActiveDate(F?"start":"end"),!1},onHide:function(){f.onHide.call(e),F=0,p=null,L.anchor=H},onClear:function(){E&&(F=0)},onBeforeShow:function(){L.headerText=!1,C=I,D=N,T=m(C,0),M=m(D,1),L.counter&&(L.headerText=function(){var e=c();return(e>1?L.selectedPluralText||L.selectedText:L.selectedText).replace(/{count}/,e)}),x=!0},onMarkupReady:function(t){var a;C&&(y=!0,e.setDate(C,!1,0,!0),C=e.getDate(!0)),D&&(y=!0,e.setDate(D,!1,0,!0),D=e.getDate(!0)),(F&&D||!F&&C)&&(y=!0,e.setDate(F?D:C,!1,0,!0)),h(),f.onMarkupReady.call(this,t),p=s(t.target),p.addClass("mbsc-range"),A&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+L.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(_||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+L.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(w||"&nbsp;")+"</div></div></div></div>",s(".mbsc-cal-tabs",p).before(a),d()),s(".mbsc-range-btn-c",p).on("touchstart click",function(t){l(t,this)&&(e.showMonthView(),e.setActiveDate(s(this).index()?"end":"start"))})},onDayChange:function(e){e.active=F?"end":"start",b=!0},onSetDate:function(a){var n=a.date,r=e.order;y||(void 0===r.h&&n.setHours(F?23:0),void 0===r.i&&n.setMinutes(F?59:0),void 0===r.s&&n.setSeconds(F?59:0),n.setMilliseconds(F?999:0),x&&!b||(E&&b&&(1==F&&n<C&&(F=0),F?n.setHours(M.h,M.i,M.s,999):n.setHours(T.h,T.i,T.s,0)),F?(D=new Date(n),M=m(D)):(C=new Date(n),T=m(C)),V&&(t(C,n),t(D,n)),E&&b&&!F&&(D=null))),e._isValid=i(x||b||L.autoCorrect,!y),a.active=F?"end":"start",!y&&E&&(b&&(F=F?0:1),d()),e.isVisible()&&(e._isValid?s(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(W):s(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(W)),b=!1,x=!1,y=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(F?D:C,!1,1e3,!0),i(!0,!0)},onDestroy:function(){s(L.startInput).prop("readonly",S),s(L.endInput).prop("readonly",k)}}),v}}(),function(t){var a=e,s=a.$,n=a.util,r=n.testTouch,i=n.getCoord,l=n.isNumeric,o=function(){},c=a.classes;c.Numpad=function(e,a,n){function o(t){var a,n=T.validate.call(e,{values:Y.slice(0),variables:q},W)||[],r=n&&n.disabled||[];if(W._isValid=!n.invalid,W._tempValue=T.formatValue.call(e,Y.slice(0),q,W),C=Y.length,O=n.length||H,W._isVisible){if(s(".mbsc-np-ph",x).each(function(e){s(this).html("ltr"==T.fill?e>=C?w:D||Y[e]:e>=H-O?e+C<H?w:D||Y[e+C-H]:"")}),s(".mbsc-np-cph",x).each(function(){s(this).html(q[s(this).attr("data-var")]||s(this).attr("data-ph"))}),C===H)for(a=0;a<=9;a++)r.push(a);for(s(".mbsc-np-btn",x).removeClass(_),a=0;a<r.length;a++)s('.mbsc-np-btn[data-val="'+r[a]+'"]',x).addClass(_);W._isValid?s(".mbsc-fr-btn-s .mbsc-fr-btn",x).removeClass(_):s(".mbsc-fr-btn-s .mbsc-fr-btn",x).addClass(_),W.live&&(W._hasValue=t||W._hasValue,u(t,!1,t),t&&L("onSet",{valueText:W._value}))}}function u(e,t,a,n){t&&o(),n||(E=Y.slice(0),B=s.extend({},q),$=j.slice(0),W._value=W._hasValue?W._tempValue:null),e&&(W._isInput&&P.val(W._hasValue&&W._isValid?W._value:""),L("onFill",{valueText:W._hasValue?W._tempValue:"",change:a}),a&&(W._preventChange=!0,P.trigger("change")))}function d(e){var t,a,s=e||[],n=[];for(j=[],q={},t=0;t<s.length;t++)/:/.test(s[t])?(a=s[t].split(":"),q[a[0]]=a[1],j.push(a[0])):(n.push(s[t]),j.push("digit"));return n}function h(e,t){!(C||t||T.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||C<H&&(j.push("digit"),Y.push(t),o(!0))}function m(e){var a,s,n=e.attr("data-val"),r="false"!==e.attr("data-track"),i=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(i&&(s=i.split(":"),r&&j.push(s[0]),q[s[0]]=s[2]===t?s[1]:q[s[0]]==s[1]?s[2]:s[1]),n.length+C<=O)for(a=0;a<n.length;++a)s=l(n[a])?+n[a]:n[a],(T.allowLeadingZero||C||s)&&(j.push("digit"),Y.push(s),C=Y.length);o(!0)}}function f(){var e,t,a=j.pop();if(C||"digit"!==a){if("digit"!==a&&q[a])for(delete q[a],t=j.slice(0),j=[],e=0;e<t.length;e++)t[e]!==a&&j.push(t[e]);else Y.pop();o(!0)}}function p(e){N=!0,M=i(e,"X"),V=i(e,"Y"),clearInterval(F),clearTimeout(F),f(),F=setInterval(function(){f()},150)}function b(){clearInterval(F),N=!1}function g(e){r(e,this)&&(p(e),"mousedown"===e.type&&s(document).on("mousemove",v).on("mouseup",y))}function v(e){N&&(S=i(e,"X"),k=i(e,"Y"),A=S-M,I=k-V,(Math.abs(A)>7||Math.abs(I)>7)&&b())}function y(e){N&&(e.preventDefault(),b(),"mouseup"===e.type&&s(document).off("mousemove",v).off("mouseup",y))}var x,_,w,C,T,D,M,V,S,k,A,I,N,F,Y,O,L,H,E,P=s(e),W=this,$=[],j=[],q={},B={},X={107:"+",109:"-"},R={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};c.Frame.call(this,e,a,!0),W.setVal=W._setVal=function(a,n,r,i){W._hasValue=null!==a&&a!==t,Y=d(s.isArray(a)?a.slice(0):T.parseValue.call(e,a,W)),u(n,!0,r===t?n:r,i)},W.getVal=W._getVal=function(e){return W._hasValue||e?W[e?"_tempValue":"_value"]:null},W.setArrayVal=W.setVal,W.getArrayVal=function(e){return e?Y.slice(0):W._hasValue?E.slice(0):null},W._readValue=function(){var t=P.val()||"";""!==t&&(W._hasValue=!0),D?(q={},j=[],Y=[]):(q=W._hasValue?B:{},j=W._hasValue?$:[],Y=W._hasValue&&E?E.slice(0):d(T.parseValue.call(e,t,W)),u(!1,!0))},W._fillValue=function(){W._hasValue=!0,u(!0,!1,!0)},W._generateContent=function(){var e,a,s,n=1,r="",i=""
;for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+T.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+T.deleteIcon+'"></div><div class="mbsc-np-dsp">',r=T.template.replace(/d/g,'<span class="mbsc-np-ph">'+w+"</span>").replace(/&#100;/g,"d"),r=r.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=r,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',a=0;a<3;a++)s=n,10==n||12==n?s="":11==n&&(s=0),""===s?10==n&&T.leftKey?i+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(T.leftKey.variable?'data-var="'+T.leftKey.variable+'"':"")+' data-val="'+(T.leftKey.value||"")+'" '+(T.leftKey.track!==t?' data-track="'+T.leftKey.track+'"':"")+">"+T.leftKey.text+"</div>":12==n&&T.rightKey?i+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(T.rightKey.variable?'data-var="'+T.rightKey.variable+'"':"")+' data-val="'+(T.rightKey.value||"")+'" '+(T.rightKey.track!==t?' data-track="'+T.rightKey.track+'"':"")+" >"+T.rightKey.text+"</div>":i+='<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':i+='<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+s+'">'+s+"</div>",n++;i+="</div>"}return i+="</div></div>"},W._markupReady=function(){x=W._markup,o()},W._attachEvents=function(e){e.on("keydown",function(a){var n;X[a.keyCode]!==t?(n=s('.mbsc-np-btn[data-var="sign:-:"]',e),n.length&&(q.sign=107==a.keyCode?"-":"",m(n))):R[a.keyCode]!==t?h(s('.mbsc-np-btn[data-val="'+R[a.keyCode]+'"]',e),R[a.keyCode]):8==a.keyCode&&(a.preventDefault(),f())}),W.tap(s(".mbsc-np-btn",e),function(){var e=s(this);e.hasClass("mbsc-np-btn-custom")?m(e):h(e,+e.attr("data-val"))},!1,30,!0),s(".mbsc-np-del",e).on("touchstart mousedown keydown",g).on("touchmove mousemove",v).on("keyup mouseup touchend",y)},W.__init=function(){T=W.settings,T.cssClass=(T.cssClass||"")+" mbsc-np",T.template=T.template.replace(/\\d/,"&#100;"),w=T.placeholder,H=(T.template.match(/d/g)||[]).length,_="mbsc-fr-btn-d "+(T.disabledClass||""),D=T.mask,L=W.trigger,D&&P.is("input")&&P.attr("type","password")},W._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},n||W.init(a)},c.Numpad.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:s.extend({},c.Frame.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:o,parseValue:o,formatValue:function(e,t,a){var n,r=1,i=a.settings,l=i.placeholder,o=i.template,c=e.length,u=o.length,d="";for(n=0;n<u;n++)"d"==o[u-n-1]?(d=r<=c?e[c-r]+d:l+d,r++):d=o[u-n-1]+d;return s.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),s("<div>"+d+"</div>").text()}})},a.themes.numpad=a.themes.frame,a.presetShort("numpad","Numpad",!1)}(),function(){var t=e,a=t.$,s={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};t.presets.numpad.decimal=function(e){function n(e,t){for(var a,s=e.slice(0),n=0;s.length;)n=10*n+s.shift();for(a=0;a<l.scale;a++)n/=10;return t?n*-1:n}function r(e){return n(e).toFixed(l.scale).replace(".",l.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,l.thousandsSeparator)}var i=a.extend({},e.settings),l=a.extend(e.settings,s,i),o=l.min<0;return e.getVal=function(a){var s=e._getVal(a);return t.util.isNumeric(s)?+s:s},{template:(o?"{sign}":"")+l.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(l.max,Math.abs(l.min)))+"").length+1).join("d")+(l.scale?"."+Array(l.scale+1).join("d"):"")+l.suffix.replace(/d/g,"\\d"),leftKey:o?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,s=e||l.defaultValue,n=[];if(s&&(s=(s+"").replace(l.decimalSeparator,".").replace(l.thousandsSeparator,""),a=s.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(l.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?n.push(+a[t]):n.length&&n.push(0));return e<0&&n.push("sign:-"),n},formatValue:function(e,t){var a=r(e);return(n(e,t&&"-"==t.sign)<0?"-":"")+(l.returnAffix?l.prefix+a+l.suffix:a)},validate:function(t){var s=t.values,i=r(s),o=n(s,t.variables&&"-"==t.variables.sign),c=[];return s.length||l.allowLeadingZero||c.push(0),e.isVisible()&&a(".mbsc-np-dsp",e._markup).html((t.variables.sign||"")+l.prefix+i+l.suffix),{disabled:c,invalid:o>l.max||o<l.min||!!l.invalid&&e._indexOf(l.invalid,o)!=-1}}}}}(),function(){function t(e){for(var t=0,a=1,s=0;e.length;)t>3?a=3600:t>1&&(a=60),s+=e.pop()*a*(t%2?10:1),t++;return s}var a=e,s=a.$,n=a.presets.numpad,r=["h","m","s"],i={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};n.timespan=function(e){function n(e){var t,a="",n=3600;return s(r).each(function(s,r){t=Math.floor(e/n),e-=t*n,n/=60,(t>0||"s"==r&&!a)&&(a=a+(a?" ":"")+t+c[r])}),a}var l=s.extend({},e.settings),o=s.extend(e.settings,i,l),c={h:o.hourTextShort.replace(/d/g,"\\d"),m:o.minuteTextShort.replace(/d/g,"\\d"),s:o.secTextShort.replace(/d/g,"\\d")},u='d<span class="mbsc-np-sup mbsc-np-time">'+c.s+"</span>";return o.max>9&&(u="d"+u),o.max>99&&(u='<span class="mbsc-np-ts-m">'+(o.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.m+"</span>"+u),o.max>6039&&(u='<span class="mbsc-np-ts-h">'+(o.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.h+"</span>"+u),e.setVal=function(t,s,r,i){return a.util.isNumeric(t)&&(t=n(t)),e._setVal(t,s,r,i)},e.getVal=function(a){return e._hasValue||a?t(e.getArrayVal(a)):null},{template:u,parseValue:function(e){var t,a=e||n(o.defaultValue),i=[];return a&&s(r).each(function(e,s){t=new RegExp("(\\d+)"+c[s],"gi").exec(a),t?(t=+t[1],t>9?(i.push(Math.floor(t/10)),i.push(t%10)):(i.length&&i.push(0),(t||i.length)&&i.push(t))):i.length&&(i.push(0),i.push(0))}),i},formatValue:function(e){return n(t(e))},validate:function(a){var s=a.values,n=t(s.slice(0)),r=[];return s.length||r.push(0),{disabled:r,invalid:n>o.max||n<o.min||!!o.invalid&&e._indexOf(o.invalid,+n)!=-1}}}}}(),function(){var t=e,a=t.$,s={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};t.presets.numpad.time=function(e){function t(e,t){var s,n="";for(s=0;s<e.length;++s)n+=e[s]+(s%2==(e.length%2==1?0:1)&&s!=e.length-1?":":"");return a.each(t,function(e,t){n+=" "+t}),n}function n(e){var t,a,s,n,r,c,u,v,y,x,_=[],w=2*l.length;if(d=w,e.length||(o&&(_.push(0),_.push(i.leftKey.value)),_.push(i.rightKey.value)),!o&&(w-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&w-e.length<=2)&&(_.push("30"),_.push("00")),(o?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),d=w-1),e.length==w)for(t=0;t<=9;++t)_.push(t);else if(1==e.length&&o&&1==e[0]||e.length&&e.length%2==0||!o&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)_.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+p==+(void 0!==e[3]?""+e[2]+e[3]:""),i.invalid)for(t=0;t<i.invalid.length;++t)if(c=i.invalid[t].getHours(),u=i.invalid[t].getMinutes(),v=i.invalid[t].getSeconds(),c==+y){if(2==l.length&&(u<10?0:+(""+u)[0])==+e[2]){_.push(u<10?u:+(""+u)[1]);break}if((v<10?0:+(""+v)[0])==+e[4]){_.push(v<10?v:+(""+v)[1]);break}}if(i.min||i.max){if(a=+h==+y,s=+m==+y,r=s&&x,n=a&&x,0===e.length){for(t=o?2:h>19?h[0]:3;t<=(1==h[0]?9:h[0]-1);++t)_.push(t);if(h>=10&&(_.push(0),2==h[0]))for(t=3;t<=9;++t)_.push(t);if(m&&m<10||h&&h>=10)for(t=m&&m<10?+m[0]+1:0;t<(h&&h>=10?h[0]:10);++t)_.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<h[0];++t)_.push(t);if(h&&0!==e[0]&&(o?1==e[0]:2==e[0]))for(t=o?3:4;t<=9;++t)_.push(t);if(e[0]==h[0])for(t=0;t<h[1];++t)_.push(t);if(e[0]==m[0]&&!o)for(t=+m[1]+1;t<=9;++t)_.push(t)}if(2==e.length&&(a||s))for(t=s?+p[0]+1:0;t<(a?+f[0]:10);++t)_.push(t);if(3==e.length&&(s&&e[2]==p[0]||a&&e[2]==f[0]))for(t=s&&e[2]==p[0]?+p[1]+1:0;t<(a&&e[2]==f[0]?+f[1]:10);++t)_.push(t);if(4==e.length&&(n||r))for(t=r?+g[0]+1:0;t<(n?+b[0]:10);++t)_.push(t);if(5==e.length&&(n&&e[4]==b[0]||r&&e[4]==g[0]))for(t=r&&e[4]==g[0]?+g[1]+1:0;t<(n&&e[4]==b[0]?+b[1]:10);++t)_.push(t)}return _}var r=a.extend({},e.settings),i=a.extend(e.settings,s,r),l=i.timeFormat.split(":"),o=i.timeFormat.match(/a/i),c=o?"a"==o[0]?i.amText:i.amText.toUpperCase():"",u=o?"a"==o[0]?i.pmText:i.pmText.toUpperCase():"",d=0,h=i.min?""+i.min.getHours():"",m=i.max?""+i.max.getHours():"",f=i.min?""+(i.min.getMinutes()<10?"0"+i.min.getMinutes():i.min.getMinutes()):"",p=i.max?""+(i.max.getMinutes()<10?"0"+i.max.getMinutes():i.max.getMinutes()):"",b=i.min?""+(i.min.getSeconds()<10?"0"+i.min.getSeconds():i.min.getSeconds()):"",g=i.max?""+(i.max.getSeconds()<10?"0"+i.max.getSeconds():i.max.getSeconds()):"";return i.min&&i.min.setFullYear(2014,7,20),i.max&&i.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==l.length?"dd:dd:dd":2==l.length?"dd:dd":"dd")+(o?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:o?{text:c,variable:"ampm:"+c,value:"00"}:{text:":00",value:"00"},rightKey:o?{text:u,variable:"ampm:"+u,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,s=e||i.defaultValue,n=[];if(s){if(s+="",a=s.match(/\d/g))for(t=0;t<a.length;t++)n.push(+a[t]);o&&n.push("ampm:"+(s.match(new RegExp(i.pmText,"gi"))?u:c))}return n},formatValue:function(e,a){return t(e,a)},validate:function(a){var s=a.values,r=a.variables,l=t(s,r),c=s.length>=3?new Date(2014,7,20,""+s[0]+(s.length%2==0?s[1]:""),""+s[s.length%2==0?2:1]+s[s.length%2==0?3:2]):"";return{disabled:n(s),length:d,invalid:(o?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+i.amText+"|"+i.pmText+")$","i").test(l):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(l))||!!i.invalid&&e._indexOf(i.invalid,c)!=-1||!((!i.min||i.min<=c)&&(!i.max||c<=i.max))}}}}}(),function(){var t=e,s=t.$,n={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};t.presets.numpad.date=function(e){function t(e){return e%4==0&&e%100!=0||e%400==0}function r(e){var a,s,n,r,i,u=[],d=void 0!==e[l+3]?""+e[l]+e[l+1]+e[l+2]+e[l+3]:"",h=void 0!==e[o+1]?""+e[o]+e[o+1]:"",f=void 0!==e[c+1]?""+e[c]+e[c+1]:"",_=""+m.getMaxDayOfMonth(d||2012,h-1||0),w=y===d&&+p==+h,C=x===d&&+b==+h;if(m.invalid)for(a=0;a<m.invalid.length;++a){if(n=m.getYear(m.invalid[a]),r=m.getMonth(m.invalid[a]),i=m.getDay(m.invalid[a]),n==+d&&r+1==+h&&(i<10?0:+(""+i)[0])==+e[c]){u.push(i<10?i:+(""+i)[1]);break}if(r+1==+h&&i==+f&&(""+n).substring(0,3)==""+e[l]+e[l+1]+e[l+2]){u.push((""+n)[3]);break}if(n==+d&&i==+f&&(r<10?0:+(""+(r+1))[0])==+e[o]){u.push(r<10?r:+(""+(r+1))[1]);break}}if("31"!=f||e.length!=o&&e.length!=o+1||(1!=e[o]?u.push(2,4,6,9,11):u.push(1)),"30"==f&&0===e[o]&&e.length<=o+1&&u.push(2),e.length==o){for(a=x===d&&+b<10?1:2;a<=9;++a)u.push(a);y===d&&+p>=10&&u.push(0)}if(e.length==o+1){if(1==e[o]){for(a=x===d?+b[1]+1:3;a<=9;++a)u.push(a);if(y==d)for(a=0;a<+p[1];++a)u.push(a)}if(0===e[o]&&(u.push(0),x===d||y===d))for(a=x===d?+f>+v?+b:+b+1:0;a<=(y===d?+p-1:9);++a)u.push(a)}if(e.length==c){for(a=C?1+(+v>10?+v[0]:0):+_[0]+1;a<=9;++a)u.push(a);if(w)for(a=0;a<(+g<10?0:g[0]);++a)u.push(a)}if(e.length==c+1){if(e[c]>=3||"02"==h)for(a=+_[1]+1;a<=9;++a)u.push(a);if(C&&+v[0]==e[c])for(a=+v[1]+1;a<=9;++a)u.push(a);if(w&&g[0]==e[c])for(a=0;a<+g[1];++a)u.push(a);if(0===e[c]&&(u.push(0),C||w))for(a=C?+v+1:1;a<=(w?+g-1:9);++a)u.push(a)}if(void 0!==e[l+2]&&"02"==h&&"29"==f)for(s=+(""+e[l]+e[l+1]+e[l+2]+0);s<=+(""+e[l]+e[l+1]+e[l+2]+9);++s)u.push(t(s)?"":s%10);if(e.length==l){if(m.min)for(a=0;a<+y[0];++a)u.push(a);if(m.max)for(a=+x[0]+1;a<=9;++a)u.push(a);u.push(0)}if(m.min||m.max)for(s=1;s<4;++s)if(e.length==l+s){if(e[l+s-1]==+y[s-1]&&(3!=s||e[l+s-2]==+y[s-2]))for(a=0;a<+y[s]+(3==s&&e[o+1]&&+p>+h?1:0);++a)u.push(a);if(e[l+s-1]==+x[s-1]&&(3!=s||e[l+s-2]==+x[s-2]))for(a=+x[s]+(3==s&&+b<+h?0:1);a<=9;++a)u.push(a)}return u}function i(e){return new Date(+(""+e[l]+e[l+1]+e[l+2]+e[l+3]),+(""+e[o]+e[o+1])-1,+(""+e[c]+e[c+1]))}var l,o,c,u,d=[],h=s.extend({},e.settings),m=s.extend(e.settings,a.defaults,n,h),f=m.dateOrder,p=m.min?""+(m.getMonth(m.min)+1):0,b=m.max?""+(m.getMonth(m.max)+1):0,g=m.min?""+m.getDay(m.min):0,v=m.max?""+m.getDay(m.max):0,y=m.min?""+m.getYear(m.min):0,x=m.max?""+m.getYear(m.max):0;for(f=f.replace(/y+/gi,"yyyy"),f=f.replace(/m+/gi,"mm"),f=f.replace(/d+/gi,"dd"),l=f.toUpperCase().indexOf("Y"),o=f.toUpperCase().indexOf("M"),c=f.toUpperCase().indexOf("D"),f="",d.push({val:l,n:"yyyy"},{val:o,n:"mm"},{val:c,n:"dd"}),d.sort(function(e,t){return e.val-t.val}),s.each(d,function(e,t){f+=t.n}),l=f.indexOf("y"),o=f.indexOf("m"),c=f.indexOf("d"),f="",u=0;u<8;++u)f+="d",u+1!=l&&u+1!=o&&u+1!=c||(f+=m.delimiter);return e.getVal=function(t){return e._hasValue||t?i(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:f,parseValue:function(e){var t,s=[],n=e||m.defaultValue,r=a.parseDate(m.dateFormat,n,m);if(n)for(t=0;t<d.length;++t)s=/m/i.test(d[t].n)?s.concat(((m.getMonth(r)<9?"0":"")+(m.getMonth(r)+1)).split("")):/d/i.test(d[t].n)?s.concat(((m.getDay(r)<10?"0":"")+m.getDay(r)).split("")):s.concat((m.getYear(r)+"").split(""));return s},formatValue:function(e){return a.formatDate(m.dateFormat,i(e),m)},validate:function(t){var a=t.values,s=i(a);return{disabled:r(a),invalid:!("Invalid Date"!=s&&(!m.min||m.min<=s)&&(!m.max||s<=m.max))||!!m.invalid&&e._indexOf(m.invalid,s)!=-1}}}}}(),e.i18n.zh={setText:"确定",cancelText:"取消",clearText:"明确",selectedText:"{count} 选",dateFormat:"yy/mm/dd",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthText:"月",secText:"秒",timeFormat:"HH:ii",yearText:"年",nowText:"当前",pmText:"下午",amText:"上午",todayText:"今天",dateText:"日",timeText:"时间",calendarText:"日历",closeText:"关闭",fromText:"开始时间",toText:"结束时间",wholeText:"合计",fractionText:"分数",unitText:"单位",labels:["年","月","日","小时","分钟","秒",""],labelsShort:["年","月","日","点","分","秒",""],startText:"开始",stopText:"停止",resetText:"重置",lapText:"圈",hideText:"隐藏",backText:"背部",undoText:"复原",offText:"关闭",onText:"开启",decimalSeparator:",",thousandsSeparator:" "},function(){var t=e,a=t.themes,s=t.$;a.frame["android-holo"]={},a.scroller["android-holo"]=s.extend({},a.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),a.form["android-holo"]={}}(),e.customTheme("mobiscroll-dark","mobiscroll"),function(){var t,a=e,s=a.platform,n=a.themes,r=a.$;"android"==s.name?t=s.majorVersion>=5?"material":"android-holo":"ios"==s.name?t="ios":"wp"==s.name&&(t="wp"),e.setAutoTheme=function(){r.each(n.frame,function(e,s){if(s.baseTheme==t&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e)return a.autoTheme=e,!1;e==t&&(a.autoTheme=e)})},e.setAutoTheme()}(),e.customTheme("choice-ui","android-holo"),e.uid="23848782",e});
