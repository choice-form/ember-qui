!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===("undefined"==typeof e?"undefined":N(e))}function a(e){return"number"==typeof e.length}function n(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function s(e,t,a){for(var n in t)a&&(H.isPlainObject(t[n])||H.isArray(t[n]))?((H.isPlainObject(t[n])&&!H.isPlainObject(e[n])||H.isArray(t[n])&&!H.isArray(e[n]))&&(e[n]={}),s(e[n],t[n],a)):void 0!==t[n]&&(e[n]=t[n])}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function r(e,t){return"number"!=typeof t||Y[i(e)]?t:t+"px"}function l(){R++,setTimeout(function(){R--},500)}function o(e,t,a){var n=e.originalEvent||e,s=(a?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][s]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][s]:e[s]}function c(e,t,a,n,s,i){function r(e){f||(n&&e.preventDefault(),f=this,h=o(e,"X"),m=o(e,"Y"),p=!1,b=new Date)}function c(e){f&&!p&&(Math.abs(o(e,"X")-h)>s||Math.abs(o(e,"Y")-m)>s)&&(p=!0)}function u(t){f&&((i&&new Date-b<100||!p)&&(t.preventDefault(),a.call(f,t,e)),f=!1,l())}function d(){f=!1}var h,m,f,p,b,v=A.$,g=v(t);s=s||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",d).on("touchmove.mbsc",c).on("touchend.mbsc",u),g.on("click.mbsc",function(t){t.preventDefault(),a.call(this,t,e)})}function u(e){if(R&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function d(e){var t;for(t in e)if(void 0!==Z[e[t]])return!0;return!1}function h(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(d([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function m(e,t){var a=document.createElement("script"),n="mbscjsonp"+ ++te;window[n]=function(e){a.parentNode.removeChild(a),delete window[n],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(a)}function f(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function p(e,t,a){"jsonp"==a?m(e,t):f(e,t)}function b(e,t,a,n,s,i,r){var l=new Date(e,t,a,n||0,s||0,i||0,r||0);return 23==l.getHours()&&0===(n||0)&&l.setHours(l.getHours()+2),l}function v(e,t){var a={},n=e.parent(),s=n.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");St('<span class="mbsc-input-wrap"></span>').insertAfter(e).append(e),s&&n.find(".mbsc-input-wrap").append(s),r&&(r.indexOf("{")!==-1?a=JSON.parse(r):a[i]=r),(r||t)&&(St.extend(a,t),n.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find(".mbsc-input-wrap").append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function g(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){St('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function y(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return Wt.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function x(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function w(e){var t,a,n,s=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=a=n=r;else{var l=r,o=(255-i)*r/255,c=(l-o)*(s%60)/60;360==s&&(s=0),s<60?(t=l,n=o,a=o+c):s<120?(a=l,n=o,t=l-c):s<180?(a=l,t=o,n=o+c):s<240?(n=l,t=o,a=l-c):s<300?(n=l,a=o,t=o+c):s<360?(t=l,a=o,n=l-c):t=a=n=0}return{r:t,g:a,b:n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function _(e){var t,a,n=0,s=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-s;return a=i,t=i?255*r/i:0,n=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,n*=60,n<0&&(n+=360),t*=100/255,a*=100/255,{h:n,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function C(e){var t,a,n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),l=Math.min(n,s,i),o=(r+l)/2;if(r==l)t=a=0;else{var c=r-l;switch(a=o>.5?c/(2-r-l):c/(r+l),r){case n:t=(s-i)/c+(s<i?6:0);break;case s:t=(i-n)/c+2;break;case i:t=(n-s)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function T(e){var t,a,n,s,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,a=r,n=0):l<2?(t=r,a=i,n=0):l<3?(t=0,a=i,n=r):l<4?(t=0,a=r,n=i):l<5?(t=r,a=0,n=i):(t=i,a=0,n=r),s=c-i/2,{r:Math.round(255*(t+s)),g:Math.round(255*(a+s)),b:Math.round(255*(n+s)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function M(e){return C(x(e))}function D(e){return y(T(e))}function k(e){return y(w(e))}function V(e){return _(x(e))}function S(e){for(var t=0,a=1,n=0;e.length;)t>3?a=3600:t>1&&(a=60),n+=e.pop()*a*(t%2?10:1),t++;return n}var A=A||{},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I={readonly:"readOnly"},F=[],O=Array.prototype.slice,L=function(){var s=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,l(this)},l=function t(a,n){var i=[],r=0;if(a&&!n&&a instanceof s)return a;if(e(a))return t(document).ready(a);if(a)if("string"==typeof a){var l,o,c;if(a=c=a.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var u="div";for(0===c.indexOf("<li")&&(u="ul"),0===c.indexOf("<tr")&&(u="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(u="tr"),0===c.indexOf("<tbody")&&(u="table"),0===c.indexOf("<option")&&(u="select"),o=document.createElement(u),o.innerHTML=c,r=0;r<o.childNodes.length;r++)i.push(o.childNodes[r])}else for(n||"#"!==a[0]||a.match(/[ .<>:~]/)?(n instanceof s&&(n=n[0]),l=(n||document).querySelectorAll(a)):l=[document.getElementById(a.split("#")[1])],r=0;r<l.length;r++)l[r]&&i.push(l[r])}else if(a.nodeType||a===window||a===document)i.push(a);else if(a.length>0&&a[0].nodeType)for(r=0;r<a.length;r++)i.push(a[r]);else t.isArray(a)&&(i=a);return new s(i)};return s.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(l):document.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},concat:F.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return l(l.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return l(O.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[a]&&this[n].classList.add(t[a]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[a]&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.toggle(t[a]);return this},closest:function(e,a){var n=this[0],s=!1;for(t(e)&&(s=l(e));n&&!(s?s.indexOf(n)>=0:l.matches(n,e));)n=n!==a&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return l(n)},attr:function e(t,a){var e;if(1!==arguments.length||"string"!=typeof t){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,a);else for(var s in t)this[n][s]=t[s],this[n].setAttribute(s,t[s]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=I[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?l.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)l.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,a,n,s){function i(e){var t,s,i=e.target;if(l(i).is(a))n.call(i,e);else for(s=l(i).parents(),t=0;t<s.length;t++)l(s[t]).is(a)&&n.call(s[t],e)}function r(e,t,a,n){var s=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:s[1],event:s[0],listener:a,capture:n}),e.addEventListener(s[0],a,n)}var o,c,u=t.split(" ");for(o=0;o<this.length;o++)if(e(a)||a===!1)for(e(a)&&(s=n||!1,n=a),c=0;c<u.length;c++)u[c].indexOf(".")!=-1?r(this[o],u[c],n,s):this[o].addEventListener(u[c],n,s);else for(c=0;c<u.length;c++)this[o].DomLiveListeners||(this[o].DomLiveListeners=[]),this[o].DomLiveListeners.push({listener:n,liveListener:i}),u[c].indexOf(".")!=-1?r(this[o],u[c],i,s):this[o].addEventListener(u[c],i,s);return this},off:function(t,a,n,s){function i(e){var t,a,n,s=e.split("."),i=s[0],r=s[1];for(t=0;t<u.length;++t)if(u[t].DomNameSpaces){for(a=0;a<u[t].DomNameSpaces.length;++a)n=u[t].DomNameSpaces[a],n.namespace!=r||n.event!=i&&i||(u[t].removeEventListener(n.event,n.listener,n.capture),n.removed=!0);for(a=u[t].DomNameSpaces.length-1;a>=0;--a)u[t].DomNameSpaces[a].removed&&u[t].DomNameSpaces.splice(a,1)}}var r,l,o,c,u=this;for(r=t.split(" "),l=0;l<r.length;l++)for(o=0;o<this.length;o++)if(e(a)||a===!1)e(a)&&(s=n||!1,n=a),0===r[l].indexOf(".")?i(r[l].substr(1),n,s):this[o].removeEventListener(r[l],n,s);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===n&&this[o].removeEventListener(r[l],this[o].DomLiveListeners[c].liveListener,s);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&r[l]&&i(r[l])}return this},trigger:function(e,t){for(var a=e.split(" "),n=0;n<a.length;n++)for(var s=0;s<this.length;s++){var i;try{i=new CustomEvent(a[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(a[n],!0,!0),i.detail=t}this[s].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,a=["left","right"];return a.forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,a=["top","bottom"];return a.forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.documentElement;return{top:t.top+window.pageYOffset-a.clientTop,left:t.left+window.pageXOffset-a.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,a){var n,s,l=this[0],e="";if(arguments.length<2){if(!l)return;if("string"==typeof t)return l.style[t]||getComputedStyle(l,"").getPropertyValue(t)}if("string"==typeof t)a||0===a?e=i(t)+":"+r(t,a):this.each(function(){this.style.removeProperty(i(t))});else for(s in t)if(t[s]||0===t[s])e+=i(s)+":"+r(s,t[s])+";";else for(n=0;n<this.length;n++)this[n].style.removeProperty(i(s));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(t){for(var a=[],n=0;n<this.length;n++)e(t)?t.call(this[n],n,this[n])&&a.push(this[n]):l.matches(this[n],t)&&a.push(this[n]);return new s(a)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&l.matches(this[0],e)},not:function(n){var s=[];if(e(n)&&void 0!==n.call)this.each(function(e){n.call(this,e)||s.push(this)});else{var i="string"==typeof n?this.filter(n):a(n)&&e(n.item)?O.call(n):l(n);t(i)&&(i=l.map(i,function(e){return e})),this.each(function(e,t){i.indexOf(t)<0&&s.push(t)})}return l(s)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(l(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?O.call(this):this[e>=0?e:e+this.length]},eq:function(e){if("undefined"==typeof e)return this;var t,a=this.length;return e>a-1?new s([]):e<0?(t=a+e,new s(t<0?[]:[this[t]])):new s([this[e]])},append:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].appendChild(e[a]);else this[t].appendChild(e);return this},appendTo:function(e){return l(e).append(this),this},prepend:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e,a=n.childNodes.length-1;a>=0;a--)this[t].insertBefore(n.childNodes[a],this[t].childNodes[0])}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return l(e).prepend(this),this},insertBefore:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0]);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0].nextSibling);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n].nextSibling);return this},next:function(e){return new s(this.length>0?e?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.nextElementSibling;){var n=a.nextElementSibling;e?l(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},prev:function(e){return new s(this.length>0?e?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.previousElementSibling;){var n=a.previousElementSibling;e?l(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},parent:function(e){for(var t=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?l(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return l(l.unique(t))},parents:function e(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a].parentNode;n;)t?l(n).is(t)&&e.push(n):e.push(n),n=n.parentNode;return l(l.unique(e))},find:function(e){for(var t=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(e),i=0;i<n.length;i++)t.push(n[i]);return new s(t)},children:function e(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a].childNodes,i=0;i<n.length;i++)t?1===n[i].nodeType&&l(n[i]).is(t)&&e.push(n[i]):1===n[i].nodeType&&e.push(n[i]);return new s(l.unique(e))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,a=this;for(e=0;e<arguments.length;e++){var n=l(arguments[e]);for(t=0;t<n.length;t++)a[a.length]=n[t],a.length++}return a},before:function(e){return l(e).insertBefore(this),this},after:function(e){return l(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return O.call(t.childNodes)})},nextUntil:function(e){for(var t=this,a=[];t.length&&!t.filter(e).length;)a.push(t[0]),t=t.next();return l(a)},prevUntil:function(e){for(var t=this,a=[];t.length&&!l(t).filter(e).length;)a.push(t[0]),t=t.prev();return l(a)},detach:function(){return this.remove()}},l.fn=s.prototype,l}(),H=L;A.$=L,H.inArray=function(e,t,a){return F.indexOf.call(t,e,a)},H.extend=function(e){var t,a=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),e=e||{},a.forEach(function(a){s(e,a,t)}),e},H.isFunction=e,H.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},H.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},H.each=function(e,a){var n,s;if(t(e)&&a){if(H.isArray(e)||e instanceof L)for(n=0;n<e.length&&a.call(e[n],n,e[n])!==!1;n++);else for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&a.call(e[s],s,e[s])===!1)break;return this}},H.unique=function(e){for(var t=[],a=0;a<e.length;a++)t.indexOf(e[a])===-1&&t.push(e[a]);return t},H.map=function(e,t){var n,s,i,r=[];if(a(e))for(s=0;s<e.length;s++)n=t(e[s],s),null!==n&&r.push(n);else for(i in e)n=t(e[i],i),null!==n&&r.push(n);return r.length>0?H.fn.concat.apply([],r):r},H.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return a.call(e,t)},A.presetShort=function(e,t,a){A[e]=function(n,s){var i,r,l={},o=s||{},c=A.$;return c.extend(o,{preset:a===!1?void 0:e}),c(n).each(function(){i=new A.classes[t||"Scroller"](this,o),l[this.id]=i}),r=Object.keys(l),1==r.length?l[r[0]]:l}};var E,P,W=[],$=navigator.userAgent,j=$.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i);/Android/i.test(j)?(E="android",P=navigator.userAgent.match(/Android\s+([\d\.]+)/i),P&&(W=P[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(j)?(E="ios",P=navigator.userAgent.match(/OS\s+([\d\_]+)/i),P&&(W=P[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(j)?E="wp":/Windows|MSIE/i.test(j)&&(E="windows");var q={name:E,majorVersion:W[0],minorVersion:W[1]},R=0;["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,u,!0)}),"android"==q.name&&q.majorVersion<5&&document.addEventListener("change",function(e){R&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0);var U,X=function(){},B=A.$,z=+new Date,K={},G=B.extend,Z=document.createElement("modernizr").style,J=h(),Q=J.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ee=void 0!==Z.animation?"animationend":"webkitAnimationEnd";U=G(A,{$:B,version:"3.2.0",util:{prefix:J,jsPrefix:Q,animEnd:ee,preventClick:l,testTouch:function(e,t){if("touchstart"==e.type)B(t).attr("data-touch","1");else if(B(t).attr("data-touch"))return B(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,a=[];for(t in e)a.push(e[t]);return a},arrayToObject:function(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:o,getPosition:function(e,t){var a,n,s=getComputedStyle(e[0]);return B.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==s[t+"ransform"])return a=s[t+"ransform"],!1}),a=a.split(")")[0].split(", "),n=t?a[13]||a[5]:a[12]||a[4]},constrain:function(e,t,a){return Math.max(t,Math.min(e,a))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var a,n;return t=t||100,function(){var s=this,i=+new Date,r=arguments;a&&i<a+t?(clearTimeout(n),n=setTimeout(function(){a=i,e.apply(s,r)},t)):(a=i,e.apply(s,r))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:q,i18n:{},instances:K,classes:{},components:{},settings:{},setDefaults:function(e){G(this.settings,e)},customTheme:function(e,t){var a,n=A.themes,s=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<s.length;a++)n[s[a]][e]=A.$.extend({},n[s[a]][t],{baseTheme:t})}}),U.presetShort=U.presetShort||function(){},U.classes.Base=function(e,t){function a(){B(e).addClass("mbsc-comp"),e.id?K[e.id]&&K[e.id].destroy():e.id="mobiscroll"+ ++z,K[e.id]=d,d.__ready=!0}var n,s,i,r,l,o,u,d=this;d.settings={},d._init=X,d._destroy=X,d._processSettings=X,d.init=function(a){var c;for(c in d.settings)delete d.settings[c];i=d.settings,G(t,a),d._hasDef&&(u=U.settings),G(i,d._defaults,u,t),d._hasTheme&&(l=i.theme,"auto"!=l&&l||(l=U.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=U.themes[d._class]?U.themes[d._class][l]:{}),d._hasLang&&(n=U.i18n[i.lang]),d._hasTheme&&o("onThemeLoad",{lang:n,settings:t}),G(i,r,n,u,t),d._processSettings(),d._hasPreset&&(s=U.presets[d._class][i.preset],s&&(s=s.call(e,d),G(i,s,t))),d._init(a),o("onInit")},d.destroy=function(){d&&(d._destroy(),o("onDestroy"),delete K[e.id],d=null)},d.tap=function(e,t,a,n,s){c(d,e,t,a,n,s)},d.trigger=function(a,n){var i,l,o,c=[u,r,s,t];for(l=0;l<4;l++)o=c[l],o&&o[a]&&(i=o[a].call(e,n||{},d));return i},d.option=function(e,t){var a={};"object"===("undefined"==typeof e?"undefined":N(e))?a=e:a[e]=t,d.init(a)},d.getInst=function(){return d},t=t||{},o=d.trigger,d.__ready||a()};var te=0;A.util.getJson=p;var ae,ne,se=A.$,ie=A.platform,re=A.util,le=A.classes,oe=A.themes,ce=re.constrain,ue=re.isString,de=re.getCoord,he=re.animEnd,me=/(iphone|ipod)/i.test(navigator.userAgent)&&ie.majorVersion>=7,fe="ios"==ie.name&&8==ie.majorVersion,pe=function(){},be=function(e){e.preventDefault()},ve=function(e,t,a){function n(e){M&&M.removeClass("mbsc-fr-btn-a"),M=se(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?se(document).on("mouseup",s):"pointerdown"===e.type&&se(document).on("pointerup",s)}function s(e){M&&(M.removeClass("mbsc-fr-btn-a"),M=null),"mouseup"===e.type?se(document).off("mouseup",s):"pointerup"===e.type&&se(document).off("pointerup",s)}function i(e){13==e.keyCode?K.select():27==e.keyCode&&K.cancel()}function r(e){e||H.focus(),K.ariaMessage($.ariaMessage)}function l(e){var t=ae,a=$.focusOnClose;K._markupRemove(),g.remove(),S&&(D.mbscModals--,$.scrollLock&&D.mbscLock--,D.mbscLock||v.removeClass("mbsc-fr-lock"),D.mbscModals||(v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),L&&(p.css({top:"",left:""}),_.scrollLeft(j),_.scrollTop(R)),e||(t||(t=G),setTimeout(function(){void 0===a||a===!0?(ne=!0,t[0].focus()):a&&se(a)[0].focus()},200)))),ae=null,K._isVisible=!1,N=!1,X("onHide")}function o(e){clearTimeout(J[e.type]),J[e.type]=setTimeout(function(){var t,a="scroll"==e.type;a&&!q||(K.position(!a),"orientationchange"==e.type&&(E.style.display="none",t=E.offsetHeight,E.style.display=""))},200)}function c(e){e.target.nodeType&&!E.contains(e.target)&&E.focus()}function u(e,t){e&&e(),K.show()!==!1&&(ae=t,setTimeout(function(){ne=!1},300))}function d(){K._fillValue(),X("onSet",{valueText:K._value})}function h(){X("onCancel",{valueText:K._value})}function m(){K.setVal(null,!0)}var f,p,b,v,g,y,x,w,_,C,T,M,D,k,V,S,N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X,B,z,K=this,G=se(e),Z=[],J={};le.Base.call(this,e,t,!0),K.position=function(e){var t,a,n,s,i,r,l,o,c,u,d,h,m,f,b,v,y={},T=0,M=0,k=0,L=0;!W&&N&&(K._position(g),h=Y.offsetHeight,m=Y.offsetWidth,B===m&&z===h&&e||(K._isFullScreen||/top|bottom/.test($.display)?w.width(m):C.width(""),X("onPosition",{target:Y,windowWidth:m,windowHeight:h})!==!1&&S&&(se(".mbsc-comp",g).each(function(){var e=A.instances[this.id];e&&e!==K&&e.position&&e.position()}),!K._isFullScreen&&/center|bubble/.test($.display)&&(se(".mbsc-w-p",g).each(function(){f=this.getBoundingClientRect().width,L+=f,k=f>k?f:k}),C.css({width:K._isLiquid?Math.min($.maxPopupWidth,m-16):Math.ceil(L>m?k:L),"white-space":L>m?"":"nowrap"})),I=E.offsetWidth,F=E.offsetHeight,q=F<=h&&I<=m,O&&(T=_.scrollLeft(),M=_.scrollTop()),"center"==$.display?(v=Math.max(0,T+(m-I)/2),b=Math.max(0,M+(h-F)/2)):"bubble"==$.display?(t=void 0===$.anchor?G:se($.anchor),l=se(".mbsc-fr-arr-i",g)[0],s=t.offset(),i=s.top+(V?M-p.offset().top:0),r=s.left+(V?T-p.offset().left:0),a=t[0].offsetWidth,n=t[0].offsetHeight,o=l.offsetWidth,c=l.offsetHeight,v=ce(r-(I-a)/2,T+8,T+m-I-8),b=i-F-c/2,b<M||i>M+h?(w.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+n+c/2):w.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),se(".mbsc-fr-arr",g).css({left:ce(r+a/2-(v+(I-o)/2),0,o)}),q=b>M&&v>T&&b+F<=M+h&&v+I<=T+m):(v=T,b="top"==$.display?M:Math.max(0,M+h-F)),O&&(u=Math.max(b+F,V?D.scrollHeight:se(document).height()),d=Math.max(v+I,V?D.scrollWidth:se(document).width()),x.css({width:d,height:u}),$.scroll&&"bubble"==$.display&&(b+F+8>M+h||i>M+h||i+n<M)&&(W=!0,setTimeout(function(){W=!1},300),_.scrollTop(Math.min(i,b+F-h+8,u-h)))),y.top=Math.floor(b),y.left=Math.floor(v),w.css(y),B=m,z=h)))},K.attachShow=function(e,t){var a,n=se(e),s=n.prop("readonly");if("inline"!==$.display){if(($.showOnFocus||$.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){K._isVisible&&this.blur()}),a=se('label[for="'+n.attr("id")+'"]'),a.length||(a=n.closest("label"))),n.is("select"))return;$.showOnFocus&&n.on("focus.mbsc",function(){ne||u(t,n)}),$.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),u(t,n))}),K.tap(n,function(){u(t,n)}),a&&a.length&&K.tap(a,function(){u(t,n)})),Z.push({readOnly:s,el:n,lbl:a})}},K.select=function(){S?K.hide(!1,"set",!1,d):d()},K.cancel=function(){S?K.hide(!1,"cancel",!1,h):h()},K.clear=function(){K._clearValue(),X("onClear"),S&&K._isVisible&&!K.live?K.hide(!1,"clear",!1,m):m()},K.enable=function(){$.disabled=!1,K._isInput&&G.prop("disabled",!1)},K.disable=function(){$.disabled=!0,K._isInput&&G.prop("disabled",!0)},K.show=function(e,t){function a(){g.off(he,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+k).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+k),r(t)}var l,u;if(!$.disabled&&!K._isVisible){if(K._readValue(),X("onBeforeShow")===!1)return!1;if(k=$.animate,T=$.buttons||[],O=V||"bubble"==$.display,L=me&&!O&&$.scrollLock,l=T.length>0,k!==!1&&("top"==$.display?k=k||"slidedown":"bottom"==$.display?k=k||"slideup":"center"!=$.display&&"bubble"!=$.display||(k=k||"pop")),S&&(R=Math.max(0,_.scrollTop()),j=Math.max(0,_.scrollLeft()),B=0,z=0,L&&!v.hasClass("mbsc-fr-lock-ios")&&p.css({top:-R+"px",left:-j+"px"}),v.addClass(($.scrollLock?"mbsc-fr-lock":"")+(L?" mbsc-fr-lock-ios":"")+(V?" mbsc-fr-lock-ctx":"")),se(document.activeElement).is("input,textarea")&&document.activeElement.blur(),A.activeInstance&&A.activeInstance.hide(),A.activeInstance=K,D.mbscModals=D.mbscModals||0,D.mbscLock=D.mbscLock||0,D.mbscModals++,$.scrollLock&&D.mbscLock++),u='<div lang="'+$.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+$.theme+($.baseTheme?" mbsc-"+$.baseTheme:"")+" mbsc-fr-"+$.display+" "+($.cssClass||"")+" "+($.compClass||"")+(K._isLiquid?" mbsc-fr-liq":"")+(L?" mbsc-platform-ios":"")+(l?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(S?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+($.rtl?" mbsc-rtl":" mbsc-ltr")+($.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===$.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+($.headerText?'<div class="mbsc-fr-hdr">'+(ue($.headerText)?$.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',u+=K._generateContent(),u+="</div>",l&&(u+='<div class="mbsc-fr-btn-cont">',se.each(T,function(e,t){t=ue(t)?K.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),u+="<div"+($.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?$.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),u+="</div>"),u+="</div></div></div></div>"+(S?"</div></div>":""),g=se(u),x=se(".mbsc-fr-persp",g),y=se(".mbsc-fr-scroll",g),C=se(".mbsc-fr-w",g),b=se(".mbsc-fr-hdr",g),w=se(".mbsc-fr-popup",g),f=se(".mbsc-fr-aria",g),Y=g[0],H=y[0],E=w[0],K._markup=g,K._header=b,K._isVisible=!0,P="orientationchange resize",K._markupReady(g),X("onMarkupReady",{target:Y}),S){if(se(window).on("keydown",i),$.scrollLock&&g.on("touchmove mousewheel wheel",function(e){q&&e.preventDefault()}),$.focusTrap&&_.on("focusin",c),$.closeOnOverlayTap){var d,h,m,M;y.on("touchstart mousedown",function(e){h||e.target!=y[0]||(h=!0,d=!1,m=de(e,"X"),M=de(e,"Y"))}).on("touchmove mousemove",function(e){h&&!d&&(Math.abs(de(e,"X")-m)>9||Math.abs(de(e,"Y")-M)>9)&&(d=!0)}).on("touchcancel",function(){h=!1}).on("touchend touchcancel mouseup",function(e){h&&!d&&(K.cancel(),"mouseup"!=e.type&&re.preventClick()),h=!1})}O&&(P+=" scroll")}setTimeout(function(){if(S)g.appendTo(p);else if(G.is("div")&&!K._hasContent)G.empty().append(g);else if(G.hasClass("mbsc-control")){var i=G.closest(".mbsc-control-w");g.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else g.insertAfter(G);N=!0,K._markupInserted(g),X("onMarkupInserted",{target:Y}),g.on("selectstart mousedown",be).on("click",".mbsc-fr-btn-e",be).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&S&&$.focusTrap){var t=g.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(se(":focus",g)),n=t.length-1,s=0;e.shiftKey&&(n=0,s=-1),a===n&&(t.eq(s)[0].focus(),e.preventDefault());
}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",s),se("input,select,textarea",g).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),Y.addEventListener("touchstart",function(){U||(U=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),se.each(T,function(e,t){K.tap(se(".mbsc-fr-btn"+e,g),function(e){t=ue(t)?K.buttons[t]:t,(ue(t.handler)?K.handlers[t.handler]:t.handler).call(this,e,K)},!0)}),K._attachEvents(g),K.position(),_.on(P,o),S&&(k&&!e?g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+k).on(he,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+k):r(t)),X("onShow",{target:Y,valueText:K._tempValue})},L?100:0)}},K.hide=function(e,t,a,n){function s(){g.off(he,s),l(e)}return!(!K._isVisible||!a&&!K._isValid&&"set"==t||!a&&X("onBeforeClose",{valueText:K._tempValue,button:t})===!1)&&(S&&(se(document.activeElement).is("input,textarea")&&E.contains(document.activeElement)&&document.activeElement.blur(),se(window).off("keydown",i),delete A.activeInstance),g&&(S&&k&&!e?g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+k).on(he,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+k):l(e),K._detachEvents(g),_.off(P,o).off("focusin",c)),n&&n(),void X("onClose",{valueText:K._value}))},K.ariaMessage=function(e){f.html(""),setTimeout(function(){f.html(e)},100)},K.isVisible=function(){return K._isVisible},K.setVal=pe,K.getVal=pe,K._generateContent=pe,K._attachEvents=pe,K._detachEvents=pe,K._readValue=pe,K._clearValue=pe,K._fillValue=pe,K._markupReady=pe,K._markupInserted=pe,K._markupRemove=pe,K._position=pe,K.__processSettings=pe,K.__init=pe,K.__destroy=pe,K._destroy=function(){K.hide(!0,!1,!0),G.off(".mbsc"),se.each(Z,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),K.__destroy()},K._processSettings=function(){var e,t;for(K.__processSettings(),$.buttons=$.buttons||("inline"!==$.display?["set","cancel"]:[]),$.headerText=void 0===$.headerText?"inline"!==$.display&&"{value}":$.headerText,T=$.buttons||[],S="inline"!==$.display,V="body"!=$.context,p=se($.context),v=V?p:se("body,html"),D=p[0],K._window=_=se(V?$.context:window),K.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(K.live=!1);K.buttons.set={text:$.setText,icon:$.setIcon,handler:"set"},K.buttons.cancel={text:$.cancelText,icon:$.cancelIcon,handler:"cancel"},K.buttons.close={text:$.closeText,icon:$.closeIcon,handler:"cancel"},K.buttons.clear={text:$.clearText,icon:$.clearIcon,handler:"clear"},K._isInput=G.is("input")},K._init=function(){K._isVisible&&K.hide(!0,!1,!0),G.off(".mbsc"),K.__init(),K._isLiquid="liquid"==$.layout,S?(K._readValue(),K._hasContent||K.attachShow(G)):K.show(),G.on("change.mbsc",function(){K._preventChange||K.setVal(G.val(),!0,!1),K._preventChange=!1})},K.buttons={},K.handlers={set:K.select,cancel:K.cancel,clear:K.clear},K._value=null,K._isValid=!0,K._isVisible=!1,$=K.settings,X=K.trigger,a||K.init(t)};ve.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:!1,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!fe},le.Frame=ve,oe.frame.mobiscroll={headerText:!1,btnWidth:!1},oe.scroller.mobiscroll=se.extend({},oe.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),se(window).on("focus",function(){ae&&(ne=!0)});var ge=A.$,ye=A.classes,xe=A.util,we=xe.constrain,_e=xe.jsPrefix,Ce=xe.prefix,Te=xe.getCoord,Me=xe.getPosition,De=xe.testTouch,ke=xe.isNumeric,Ve=xe.isString,Se=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Ae=function(){},Ne=window.requestAnimationFrame||function(e){e()},Ye=window.cancelAnimationFrame||Ae,Ie=function(e,t,a){function n(e){U("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),(Z.prevDef||"mousedown"==e.type)&&e.preventDefault(),Z.readonly||Z.lock&&V||De(e,this)&&!k&&(u&&u.removeClass("mbsc-btn-a"),_=!1,V||(u=ge(e.target).closest(".mbsc-btn-e",this),u.length&&!u.hasClass("mbsc-btn-d")&&(_=!0,d=setTimeout(function(){u.addClass("mbsc-btn-a")},100))),k=!0,Y=!1,S=!1,z.scrolled=V,P=Te(e,"X"),W=Te(e,"Y"),y=C=P,m=0,f=0,p=0,E=new Date,H=+Me(j,X)||0,V&&c(H,Se?0:1),"mousedown"===e.type&&ge(document).on("mousemove",s).on("mouseup",r))}function s(e){k&&(Z.stopProp&&e.stopPropagation(),y=Te(e,"X"),x=Te(e,"Y"),m=y-P,f=x-W,p=X?f:m,_&&(Math.abs(f)>Z.thresholdY||Math.abs(m)>Z.thresholdX)&&(clearTimeout(d),u.removeClass("mbsc-btn-a"),_=!1),(z.scrolled||!S&&Math.abs(p)>R)&&(Y||U("onGestureStart",w),z.scrolled=Y=!0,N||(N=!0,A=Ne(i))),X||Z.scrollLock?e.preventDefault():z.scrolled?e.preventDefault():Math.abs(f)>7&&(S=!0,z.scrolled=!0,J.trigger("touchend")))}function i(){M&&(p=we(p,-O*M,O*M)),c(we(H+p,D-g,T+g)),N=!1}function r(e){if(k){var t,a=new Date-E;Z.stopProp&&e.stopPropagation(),Ye(A),N=!1,!S&&z.scrolled&&(Z.momentum&&a<300&&(t=p/a,p=Math.max(Math.abs(p),t*t/Z.speedUnit)*(p<0?-1:1)),o(p)),_&&(clearTimeout(d),u.addClass("mbsc-btn-a"),setTimeout(function(){u.removeClass("mbsc-btn-a")},100),S||z.scrolled||U("onBtnTap",{target:u[0]})),"mouseup"==e.type&&ge(document).off("mousemove",s).off("mouseup",r),k=!1}}function l(e){if(e=e.originalEvent||e,p=X?e.deltaY||e.wheelDelta||e.detail:e.deltaX,U("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),p){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(p*=5),p=we(-p,-20,20),H=B,Z.readonly||H+p<D||H+p>T)return;Y||(w={posX:X?0:B,posY:X?B:0,originX:X?0:H,originY:X?H:0,direction:p>0?X?270:360:X?90:180},U("onGestureStart",w)),N||(N=!0,A=Ne(i)),Y=!0,clearTimeout(I),I=setTimeout(function(){Ye(A),N=!1,Y=!1,o(p)},200)}}function o(e){var t,a,n;if(M&&(e=we(e,-O*M,O*M)),n=we(Math.round((H+e)/O)*O,D,T),K=Math.round(n/O),L){if(e<0){for(t=L.length-1;t>=0;t--)if(Math.abs(n)+h>=L[t].breakpoint){K=t,G=2,n=L[t].snap2;break}}else if(e>=0)for(t=0;t<L.length;t++)if(Math.abs(n)<=L[t].breakpoint){K=t,G=1,n=L[t].snap1;break}n=we(n,D,T)}a=Z.time||(B<D||B>T?1e3:Math.max(1e3,Math.abs(n-B)*Z.timeUnit)),w.destinationX=X?0:n,w.destinationY=X?n:0,w.duration=a,w.transitionTiming=v,U("onGestureEnd",w),c(n,a)}function c(e,t,a,n){var s=e!=B,i=t>1,r=function(){clearInterval(F),clearTimeout(q),V=!1,B=e,w.posX=X?0:e,w.posY=X?e:0,s&&U("onMove",w),i&&U("onAnimationEnd",w),n&&n()};w={posX:X?0:B,posY:X?B:0,originX:X?0:H,originY:X?H:0,direction:e-B>0?X?270:360:X?90:180},B=e,i&&(w.destinationX=X?0:e,w.destinationY=X?e:0,w.duration=t,w.transitionTiming=v,U("onAnimationStart",w)),$[_e+"Transition"]=t?Ce+"transform "+Math.round(t)+"ms "+v:"",$[_e+"Transform"]="translate3d("+(X?"0,"+e+"px,":e+"px,0,")+"0)",!s&&!V||!t||t<=1?r():t&&(V=!a,clearInterval(F),F=setInterval(function(){var t=+Me(j,X)||0;w.posX=X?0:t,w.posY=X?t:0,U("onMove",w),Math.abs(t-e)<2&&r()},100),clearTimeout(q),q=setTimeout(function(){r()},t)),Z.sync&&Z.sync(e,t,v)}var u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D,k,V,S,A,N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X,B,z=this,K=0,G=1,Z=t,J=ge(e);ye.Base.call(this,e,t,!0),z.scrolled=!1,z.scroll=function(t,a,n,s){t=ke(t)?Math.round(t/O)*O:Math.ceil((ge(t,e).length?Math.round(j.offset()[b]-ge(t,e).offset()[b]):B)/O)*O,t=we(t,D,T),K=Math.round(t/O),H=B,c(t,a,n,s)},z.refresh=function(e){var t;h=void 0===Z.contSize?X?J.height():J.width():Z.contSize,D=void 0===Z.minScroll?Math.min(0,X?h-j.height():h-j.width()):Z.minScroll,T=void 0===Z.maxScroll?0:Z.maxScroll,L=null,!X&&Z.rtl&&(t=T,T=-D,D=-t),Ve(Z.snap)&&(L=[],j.find(Z.snap).each(function(){var e=X?this.offsetTop:this.offsetLeft,t=X?this.offsetHeight:this.offsetWidth;L.push({breakpoint:e+t/2,snap1:-e,snap2:h-e-t})})),O=ke(Z.snap)?Z.snap:1,M=Z.snap?Z.maxSnapScroll:0,v=Z.easing,g=Z.elastic?ke(Z.snap)?O:ke(Z.elastic)?Z.elastic:0:0,void 0===B&&(B=Z.initialPos,K=Math.round(B/O)),e||z.scroll(Z.snap?L?L[K]["snap"+G]:K*O:B)},z._processSettings=function(){X="Y"==Z.axis,b=X?"top":"left",j=Z.moveElement||J.children().eq(0),$=j[0].style,R=X?Z.thresholdY:Z.thresholdX},z._init=function(){z.refresh(),J.on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",r),Z.mousewheel&&J.on("wheel mousewheel",l),e.addEventListener&&e.addEventListener("click",function(e){z.scrolled&&(z.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},z._destroy=function(){clearInterval(F),J.off("touchstart mousedown",n).off("touchmove",s).off("touchend touchcancel",r).off("wheel mousewheel",l)},Z=z.settings,U=z.trigger,a||z.init(t)};Ie.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},ye.ScrollView=Ie,A.presetShort("scrollview","ScrollView",!1);var Fe=A.$,Oe=Fe.extend,Le=A.platform,He=A.util,Ee=He.jsPrefix,Pe=He.prefix,We=He.getCoord,$e=He.testTouch,je=window.CSS,qe=je&&je.supports&&je.supports("(transform-style: preserve-3d)"),Re=!qe||"wp"==Le.name||"android"==Le.name;A.presetShort("scroller","Scroller",!1);var Ue=function(e,t,a){function n(e){var t=+Fe(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),$e(e,this)&&!v(t)&&(k=Fe(this).addClass("mbsc-sc-btn-a"),L=We(e,"X"),H=We(e,"Y"),F=!0,O=!1,setTimeout(function(){f(t,"inc"==k.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&Fe(document).on("mousemove",s).on("mouseup",i))}function s(e){(Math.abs(L-We(e,"X"))>7||Math.abs(H-We(e,"Y"))>7)&&p(!0)}function i(e){p(),e.preventDefault(),"mouseup"===e.type&&Fe(document).off("mousemove",s).off("mouseup",i)}function r(e){var t,a,n=Fe(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,o(n,U[n]._$markup.find('.mbsc-sc-itm[data-val="'+E[n]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!F&&(F=!0,O=!1,f(n,a)))}function l(){p()}function o(e,t){var a=U[e],n=t.attr("data-index"),s=m(a,n),i=K._tempSelected[e],r=He.isNumeric(a.multiple)?a.multiple:1/0;q("onItemTap",{target:t[0],index:e,value:s,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[s]&&(void 0!==i[s]?(t.removeClass(N).removeAttr("aria-selected"),delete i[s]):(1==r&&(K._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(N).removeAttr("aria-selected")),He.objectToArray(i).length<r&&(t.addClass(N).attr("aria-selected","true"),i[s]=s))),T(a,e,n,z,!0,!0,a.multiple),!K.live||a.multiple||j.setOnTap!==!0&&!j.setOnTap[e]||setTimeout(function(){K.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,K))||0}function u(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Fe(a).get(t%e._length):a[t]:Fe.isFunction(a)?a(t,K):""}function d(e){return Fe.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=Fe.isPlainObject(e)?e.display:e;return void 0===t?"":t}function m(e,t){return d(u(e,t))}function f(e,t){O||b(e,t),F&&(clearInterval(I),I=setInterval(function(){b(e,t)},j.delay))}function p(e){clearInterval(I),O=e,F=!1,k&&k.removeClass("mbsc-sc-btn-a")}function b(e,t){var a=U[e];T(a,e,a._current+t,z,1==t?1:2)}function v(e){return Fe.isArray(j.readonly)?j.readonly[e]:j.readonly}function g(e,t,a){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Fe.isArray(e.data),e._array&&(e._length=e.data.length,Fe.each(e.data,function(t,a){e._map[d(a)]=t})),e.circular=void 0===j.circular?void 0===e.circular?e._array&&e._length>j.rows:e.circular:Fe.isArray(j.circular)?j.circular[t]:j.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,E[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-B,e._last=e._index+B,e._offset=e._first,a?(e._offset-=e._margin/P+(e._index-n),e._margin+=(e._index-n)*P):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!A?Math.floor(j.rows/2):0))*P,n=Math.min(a,-(e.max-e._offset-(e.multiple&&!A?Math.floor(j.rows/2):0))*P);Oe(e._scroller.settings,{minScroll:n,maxScroll:a}),e._scroller.refresh(t)},X[e.key]=e,e}function y(e,t,a,n,s){var i,r,l,o,c,m,f,p,b="",v=K._tempSelected[t],g=e._disabled||{};for(i=a;i<=n;i++)l=u(e,i),c=h(l),o=d(l),r=l&&void 0!==l.cssClass?l.cssClass:"",m=l&&void 0!==l.label?l.label:"",f=l&&l.invalid,p=void 0!==o&&o==E[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(s?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?N:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[o]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+o+'"'+(m?' aria-label="'+m+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+P+"px;line-height:"+P+"px;"+(s?Pe+"transform:rotateX("+(e._offset-i)*S%360+"deg) translateZ("+P*j.rows/2+"px);":"")+'">'+(R>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(P/R)+"px;font-size:"+Math.round(P/R*.8)+'px;">':"")+c+(R>1?"</div>":"")+"</div>";return b}function x(t){var a=j.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function w(e,t,a){var n=Math.round(-a/P)+e._offset,s=n-e._current,i=e._first,r=e._last,l=i+B-V+1,o=r-B+V;s&&(e._first+=s,e._last+=s,e._current=n,s>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+s),r+s)),Fe(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(s,r-i+1)).remove(),A&&(e._$3d.append(y(e,t,Math.max(o+1,l+s),o+s,!0)),Fe(".mbsc-sc-itm",e._$3d).slice(0,Math.min(s,o-l+1)).attr("class","mbsc-sc-itm-del"))):s<0&&(e._$scroller.prepend(y(e,t,i+s,Math.min(i-1,r+s))),Fe(".mbsc-sc-itm",e._$scroller).slice(Math.max(s,i-r-1)).remove(),A&&(e._$3d.prepend(y(e,t,l+s,Math.min(l-1,o+s),!0)),Fe(".mbsc-sc-itm",e._$3d).slice(Math.max(s,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=s*P,e._$scroller.css("margin-top",e._margin+"px"))}function _(e,t,a,n){var s,i=U[e],r=n||i._disabled,l=c(i,t),o=t,u=t,d=0,h=0;if(void 0===t&&(t=m(i,l)),r[t]===!0){for(s=0;l-d>=i.min&&r[o]&&s<100;)s++,d++,o=m(i,l-d);for(s=0;l+h<i.max&&r[u]&&s<100;)s++,h++,u=m(i,l+h);t=(h<d&&h&&2!==a||!d||l-d<0||1==a)&&!r[u]?u:o}return t}function C(t,a,n,s,i,r){var l,o,u,d,h=K._isVisible;$=!0,d=j.validate.call(e,{values:E.slice(0),index:a,direction:n},K)||{},$=!1,d.valid&&(K._tempWheelArray=E=d.valid.slice(0)),r||Fe.each(U,function(e,s){if(h&&s._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),s._disabled={},d.disabled&&d.disabled[e]&&Fe.each(d.disabled[e],function(e,t){s._disabled[t]=!0,h&&s._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),E[e]=s.multiple?E[e]:_(e,E[e],n),h){if(s.multiple&&void 0!==a||s._$markup.find(".mbsc-sc-itm-sel").removeClass(N).removeAttr("aria-selected"),s.multiple){if(void 0===a)for(var r in K._tempSelected[e])s._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(N).attr("aria-selected","true")}else s._$markup.find('.mbsc-sc-itm[data-val="'+E[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");o=c(s,E[e]),l=o-s._index+s._batch,Math.abs(l)>2*B+1&&(u=l+(2*B+1)*(l>0?-1:1),s._offset+=u,s._margin-=u*P,s._refresh()),s._index=o+s._batch,s._scroller.scroll(-(o-s._offset+s._batch)*P,a===e||void 0===a?t:z,i)}}),q("onValidated"),K._tempValue=j.formatValue(E,K),h&&K._header.html(x(K._tempValue)),K.live&&(K._hasValue=s||K._hasValue,M(s,s,0,!0),s&&q("onSet",{valueText:K._value})),s&&q("onChange",{valueText:K._tempValue})}function T(e,t,a,n,s,i,r){var l=m(e,a);void 0!==l&&(E[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){C(n,t,s,!0,i,r)},10))}function M(e,t,a,n,s){if(n?K._tempValue=j.formatValue(K._tempWheelArray,K):C(a),!s){K._wheelArray=[];for(var i=0;i<E.length;i++)K._wheelArray[i]=U[i]&&U[i].multiple?Object.keys(K._tempSelected[i])[0]:E[i];K._value=K._hasValue?K._tempValue:null,K._selected=Oe(!0,{},K._tempSelected)}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),q("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(K._preventChange=!0,G.trigger("change")))}var D,k,V,S,A,N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X,B=40,z=1e3,K=this,G=Fe(e);ve.call(this,e,t,!0),K.setVal=K._setVal=function(t,a,n,s,i){K._hasValue=null!==t&&void 0!==t,K._tempWheelArray=E=Fe.isArray(t)?t.slice(0):j.parseValue.call(e,t,K)||[],M(a,void 0===n?a:n,i,!1,s)},K.getVal=K._getVal=function(e){var t=K._hasValue||e?K[e?"_tempValue":"_value"]:null;return He.isNumeric(t)?+t:t},K.setArrayVal=K.setVal,K.getArrayVal=function(e){return e?K._tempWheelArray:K._wheelArray},K.changeWheel=function(e,t,a){var n,s;Fe.each(e,function(e,t){s=X[e],n=s._nr,s&&(Oe(s,t),g(s,n,!0),K._isVisible&&(A&&s._$3d.html(y(s,n,s._first+B-V+1,s._last-B+V,!0)),s._$scroller.html(y(s,n,s._first,s._last)).css("margin-top",s._margin+"px"),s._refresh($)))}),!K._isVisible||K._isLiquid||$||K.position(),$||C(t,void 0,void 0,a)},K.getValidValue=_,K._generateContent=function(){var e,t=0,a="",n=A?Pe+"transform: translateZ("+(P*j.rows/2+3)+"px);":"",s='<div class="mbsc-sc-whl-l" style="'+n+"height:"+P+"px;margin-top:-"+(P/2+(j.selectedLineBorder||0))+'px;"></div>',i=0;return Fe.each(j.wheels,function(r,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(j.showLabel?" mbsc-sc-lbl-v":"")+'">'+s+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(Y?" mbsc-sc-cp":"")+(j.width||j.maxWidth?'"':'" style="max-width:'+j.maxPopupWidth+'px;"')+">",Fe.each(l,function(r,l){K._tempSelected[i]=Oe({},K._selected[i]),U[i]=g(l,i),t+=j.maxWidth?j.maxWidth[i]||j.maxWidth:j.width?j.width[i]||j.width:0,e=void 0!==l.label?l.label:r,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(j.width?"width:"+(j.width[i]||j.width)+"px;":(j.minWidth?"min-width:"+(j.minWidth[i]||j.minWidth)+"px;":"")+(j.maxWidth?"max-width:"+(j.maxWidth[i]||j.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+s+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+j.rows*P*(A?1.1:1)+'px;">'+(Y?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(j.btnPlusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(j.btnMinusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+W+"px;margin-top:-"+(W/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(W-P)/2+'px;">',a+=y(l,i,l._first,l._last)+"</div></div>",A&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+P+"px;margin-top:-"+P/2+'px;">',a+=y(l,i,l._first+B-V+1,l._last-B+V,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(j.maxPopupWidth=t),a},K._attachEvents=function(e){Fe(".mbsc-sc-btn",e).on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",i),Fe(".mbsc-sc-whl",e).on("keydown",r).on("keyup",l)},K._detachEvents=function(){for(var e=0;e<U.length;e++)U[e]._scroller.destroy()},K._markupReady=function(e){D=e,Fe(".mbsc-sc-whl",D).each(function(e){var t,a=Fe(this),n=U[e],s=-(n.min-n._offset+(n.multiple&&!A?Math.floor(j.rows/2):0))*P,i=Math.min(s,-(n.max-n._offset-(n.multiple&&!A?Math.floor(j.rows/2):0))*P);n._$markup=a,n._$scroller=Fe(".mbsc-sc-whl-sc",this),n._$3d=Fe(".mbsc-sc-whl-3d",this),n._scroller=new Ie(this,{mousewheel:j.mousewheel,moveElement:n._$scroller,initialPos:(n._first-n._index)*P,contSize:0,snap:P,minScroll:i,maxScroll:s,maxSnapScroll:B,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){A&&(n._$3d[0].style[Ee+"Transition"]=t?Pe+"transform "+Math.round(t)+"ms "+a:"",n._$3d[0].style[Ee+"Transform"]="rotateX("+-e/P*S+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),q("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var s=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/P)+n._offset,T(n,e,t,i,s)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),q("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){w(n,e,t.posY)},onBtnTap:function(t){o(e,Fe(t.target))}})}),C()},K._fillValue=function(){K._hasValue=!0,M(!0,!0,0,!0)},K._clearValue=function(){Fe(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",D).removeClass(N).removeAttr("aria-selected")},K._readValue=function(){var t=G.val()||"",a=0;""!==t&&(K._hasValue=!0),K._tempWheelArray=E=K._hasValue&&K._wheelArray?K._wheelArray.slice(0):j.parseValue.call(e,t,K)||[],K._tempSelected=Oe(!0,{},K._selected),Fe.each(j.wheels,function(e,t){Fe.each(t,function(e,t){U[a]=g(t,a),a++})}),M(!1,!1,0,!0),q("onRead")},K.__processSettings=function(){j=K.settings,q=K.trigger,R=j.multiline,N="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+j.checkIcon,U=[],X={}},K.__init=function(){Y=j.showScrollArrows,A=j.scroll3d&&!Re&&!Y,P=j.height,W=A?2*Math.round((P-.03*(P*j.rows/2+3))/2):P,V=Math.round(1.8*j.rows),S=360/(2*V),Y&&(j.rows=Math.max(3,j.rows)),j.cssClass=(j.cssClass||"")+" mbsc-sc"},K._getItemValue=d,K._tempSelected={},K._selected={},a||K.init(t)};Ue.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:Oe({},ve.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,n,s=[],i=[],r=0;return null!==e&&void 0!==e&&(s=(e+"").split(" ")),Fe.each(t.settings.wheels,function(e,l){Fe.each(l,function(e,l){n=l.data,a=t._getItemValue(n[0]),Fe.each(n,function(e,n){if(s[r]==t._getItemValue(n))return a=t._getItemValue(n),!1}),i.push(a),r++})}),i}})},A.classes.Scroller=Ue;var Xe=A.$,Be=A.util,ze=Be.isString,Ke={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};A.presetShort("select"),A.presets.scroller.select=function(e){function t(e){var t,a,n,s,i,r,l=0,o=0,c={};if(L={},_={},D=[],w=[],Z.length=0,R)Xe.each(b,function(l,u){i=u[I.dataText],a=u[I.dataHtml],r=u[I.dataValue],n=u[I.dataGroup],s={value:r,html:a,text:i,index:l},L[r]=s,e&&!d(i,e)||(D.push(s),U&&(void 0===c[n]?(t={text:n,value:o,options:[],index:o},_[o]=t,c[n]=o,w.push(t),o++):t=_[c[n]],z&&(s.index=t.options.length),s.group=c[n],t.options.push(s)),u[I.dataDisabled]&&Z.push(r))});else if(U){var u=!0;Xe("optgroup",N).each(function(t){_[t]={text:this.label,value:t,options:[],index:t},u=!0,Xe("option",this).each(function(a){s={value:this.value,text:this.text,index:z?a:l++,group:t},L[this.value]=s,e&&!d(this.text,e)||(u&&(w.push(_[t]),u=!1),D.push(s),_[t].options.push(s),this.disabled&&Z.push(this.value))})})}else Xe("option",N).each(function(t){s={value:this.value,text:this.text,index:t},L[this.value]=s,e&&!d(this.text,e)||(D.push(s),this.disabled&&Z.push(this.value))});D.length&&(v=D[0].value),K&&(D=[],l=0,Xe.each(_,function(e,t){t.options.length&&(r="__group"+e,s={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},L[r]=s,D.push(s),Z.push(s.value),Xe.each(t.options,function(e,t){t.index=l++,D.push(t)}))})),F&&(D.length?F.removeClass("mbsc-sel-empty-v"):F.addClass("mbsc-sel-empty-v"))}function a(e,t,a){var n,s=[];for(n=0;n<e.length;n++)s.push({value:e[n].value,display:e[n].html||e[n].text,cssClass:e[n].cssClass});return{circular:!1,multiple:t,data:s,label:a}}function n(){return a(w,!1,I.groupLabel)}function s(){return a(z?_[x].options:D,W,q)}function i(){var e,t,a=[[]];return B&&(e=n(),E?a[0][C]=e:a[C]=[e]),t=s(),E?a[0][k]=t:a[k]=[t],a}function r(e){P&&(e&&ze(e)&&(e=e.split(",")),Xe.isArray(e)&&(e=e[0])),M=void 0!==e&&null!==e&&""!==e&&L[e]?e:v,B&&(x=L[M]?L[M].group:null)}function l(t,a){var n=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return n?I.group&&a?n:n[k]:null}function o(t){var a,n,s=[];if(W){for(a in e._tempSelected[k])s.push(S[a]||(L[a]?L[a].text:""));return s.join(", ")}return n=t[k],L[n]?L[n].text:""}function c(){var t=e.getVal(),a=e._tempValue;I.filter&&"inline"==I.display||f.val(a),N.val(t)}function u(){var t={};t[k]=s(),V=!0,e.changeWheel(t)}function d(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function h(e){return I.data.dataField?e[I.data.dataField]:I.data.processResponse?I.data.processResponse(e):e}function m(a){var l={};t(a),I.wheels=i(),r(M),l[k]=s(),e._tempWheelArray[k]=M,B&&(l[C]=n(),e._tempWheelArray[C]=x),e._isVisible&&e.changeWheel(l,0,!0)}var f,b,v,g,y,x,w,_,C,T,M,D,k,V,S={},A=1e3,N=Xe(this),Y=Xe.extend({},e.settings),I=Xe.extend(e.settings,Ke,Y),F=Xe('<div class="mbsc-sel-empty">'+I.filterEmptyText+"</div>"),O=I.readonly,L={},H=I.layout||(/top|bottom|inline/.test(I.display)||I.filter?"liquid":""),E="liquid"==H,P=Be.isNumeric(I.select)?I.select:"multiple"==I.select||N.prop("multiple"),W=P||!!I.filter&&1,$=this.id+"_dummy",j=Xe('label[for="'+this.id+'"]').attr("for",$),q=void 0!==I.label?I.label:j.length?j.text():N.attr("name"),R=!!I.data,U=R?!!I.group:Xe("optgroup",N).length,X=I.group,B=U&&X&&X.groupWheel!==!1,z=U&&X&&B&&X.clustered===!0,K=U&&(!X||X.header!==!1&&!z),G=N.val()||(P?[]:[""]),Z=[];return e.setVal=function(t,a,n,s,i){W&&(t&&!P&&(t=[t]),t&&ze(t)&&(t=t.split(",")),e._tempSelected[k]=Be.arrayToObject(t),s||(e._selected[k]=Be.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,a,n,s,i)},e.getVal=function(t,a){if(W){var n=Be.objectToArray(t?e._tempSelected[k]:e._selected[k]);return P?n:n.length?n[0]:null}return l(t,a)},e.refresh=function(e,t){e?b=e:Xe.isArray(I.data)&&(b=I.data),!e&&T&&void 0===t?p(I.data.url,function(e){b=h(e),m()},I.data.dataType):m(t)},I.invalid.length||(I.invalid=Z),B?(C=0,k=1):(C=-1,k=0),W&&(P&&N.prop("multiple",!0),G&&ze(G)&&(G=G.split(",")),e._selected[k]=Be.arrayToObject(G)),e._dummyInput&&e._dummyInput.remove(),N.next().is("input.mbsc-control")?f=N.off(".mbsc-form").next().removeAttr("tabindex"):(I.filter&&"inline"==I.display?e._dummyInput=Xe('<div class="mbsc-sel-input-wrap"><input type="text" id="'+$+'" class="mbsc-control '+I.inputClass+'" readonly /></div>'):(f=Xe('<input type="text" id="'+$+'" class="mbsc-control '+I.inputClass+'" readonly />'),e._dummyInput=f),I.showInput&&(e._dummyInput.insertBefore(N),f||(f=e._dummyInput.find("#"+$)))),e.attachShow(f.attr("placeholder",I.placeholder||"")),N.addClass("mbsc-sel-hdn").attr("tabindex",-1),I.filter&&(g=I.filter.minLength||0),T=I.data&&I.data.url,T?e.refresh():(R&&(b=I.data),t(),r(N.val())),{layout:H,headerText:!1,anchor:f,compClass:"mbsc-sel"+(B?" mbsc-sel-gr-whl":"")+(W?" mbsc-sel-multi":""),setOnTap:!B||[!1,!0],formatValue:o,parseValue:function(e){return r(void 0===e?N.val():e),B?[x,M]:[M]},validate:function(e){var t=e.index,a=[];return a[k]=I.invalid,z&&!V&&void 0===t&&u(),V=!1,{disabled:a}},onRead:c,onFill:c,onMarkupReady:function(e,t){if(I.filter){var a,n,s,i=Xe(".mbsc-fr-w",e.target),r=Xe('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+I.filterClearIcon+'"></span>');"inline"==I.display?(a=f,f.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),y="",s=a[0],a.prop("readonly",!1).attr("placeholder",I.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(F),t.tap(r,function(){s.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),s.blur())}).on("keyup",function(){clearTimeout(n),s.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),n=setTimeout(function(){y!==s.value&&t.trigger("onFilter",{filterText:s.value})!==!1&&(y=s.value,(y.length>=g||!y.length)&&(T&&I.data.remoteFilter?p(I.data.url+encodeURIComponent(y),function(e){t.refresh(h(e))},I.data.dataType):t.refresh(void 0,y)))},500)})}},onBeforeShow:function(){P&&I.counter&&(I.headerText=function(){var t=0;return Xe.each(e._tempSelected[k],function(){t++}),(t>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,t)}),r(N.val()),I.filter&&t(void 0),e.settings.wheels=i(),V=!0},onWheelGestureStart:function(e){e.index==C&&(I.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==C?(I.readonly=O,a[C]!=x&&(x=a[C],M=_[x].options[0].value,a[k]=M,z?u():e.setArrayVal(a,!1,!1,!0,A))):t.index==k&&a[k]!=M&&(M=a[k],B&&L[M]&&L[M].group!=x&&(x=L[M].group,a[C]=x,e.setArrayVal(a,!1,!1,!0,A)))},onItemTap:function(e){if(e.index==k&&(S[e.value]=L[e.value].text,W&&!P&&e.selected))return!1},onClose:function(){T&&I.data.remoteFilter&&y&&e.refresh()},onDestroy:function(){e._dummyInput&&e._dummyInput.remove(),N.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var Ge=A.$,Ze={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:b,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:b,formatDate:function(e,t,a){if(!t)return null;var n,s,i=Ge.extend({},Ze.defaults,a),r=function(t){for(var a=0;n+1<e.length&&e.charAt(n+1)==t;)a++,n++;return a},l=function(e,t,a){var n=""+t;if(r(e))for(;n.length<a;)n="0"+n;return n},o=function(e,t,a,n){return r(e)?n[t]:a[t]},c="",u=!1;for(n=0;n<e.length;n++)if(u)"'"!=e.charAt(n)||r("'")?c+=e.charAt(n):u=!1;else switch(e.charAt(n)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":s=i.getYear(t),c+=r("y")?s:(s%100<10?"0":"")+s%100;break;case"h":var d=t.getHours();c+=l("h",d>12?d-12:0===d?12:d,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":u=!0;break;default:c+=e.charAt(n)}return c},parseDate:function(e,t,a){var n=Ge.extend({},Ze.defaults,a),s=n.defaultValue&&n.defaultValue.getTime?n.defaultValue:new Date;if(!e||!t)return s;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":N(t))?t.toString():t+"";var i,r=n.shortYearCutoff,l=n.getYear(s),o=n.getMonth(s)+1,c=n.getDay(s),u=-1,d=s.getHours(),h=s.getMinutes(),m=0,f=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,n=new RegExp("^\\d{1,"+a+"}"),s=t.substr(x).match(n);return s?(x+=s[0].length,parseInt(s[0],10)):0},g=function(e,a,n){var s,i=b(e)?n:a;for(s=0;s<i.length;s++)if(t.substr(x,i[s].length).toLowerCase()==i[s].toLowerCase())return x+=i[s].length,
s+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",n.dayNamesShort,n.dayNames);break;case"o":u=v("o");break;case"m":o=v("m");break;case"M":o=g("M",n.monthNamesShort,n.monthNames);break;case"y":l=v("y");break;case"H":d=v("H");break;case"h":d=v("h");break;case"i":h=v("i");break;case"s":m=v("s");break;case"a":f=g("a",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"A":f=g("A",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),u>-1)for(o=1,c=u;;){var w=32-new Date(l,o-1,32,12).getDate();if(c<=w)break;o++,c-=w}d=f==-1?d:f&&d<12?d+12:f||12!=d?d:0;var _=n.getDate(l,o-1,c,d,h,m);return n.getYear(_)!=l||n.getMonth(_)+1!=o||n.getDay(_)!=c?s:_}};A.util.datetime=Ze;var Je=A.$,Qe=Ze.adjustedDate,et={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},tt=function e(t){function a(e){return e<10?"0"+e:e}function n(e){var t,a,n,s=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.start.getTime)for(n=new Date(a.start);n<=a.end;)s.push(Qe(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else s.push(a);return s}return e}function s(e,t,a,n){return Math.min(n,Math.floor(e/t)*t+a)}function i(e,t,a){return Math.floor((a-t)/e)*e+t}function r(e){return P.getYear(e)}function l(e){return P.getMonth(e)}function o(e){return P.getDay(e)}function c(e){var t=e.getHours();return t=J&&t>=12?t-12:t,s(t,te,ie,oe)}function u(e){return s(e.getMinutes(),ae,re,ce)}function d(e){return s(e.getSeconds(),ne,le,ue)}function h(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())}function p(e){return s(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),N,0,86400)}function b(e,t,a,n){var s;return void 0===F[t]||(s=+e[F[t]],isNaN(s))?a?pe[t](a):void 0!==O[t]?O[t]:pe[t](n):s}function v(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==F.dd&&(t=e[F.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==F.tt&&(t=t||a,t=new Date(t.getTime()+e[F.tt]%86400*1e3));var n=b(e,"y",t,a),s=b(e,"m",t,a),i=Math.min(b(e,"d",t,a),P.getMaxDayOfMonth(n,s)),r=b(e,"h",t,a);return P.getDate(n,s,i,J&&b(e,"a",t,a)?r+12:r,b(e,"i",t,a),b(e,"s",t,a),b(e,"u",t,a))}function g(e,t){var a,n,s=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<s.length;a++)n=s[a],void 0!==F[n]&&(i[F[n]]=pe[n](e)),t&&(O[n]=pe[n](e));return i}function y(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function x(e){return{value:e,display:(/yy/i.test(X)?e:(e+"").substr(2,2))+(P.yearSuffix||"")}}function w(e){return e}function _(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:K?y(f(K),t):void 0,max:G?y(f(G),t):void 0,data:function(a){var n=new Date((new Date).setHours(0,0,0,0)),s=t?new Date(864e5*a):new Date(1970,a,1);return t&&(s=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())),{invalid:t&&!k(s,!0),value:f(s),display:n.getTime()==s.getTime()?P.todayText:Ze.formatDate(e,s,P)}},getIndex:function(e){return y(e,t)}}}function C(e){var t,a,n,s=[];for(/s/i.test(e)?a=ne:/i/i.test(e)?a=60*ae:/h/i.test(e)&&(a=3600*te),N=me.tt=a,t=0;t<86400;t+=a)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),s.push({value:t,display:Ze.formatDate(e,n,P)});return{label:"",cssClass:"mbsc-dt-whl-time",data:s}}function T(){var t,n,s,i,r,l,o,c,u=0,d=[],h=[],m=[];if(e.match(/date/i)){for(t=R.split(/\|/.test(R)?"|":""),i=0;i<t.length;i++)if(s=t[i],l=0,s.length)if(/y/i.test(s)&&l++,/m/i.test(s)&&l++,/d/i.test(s)&&l++,l>1&&void 0===F.dd)F.dd=u,u++,h.push(_(s)),m=h,Y=!0;else if(/y/i.test(s)&&void 0===F.y)F.y=u,u++,h.push({cssClass:"mbsc-dt-whl-y",label:P.yearText,min:K?P.getYear(K):void 0,max:G?P.getYear(G):void 0,data:x,getIndex:w});else if(/m/i.test(s)&&void 0===F.m){for(F.m=u,o=[],u++,r=0;r<12;r++)c=X.replace(/[dy]/gi,"").replace(/mm/,a(r+1)+(P.monthSuffix||"")).replace(/m/,r+1+(P.monthSuffix||"")),o.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+P.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+P.monthNamesShort[r]+"</span>")});h.push({cssClass:"mbsc-dt-whl-m",label:P.monthText,data:o})}else if(/d/i.test(s)&&void 0===F.d){for(F.d=u,o=[],u++,r=1;r<32;r++)o.push({value:r,display:(/dd/i.test(X)?a(r):r)+(P.daySuffix||"")});h.push({cssClass:"mbsc-dt-whl-d",label:P.dayText,data:o})}d.push(h)}if(e.match(/time/i)){for(n=U.split(/\|/.test(U)?"|":""),i=0;i<n.length;i++)if(s=n[i],l=0,s.length&&(/h/i.test(s)&&l++,/i/i.test(s)&&l++,/s/i.test(s)&&l++,/a/i.test(s)&&l++),l>1&&void 0===F.tt)F.tt=u,u++,m.push(C(s));else if(/h/i.test(s)&&void 0===F.h){for(o=[],F.h=u,u++,r=ie;r<(J?12:24);r+=te)o.push({value:r,display:J&&0===r?12:/hh/i.test(B)?a(r):r});m.push({cssClass:"mbsc-dt-whl-h",label:P.hourText,data:o})}else if(/i/i.test(s)&&void 0===F.i){for(o=[],F.i=u,u++,r=re;r<60;r+=ae)o.push({value:r,display:/ii/i.test(B)?a(r):r});m.push({cssClass:"mbsc-dt-whl-i",label:P.minuteText,data:o})}else if(/s/i.test(s)&&void 0===F.s){for(o=[],F.s=u,u++,r=le;r<60;r+=ne)o.push({value:r,display:/ss/i.test(B)?a(r):r});m.push({cssClass:"mbsc-dt-whl-s",label:P.secText,data:o})}else/a/i.test(s)&&void 0===F.a&&(F.a=u,u++,m.push({cssClass:"mbsc-dt-whl-a",label:P.ampmText,data:/A/.test(s)?[{value:0,display:P.amText.toUpperCase()},{value:1,display:P.pmText.toUpperCase()}]:[{value:0,display:P.amText},{value:1,display:P.pmText}]}));m!=h&&d.push(m)}return d}function M(e){var t,a,n,s={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",s.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}s.format=t,a=e.attr("min"),n=e.attr("max"),a&&(s.min=Ze.parseDate(t,a)),n&&(s.max=Ze.parseDate(t,n))}return s}function D(e,t){var a,n,s=!1,i=!1,r=0,l=0,o=K?v(g(K)):-(1/0),c=G?v(g(G)):1/0;if(k(e))return e;if(e<o&&(e=o),e>c&&(e=c),a=e,n=e,2!==t)for(s=k(a);!s&&a<c;)a=new Date(a.getTime()+864e5),s=k(a),r++;if(1!==t)for(i=k(n);!i&&n>o;)n=new Date(n.getTime()-864e5),i=k(n),l++;return 1===t&&s?a:2===t&&i?n:l<=r&&i?n:a}function k(e,t){return!(!t&&e<K)&&(!(!t&&e>G)&&(!!V(e,$)||!V(e,W)))}function V(e,t){var a,n,s;if(t)for(n=0;n<t.length;n++)if(a=t[n],s=a+"",!a.start)if(a.getTime){if(e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0}else if(s.match(/w/i)){if(s=+s.replace("w",""),s==e.getDay())return!0}else if(s=s.split("/"),s[1]){if(s[0]-1==e.getMonth()&&s[1]==e.getDate())return!0}else if(s[0]==e.getDate())return!0;return!1}function S(e,t,a,n,s,i,r){var l,o,c,u;if(e)for(o=0;o<e.length;o++)if(l=e[o],u=l+"",!l.start)if(l.getTime)P.getYear(l)==t&&P.getMonth(l)==a&&(i[P.getDay(l)]=r);else if(u.match(/w/i))for(u=+u.replace("w",""),c=u-n;c<s;c+=7)c>=0&&(i[c+1]=r);else u=u.split("/"),u[1]?u[0]-1==a&&(i[u[1]]=r):i[u[0]]=r}function A(e,t,a,n,i,r,l,o){var c,u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D,k,V,S={},A=P.getDate(n,i,r),Y=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,d=y.d,M=d+"",D=M.split("/"),d&&(d.getTime&&n==P.getYear(d)&&i==P.getMonth(d)&&r==P.getDay(d)||!M.match(/w/i)&&(D[1]&&r==D[1]&&i==D[0]-1||!D[1]&&r==D[0])||M.match(/w/i)&&A.getDay()==+M.replace("w",""))&&(y.apply=!0,S[A]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=de[a],v=he[a],_=!0,C=!0,u=!1,y.start&&(y.apply||!y.d&&!S[A])){for(x=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===w[g]&&(w[g]=59),x[g]=+x[g],w[g]=+w[g];if("tt"==a)b=s(Math.round((new Date(A).setHours(x[0],x[1],x[2])-new Date(A).setHours(0,0,0,0))/1e3),N,0,86400),v=s(Math.round((new Date(A).setHours(w[0],w[1],w[2])-new Date(A).setHours(0,0,0,0))/1e3),N,0,86400);else{for(x.unshift(x[0]>11?1:0),w.unshift(w[0]>11?1:0),J&&(x[1]>=12&&(x[1]=x[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==L[g]&&(k=s(x[g],me[Y[g]],de[Y[g]],he[Y[g]]),V=s(w[g],me[Y[g]],de[Y[g]],he[Y[g]]),h=0,m=0,f=0,J&&1==g&&(h=x[0]?12:0,m=w[0]?12:0,f=L[0]?12:0),_||(k=0),C||(V=he[Y[g]]),(_||C)&&k+h<L[g]+f&&L[g]+f<V+m&&(u=!0),L[g]!=k&&(_=!1),L[g]!=V&&(C=!1));if(!o)for(g=t+1;g<4;g++)x[g]>0&&(c=me[a]),w[g]<he[Y[g]]&&(T=me[a]);u||(k=s(x[t],me[a],de[a],he[a])+c,V=s(w[t],me[a],de[a],he[a])-T,_&&(b=k),C&&(v=V))}if(_||C||u)for(g=b;g<=v;g+=me[a])l[g]=!o}}}var N,Y,I,F={},O={},L=[],H=M(Je(this)),E=Je.extend({},t.settings),P=Je.extend(t.settings,Ze.defaults,et,H,E),W=n(P.invalid),$=n(P.valid),e=P.preset,j="datetime"==e?P.dateFormat+P.separator+P.timeFormat:"time"==e?P.timeFormat:P.dateFormat,q=H.format||j,R=P.dateWheels||P.dateFormat,U=P.timeWheels||P.timeFormat,X=P.dateWheels||P.dateDisplay,B=U,z=P.baseTheme||P.theme,K=P.min,G=P.max,Z=/time/i.test(e),J=/h/.test(B),Q=/D/.test(X),ee=P.steps||{},te=ee.hour||P.stepHour||1,ae=ee.minute||P.stepMinute||1,ne=ee.second||P.stepSecond||1,se=ee.zeroBased,ie=se||!K?0:K.getHours()%te,re=se||!K?0:K.getMinutes()%ae,le=se||!K?0:K.getSeconds()%ne,oe=i(te,ie,J?11:23),ce=i(ae,re,59),ue=i(ae,re,59),de={y:K?K.getFullYear():-(1/0),m:0,d:1,h:ie,i:re,s:le,a:0,tt:0},he={y:G?G.getFullYear():1/0,m:11,d:31,h:oe,i:ce,s:ue,a:1,tt:86400},me={y:1,m:1,d:1,h:te,i:ae,s:ne,a:1,tt:1},fe={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},pe={y:r,m:l,d:o,h:c,i:u,s:d,u:h,a:m,dd:f,tt:p};return t.getDate=t.getVal=function(e){return t._hasValue||e?v(t.getArrayVal(e)):null},t.setDate=function(e,a,n,s,i){t.setArrayVal(g(e),a,i,s,n)},I=T(),t.format=j,t.order=F,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:P.nowText,icon:P.nowIcon,handler:"now"},{minWidth:Y&&Z?fe[z]:void 0,compClass:"mbsc-dt",wheels:I,headerText:!!P.headerText&&function(){return Ze.formatDate(j,v(t.getArrayVal(!0)),P)},formatValue:function(e){return Ze.formatDate(q,v(e),P)},parseValue:function(e){return e||(O={}),g(e?Ze.parseDate(q,e,P):P.defaultValue&&P.defaultValue.getTime?P.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(e){var a,n,s,i,r=e.values,l=e.index,o=e.direction,c=t.settings.wheels[0][F.d],u=D(v(r),o),d=g(u),h=[],m={},f=pe.y(u),p=pe.m(u),b=P.getMaxDayOfMonth(f,p),y=!0,x=!0;if(Je.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==F[t]){var a=de[t],s=he[t],i=pe[t](u);if(h[F[t]]=[],y&&K&&(a=pe[t](K)),x&&G&&(s=pe[t](G)),"y"!=t&&"dd"!=t)for(n=de[t];n<=he[t];n+=me[t])(n<a||n>s)&&h[F[t]].push(n);if(i<a&&(i=a),i>s&&(i=s),y&&(y=i==a),x&&(x=i==s),"d"==t){var r=P.getDate(f,p,1).getDay(),l={};S(W,f,p,r,b,l,1),S($,f,p,r,b,l,0),Je.each(l,function(e,a){a&&h[F[t]].push(e)})}}}),Z&&Je.each(["a","h","i","s","tt"],function(e,a){var n=pe[a](u),s=pe.d(u),i={};void 0!==F[a]&&(A(W,e,a,f,p,s,i,0),A($,e,a,f,p,s,i,1),Je.each(i,function(e,t){t&&h[F[a]].push(e)}),L[e]=t.getValidValue(F[a],n,o,i))}),c&&(c._length!==b||Q&&(void 0===l||l===F.y||l===F.m))){for(m[F.d]=c,c.data=[],a=1;a<=b;a++)i=P.getDate(f,p,a).getDay(),s=X.replace(/[my]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(P.daySuffix||"")).replace(/d/,a+(P.daySuffix||"")),c.data.push({value:a,display:s.match(/DD/)?s.replace(/DD/,'<span class="mbsc-dt-day">'+P.dayNames[i]+"</span>"):s.replace(/D/,'<span class="mbsc-dt-day">'+P.dayNamesShort[i]+"</span>")});t._tempWheelArray[F.d]=d[F.d],t.changeWheel(m)}return{disabled:h,valid:d}}}};Je.each(["date","time","datetime"],function(e,t){A.presets.scroller[t]=tt}),A.$.each(["date","time","datetime"],function(e,t){A.presetShort(t)});var at=A.$,nt={invalid:[],showInput:!0,inputClass:""};A.presets.scroller.list=function(e){function t(e,t,n){for(var s=0,i=[];s<e;)i[s]=a(n,s,t),s++;return i}function a(e,t,a){for(var n,s=0,i=a,r=[];s<t;){var l=e[s];for(n in i)if(i[n].key==l){i=i[n].children;break}s++}for(s=0;s<i.length;)i[s].invalid&&r.push(i[s].key),s++;return r}function n(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}function s(e){var t,a=[];for(t=0;t<e;t++)a[t]=v.labels&&v.labels[t]?v.labels[t]:t;return a}function i(e,t,a){var n,s,i,o=0,c=[[]],u=D;if(t)for(n=0;n<t;n++)y?c[0][n]={}:c[n]=[{}];for(;o<e.length;){for(y?c[0][o]=l(u,k[o]):c[o]=[l(u,k[o])],n=0,i=void 0;n<u.length&&void 0===i;)u[n].key==e[o]&&(void 0!==a&&o<=a||void 0===a)&&(i=n),n++;if(void 0!==i&&u[i].children)o++,u=u[i].children;else{if(!(s=r(u))||!s.children)return c;o++,u=s.children}}return c}function r(e,t){if(!e)return!1;for(var a,n=0;n<e.length;)if(!(a=e[n++]).invalid)return t?n-1:a;return!1}function l(e,t){for(var a={data:[],label:t},n=0;n<e.length;)a.data.push({value:e[n].key,display:e[n].value}),n++;return a}function o(t){e._isVisible&&at(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,a=[],n=e,s=!0,i=0;s;)t=r(n),a[i++]=t.key,s=t.children,s&&(n=s);return a}function u(e,t){var a,n,s,i=[],l=D,o=0,c=!1;if(void 0!==e[o]&&o<=t)for(a=0,n=e[o],s=void 0;a<l.length&&void 0===s;)l[a].key!=e[o]||l[a].invalid||(s=a),a++;else s=r(l,!0),n=l[s].key;for(c=void 0!==s&&l[s].children,i[o]=n;c;){if(l=l[s].children,o++,c=!1,s=void 0,void 0!==e[o]&&o<=t)for(a=0,n=e[o],s=void 0;a<l.length&&void 0===s;)l[a].key!=e[o]||l[a].invalid||(s=a),a++;else s=r(l,!0),s=s===!1?void 0:s,n=l[s].key;c=!(void 0===s||!r(l[s].children))&&l[s].children,i[o]=n}return{lvl:o+1,nVector:i}}function d(t){var a=[];return C=C>T++?C:T,t.children("li").each(function(t){var n=at(this),s=n.clone();s.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(s):s.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!n.attr("data-invalid"),l={key:void 0===n.attr("data-val")||null===n.attr("data-val")?t:n.attr("data-val"),value:i,invalid:r,children:null},o=n.children("ul,ol");o.length&&(l.children=d(o)),a.push(l)}),T--,a}function h(t,a,n){var s,r=(a||0)+1,l=[],c={},u={};for(c=i(t,null,a),s=0;s<t.length;s++)e._tempWheelArray[s]=t[s]=n.nVector[s]||0;for(;r<n.lvl;)u[r]=y?c[0][r]:c[r][0],l.push(r++);o(n.lvl),M=t.slice(0),l.length&&(f=!0,e.changeWheel(u))}var m,f,p,b=at.extend({},e.settings),v=at.extend(e.settings,nt,b),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),y="liquid"==g,x=v.readonly,w=at(this),_=this.id+"_dummy",C=0,T=0,M=[],D=v.wheelArray||d(w),k=s(C),V=c(D),S=i(V,C);return at("#"+_).remove(),v.showInput&&(m=at('<input type="text" id="'+_+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w),v.anchor=m,e.attachShow(m)),v.wheelArray||w.hide(),{wheels:S,layout:g,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=u(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||V).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=i(t,C,C),f=!0},onWheelGestureStart:function(e){v.readonly=n(C,e.index)},onWheelAnimationEnd:function(t){var a=t.index,n=e.getArrayVal(!0),s=u(n,a);p=s.lvl,v.readonly=x,n[a]!=M[a]&&h(n,a,s)},onFill:function(e){p=void 0,m&&m.val(e.valueText)},validate:function(e){var a=e.values,n=e.index,s=u(a,a.length);return p=s.lvl,void 0===n&&(o(s.lvl),f||h(a,n,s)),f=!1,{disabled:t(p,D,a)}},onDestroy:function(){m&&m.remove(),w.show()}}};var st=A.$,it=A.presets.scroller;A.presetShort("image"),it.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=st(t),t.is("img")?st('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),it.list.call(this,e)},A.presets.scroller.treelist=A.presets.scroller.list,A.presetShort("list"),A.presetShort("treelist");var rt=A.$,lt=A.presets.scroller,ot=A.classes,ct=A.util,ut=ct.datetime.adjustedDate,dt=ct.jsPrefix,ht=ct.testTouch,mt=ct.getCoord,ft=ct.animEnd,pt=new Date,bt={min:new Date(pt.getFullYear()-100,0,1),max:new Date(pt.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};lt.calbase=function(e){function t(e){var t;_e=rt(this),Ce=!1,"keydown"!=e.type?(xe=mt(e,"X"),we=mt(e,"Y"),t=ht(e,this)):t=32===e.keyCode,Te||!t||_e.hasClass("mbsc-fr-btn-d")||(Te=!0,setTimeout(s,100),"mousedown"==e.type&&rt(document).on("mousemove",a).on("mouseup",n))}function a(e){(Math.abs(xe-mt(e,"X"))>7||Math.abs(we-mt(e,"Y"))>7)&&(Te=!1,_e.removeClass("mbsc-fr-btn-a"))}function n(e){"touchend"==e.type&&e.preventDefault(),_e&&!Ce&&s(),Te=!1,"mouseup"==e.type&&rt(document).off("mousemove",a).off("mouseup",n)}function s(){Ce=!0,_e.hasClass("mbsc-cal-prev-m")?C():_e.hasClass("mbsc-cal-next-m")?_():_e.hasClass("mbsc-cal-prev-y")?M(_e):_e.hasClass("mbsc-cal-next-y")&&T(_e)}function i(e){return!(e<ut(oe.getFullYear(),oe.getMonth(),oe.getDate()))&&(!(e>ce)&&(void 0===be[e]||void 0!==pe[e]))}function r(e,t,a){var n,s,i,r,l={},o=et+ke;return e&&rt.each(e,function(e,c){if(n=c.d||c.start||c,s=n+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=ut(r.getFullYear(),r.getMonth(),r.getDate()),l[i]=l[i]||[],l[i].push(c),r.setDate(r.getDate()+1);else if(n.getTime)i=ut(n.getFullYear(),n.getMonth(),n.getDate()),l[i]=l[i]||[],l[i].push(c);else if(s.match(/w/i)){var u=+s.replace("w",""),d=0,h=qe.getDate(t,a-et-Ve,1).getDay();for(qe.firstDay-h+1>1&&(d=7),I=0;I<5*De;I++)i=qe.getDate(t,a-et-Ve,7*I-d-h+1+u),l[i]=l[i]||[],l[i].push(c)}else if(s=s.split("/"),s[1])a+o>=11&&(i=qe.getDate(t+1,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c)),a-o<=1&&(i=qe.getDate(t-1,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c)),i=qe.getDate(t,s[0]-1,s[1]),l[i]=l[i]||[],l[i].push(c);else for(I=0;I<De;I++)i=qe.getDate(t,a-et-Ve+I,s[0]),qe.getDay(i)==s[0]&&(l[i]=l[i]||[],l[i].push(c))}),l}function l(t,a){be=r(qe.invalid,t,a),pe=r(qe.valid,t,a),e.onGenMonth(t,a)}function o(e,t,a,n,s,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(qe.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(Y=1;Y<=t;Y++)l+=Y<=12||Y>a?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[Y-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(n+Y-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[Y-13]:n+Y-13+s)+"</div></div></div>",Y<t&&(Y%12===0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(Je?"top":Ke?"right":"left")+":"+100*Math.round(Y/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':Y%3===0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function c(t,a){var n,s,r,l,o,c,u,d,h,m,f,p,b,v,g,y,x=1,w=0,_=qe.getDate(t,a,1),C=qe.getYear(_),T=qe.getMonth(_),M=null!==qe.defaultValue||e._hasValue?e.getDate(!0):null,D=qe.getDate(C,T,1).getDay(),k='<div class="mbsc-cal-table">',V='<div class="mbsc-cal-week-nr-c">';for(qe.firstDay-D+1>1&&(w=7),y=0;y<42;y++)g=y+qe.firstDay-w,n=qe.getDate(C,T,g-D+1),r=n.getFullYear(),l=n.getMonth(),o=n.getDate(),c=qe.getMonth(n),u=qe.getDay(n),v=qe.getMaxDayOfMonth(r,l),d=r+"-"+l+"-"+o,h=rt.extend({valid:i(n),selected:M&&M.getFullYear()===r&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(n,M)),m=h.valid,f=h.selected,s=h.cssClass,p=new Date(n).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,We[d]=h,y%7===0&&(k+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(qe.highlight&&M&&M-n>=0&&M-n<6048e5?" mbsc-cal-week-hl":"")+'">'),Ue&&1==n.getDay()&&("month"==Ue&&b&&x>1?x=1==o?1:2:"year"==Ue&&(x=qe.getWeekNumber(n)),V+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),k+='<div role="button" tabindex="-1" aria-label="'+(p?qe.todayText+", ":"")+qe.dayNames[n.getDay()]+", "+qe.monthNames[c]+" "+u+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(b&&!Ae?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(m?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+d+'"class="mbsc-cal-day '+(qe.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+qe.todayClass:"")+(s?" "+s:"")+(1==u?" mbsc-cal-day-first":"")+(u==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(m?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?pt:"")+" "+(qe.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+u+"</div>"+(h.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return k+="</div></div>"+V+"</div>"}function u(e,t,a){var n=qe.getDate(e,t,1),s=qe.getYear(n),i=qe.getMonth(n),r=s+it;if(Qe){if(Ie&&Ie.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(pt),Fe&&Fe.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(pt),Ie=rt('.mbsc-cal-year-s[data-val="'+s+'"]',L).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Fe=rt('.mbsc-cal-month-s[data-val="'+i+'"]',L).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Ie.find(".mbsc-cal-sc-cell-i").addClass(pt),Fe.find(".mbsc-cal-sc-cell-i").addClass(pt),Ye&&Ye.scroll(Ie,a),rt(".mbsc-cal-month-s",L).removeClass("mbsc-fr-btn-d"),s===ae)for(Y=0;Y<se;Y++)rt('.mbsc-cal-month-s[data-val="'+Y+'"]',L).addClass("mbsc-fr-btn-d");if(s===ne)for(Y=ie+1;Y<=12;Y++)rt('.mbsc-cal-month-s[data-val="'+Y+'"]',L).addClass("mbsc-fr-btn-d")}for(1==ee.length&&ee.attr("aria-label",s).html(r),Y=0;Y<Me;++Y)n=qe.getDate(e,t-Ve+Y,1),s=qe.getYear(n),i=qe.getMonth(n),r=s+it,rt(J[Y]).attr("aria-label",qe.monthNames[i]+(tt?"":" "+s)).html((!tt&&te<Q?r+" ":"")+K[i]+(!tt&&te>Q?" "+r:"")),ee.length>1&&rt(ee[Y]).html(r);qe.getDate(e,t-Ve-1,1)<re?h(rt(".mbsc-cal-prev-m",L)):d(rt(".mbsc-cal-prev-m",L)),qe.getDate(e,t+Me-Ve,1)>le?h(rt(".mbsc-cal-next-m",L)):d(rt(".mbsc-cal-next-m",L)),qe.getDate(e,t,1).getFullYear()<=re.getFullYear()?h(rt(".mbsc-cal-prev-y",L)):d(rt(".mbsc-cal-prev-y",L)),qe.getDate(e,t,1).getFullYear()>=le.getFullYear()?h(rt(".mbsc-cal-next-y",L)):d(rt(".mbsc-cal-next-y",L))}function d(e){e.removeClass(yt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function h(e){e.addClass(yt).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function m(t){e.trigger("onDayHighlight",{date:t}),qe.highlight&&(rt(".mbsc-cal-day-sel .mbsc-cal-day-i",E).removeClass(pt),rt(".mbsc-cal-day-sel",E).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),rt(".mbsc-cal-week-hl",E).removeClass("mbsc-cal-week-hl"),(null!==qe.defaultValue||e._hasValue)&&rt('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',E).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(pt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function f(t,a){if(q&&("calendar"===ge||a)){var n,s,i=qe.getDate(de,he,1),r=Math.abs(12*(qe.getYear(t)-qe.getYear(i))+qe.getMonth(t)-qe.getMonth(i));e.needsSlide&&r&&(de=qe.getYear(t),he=qe.getMonth(t),t>i?(s=r>et-Ve+Me-1,he-=s?0:r-et,n="next"):t<i&&(s=r>et+Ve,he+=s?0:r-et,n="prev"),g(de,he,n,Math.min(r,et),s,!0)),a||(ue=t,m(t)),e.needsSlide=!0}}function p(t,a,n){for(n||e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),Y=0;Y<De;Y++)He[Y].html(c(t,a-Ve-et+Y));v(),Se=void 0,e.trigger("onMonthLoaded",{year:t,month:a})}function b(e,t){for(var a=et,n=et;n&&qe.getDate(e,t+n+Me-Ve-1,1)>le;)n--;for(;a&&qe.getDate(e,t-a-Ve,1)<re;)a--;rt.extend(G.settings,{contSize:Me*W,snap:W,minScroll:$-(Ke?a:n)*W,maxScroll:$+(Ke?n:a)*W}),G.refresh()}function v(){Ue&&X.html(rt(".mbsc-cal-week-nr-c",He[et]).html()),rt(".mbsc-cal-slide-a .mbsc-cal-day",P).attr("tabindex",0)}function g(t,a,n,s,i,r,o){if(t&&Ee.push({y:t,m:a,dir:n,slideNr:s,load:i,active:r,callback:o}),!ye){var d,h=Ee.shift();if(t=h.y,a=h.m,n="next"===h.dir,s=h.slideNr,i=h.load,r=h.active,o=h.callback||$e,d=qe.getDate(t,a,1),t=qe.getYear(d),a=qe.getMonth(d),ye=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),i)for(Y=0;Y<Me;Y++)He[n?De-Me+Y:Y].html(c(t,a-Ve+Y));r&&Le.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(qe.monthNames[a]+" "+t),u(t,a,200),$=n?$-W*s*Ge:$+W*s*Ge,G.scroll($,r?200:0,!1,function(){var r;if(He.length){if(Le.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),n)for(r=He.splice(0,s),Y=0;Y<s;Y++)He.push(r[Y]),x(He[He.length-1],+He[He.length-2].attr("data-curr")+100*Ge);else for(r=He.splice(De-s,s),Y=s-1;Y>=0;Y--)He.unshift(r[Y]),x(He[0],+He[1].attr("data-curr")-100*Ge);for(Y=0;Y<s;Y++)He[n?De-s+Y:Y].html(c(t,a-Ve-et+Y+(n?De-s:0))),i&&He[n?Y:De-s+Y].html(c(t,a-Ve-et+Y+(n?0:De-s)));for(Y=0;Y<Me;Y++)He[et+Y].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");b(t,a),ye=!1}Ee.length?setTimeout(function(){g()},10):(de=t,he=a,e.changing=!1,rt(".mbsc-cal-day",P).attr("tabindex",-1),v(),void 0!==Se?p(t,a,Se):e.trigger("onMonthLoaded",{year:t,month:a}),o())})},10)}}function y(){var t=rt(this),a=e.live,n=e.getDate(!0),s=t.attr("data-full"),i=s.split("-"),r=ut(i[0],i[1],i[2]),l=ut(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),o=t.hasClass("mbsc-cal-day-sel");!Ae&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",rt.extend(We[s],{date:l,target:this,selected:o}))!==!1&&(e.needsSlide=!1,j=!0,e.setDate(l,a,.2,!a,!0),qe.outerMonthChange&&(Te=!0,r<qe.getDate(de,he-Ve,1)?C():r>qe.getDate(de,he-Ve+Me,0)&&_(),Te=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function x(e,t){e.attr("data-curr",t),e[0].style[dt+"Transform"]="translate3d("+(Je?"0,"+t+"%,":t+"%,0,")+"0)"}function w(t){e.isVisible()&&q&&(e.changing?Se=t:p(de,he,t))}function _(){Te&&qe.getDate(de,he+Me-Ve,1)<=le&&g(de,++he,"next",1,!1,!0,_)}function C(){Te&&qe.getDate(de,he-Ve-1,1)>=re&&g(de,--he,"prev",1,!1,!0,C)}function T(e){Te&&qe.getDate(de,he,1)<=qe.getDate(qe.getYear(le)-1,qe.getMonth(le)-ke,1)?g(++de,he,"next",et,!0,!0,function(){T(e)}):Te&&!e.hasClass("mbsc-fr-btn-d")&&g(qe.getYear(le),qe.getMonth(le)-ke,"next",et,!0,!0)}function M(e){Te&&qe.getDate(de,he,1)>=qe.getDate(qe.getYear(re)+1,qe.getMonth(re)+Ve,1)?g(--de,he,"prev",et,!0,!0,function(){M(e)}):Te&&!e.hasClass("mbsc-fr-btn-d")&&g(qe.getYear(re),qe.getMonth(re)+Ve,"prev",et,!0,!0)}function D(t,a){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(a?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function k(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function V(e,t){(t||e).hasClass("mbsc-cal-v")?k(e):D(e)}function S(){rt(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function A(e){return e[0].innerWidth||e.innerWidth()}var N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X,B,z,K,G,Z,J,Q,ee,te,ae,ne,se,ie,re,le,oe,ce,ue,de,he,me,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,Me,De,ke,Ve,Se,Ae,Ne,Ye,Ie,Fe,Oe=this,Le=[],He=[],Ee=[],Pe={},We={},$e=function(){},je=rt.extend({},e.settings),qe=rt.extend(e.settings,bt,je),Re="full"==qe.weekDays?"":"min"==qe.weekDays?"Min":"Short",Ue=qe.weekCounter,Xe=qe.layout||(/top|bottom|inline/.test(qe.display)?"liquid":""),Be="liquid"==Xe&&"bubble"!==qe.display,ze="center"==qe.display,Ke=qe.rtl,Ge=Ke?-1:1,Ze=Be?null:qe.calendarWidth,Je="vertical"==qe.calendarScroll,Qe=qe.quickNav,et=qe.preMonths,tt=qe.yearChange,at=qe.controls.join(","),nt=(qe.tabs===!0||qe.tabs!==!1&&Be)&&qe.controls.length>1,st=!nt&&void 0===qe.tabs&&!Be&&qe.controls.length>1,it=qe.yearSuffix||"",pt=qe.activeClass||"",vt="mbsc-cal-tab-sel "+(qe.activeTabClass||""),gt=qe.activeTabInnerClass||"",yt="mbsc-fr-btn-d "+(qe.disabledClass||""),xt="",wt="";return at.match(/calendar/)?q=!0:Qe=!1,at.match(/date/)&&(Pe.date=1),at.match(/time/)&&(Pe.time=1),q&&Pe.date&&(nt=!0,st=!1),qe.layout=Xe,qe.preset=(Pe.date||q?"date":"")+(Pe.time?"time":""),"inline"==qe.display&&rt(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=$e,e.onGenMonth=$e,e.prepareObj=r,e.refresh=function(){w(!1)},e.redraw=function(){w(!0)},e.navigate=function(t,a){var n,s,i=e.isVisible();a&&i?f(t,!0):(n=qe.getYear(t),s=qe.getMonth(t),!i||n==de&&s==he||(e.trigger("onMonthChange",{year:n,month:s}),u(n,s),p(n,s),b(t.getFullYear(),t.getMonth())),de=n,he=s)},e.showMonthView=function(){Qe&&!z&&(k(wt,!0),k(xt,!0),D(B,!0),z=!0)},e.changeTab=function(t){e._isVisible&&Pe[t]&&ge!=t&&(ge=t,rt(".mbsc-cal-pnl",L).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),rt(".mbsc-cal-tab",L).removeClass(vt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(gt),rt('.mbsc-cal-tab[data-control="'+t+'"]',L).addClass(vt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(gt),Pe[ge].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==ge&&(N=e.getDate(!0),N.getFullYear()===ue.getFullYear()&&N.getMonth()===ue.getMonth()&&N.getDate()===ue.getDate()||f(N)),e.showMonthView(),e.trigger("onTabChange",{tab:ge}))},F=lt.datetime.call(this,e),Q=(qe.dateWheels||qe.dateFormat).search(/m/i),te=(qe.dateWheels||qe.dateFormat).search(/y/i),rt.extend(F,{ariaMessage:qe.calendarText,onMarkupReady:function(s){var i,r,l="";if(L=rt(s.target),H="inline"==qe.display?rt(this).is("div")?rt(this):rt(this).parent():e._window,ue=e.getDate(!0),de||(de=qe.getYear(ue),he=qe.getMonth(ue)),$=0,U=!0,ye=!1,K=qe.monthNames,ge="calendar",qe.min&&(re=ut(qe.min.getFullYear(),qe.min.getMonth(),1),oe=qe.min),qe.max&&(le=ut(qe.max.getFullYear(),qe.max.getMonth(),1),ce=qe.max),L.addClass("mbsc-calendar"),O=rt(".mbsc-fr-popup",L),ve=rt(".mbsc-fr-c",L),Pe.date?Pe.date=rt(".mbsc-sc-whl-gr-c",L).eq(0):q&&rt(".mbsc-sc-whl-gr-c",L).eq(0).addClass("mbsc-cal-hdn"),Pe.time&&(Pe.time=rt(".mbsc-sc-whl-gr-c",L).eq(1)),q){for(Me="auto"==qe.months?Math.max(1,Math.min(3,Math.floor((Ze||A(H))/280))):qe.months,De=Me+2*et,ke=Math.floor(Me/2),Ve=Math.round(Me/2)-1,Ae=void 0===qe.showOuterDays?Me<2:qe.showOuterDays,Je=Je&&Me<2,r='<div class="mbsc-cal-btnw"><div class="'+(Ke?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(qe.btnCalPrevClass||"")+'" aria-label="'+qe.prevMonthText+'"></div></div>',Y=0;Y<Me;++Y)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/Me+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(Ke?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(qe.btnCalNextClass||"")+'" aria-label="'+qe.nextMonthText+'"></div></div></div>',tt&&(l='<div class="mbsc-cal-btnw"><div class="'+(Ke?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(qe.btnCalPrevClass||"")+'" aria-label="'+qe.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(Ke?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(qe.btnCalNextClass||"")+'" aria-label="'+qe.nextYearText+'"></div></div></div>'),Qe&&(ae=qe.getYear(re),ne=qe.getYear(le),se=qe.getMonth(re),ie=qe.getMonth(le),fe=Math.ceil((ne-ae+1)/12)+2,xt=o("month",36,24,0,"",qe.monthNames,qe.monthNamesShort),wt=o("year",12*fe,ne-ae+13,ae,it)),R='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(Me>1?" mbsc-cal-multi ":"")+(Ue?" mbsc-cal-weeks ":"")+(Je?" mbsc-cal-vertical":"")+(Ae?"":" mbsc-cal-hide-diff ")+(qe.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(tt?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(te<Q||Me>1?l+r:r+l)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',
I=0;I<Me;++I){for(R+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/Me+'%"><table cellpadding="0" cellspacing="0"><tr>',Y=0;Y<7;Y++)R+="<th>"+qe["dayNames"+Re][(Y+qe.firstDay)%7]+"</th>";R+="</tr></table></div>"}for(R+='</div><div class="mbsc-cal-week-nrs-c '+(qe.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(qe.calendarClass||"")+'"><div class="mbsc-cal-anim">',Y=0;Y<Me+2*et;Y++)R+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';R+="</div></div></div>"+xt+wt+"</div></div></div>",Pe.calendar=rt(R)}if(rt.each(qe.controls,function(e,t){Pe[t]=rt('<div class="mbsc-cal-pnl" id="'+(Oe.id+"_dw_pnl_"+e)+'"></div>').append(rt('<div class="mbsc-cal-pnl-i"></div>').append(Pe[t])).appendTo(ve)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',rt.each(qe.controls,function(e,t){Pe[t]&&(i+='<li role="tab" aria-controls="'+(Oe.id+"_dw_pnl_"+e)+'" class="mbsc-cal-tab '+(e?"":vt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":gt)+'">'+qe[t+"Text"]+"</a></li>")}),i+="</ul></div>",ve.before(i),E=rt(".mbsc-cal-anim-c",L),P=rt(".mbsc-cal-anim",E),X=rt(".mbsc-cal-week-nrs",L),q){for(z=!0,Le=rt(".mbsc-cal-slide",P).each(function(e,t){He.push(rt(t))}),Le.slice(et,et+Me).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),Y=0;Y<De;Y++)x(He[Y],100*(Y-et)*Ge);p(de,he),G=new ot.ScrollView(E[0],{axis:Je?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:et,moveElement:P,mousewheel:qe.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round(((Je?e.posY:e.posX)-$)/W)*Ge;t&&g(de,he-t,t>0?"prev":"next",t>0?t:-t)}})}J=rt(".mbsc-cal-month",L),ee=rt(".mbsc-cal-year",L),B=rt(".mbsc-cal-m-c",L),Qe&&(B.on(ft,S),xt=rt(".mbsc-cal-month-c",L).on(ft,S),wt=rt(".mbsc-cal-year-c",L).on(ft,S),Ne=rt(".mbsc-cal-sc-p",L),me={axis:Je?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:qe.rtl,mousewheel:qe.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Ye=new ot.ScrollView(wt[0],me),Z=new ot.ScrollView(xt[0],me)),Be?L.addClass("mbsc-cal-liq"):rt(".mbsc-cal",L).width(Ze||280*Me),qe.calendarHeight&&rt(".mbsc-cal-anim-c",L).height(qe.calendarHeight),e.tap(E,function(e){var t=rt(e.target);ye||G.scrolled||qe.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&y.call(t[0]))}),rt(".mbsc-cal-btn",L).on("touchstart mousedown keydown",t).on("touchmove",a).on("touchend touchcancel keyup",n),rt(".mbsc-cal-tab",L).on("touchstart click",function(t){ht(t,this)&&e.changeTab(rt(this).attr("data-control"))}),Qe&&(e.tap(rt(".mbsc-cal-month",L),function(){wt.hasClass("mbsc-cal-v")||(V(B),z=B.hasClass("mbsc-cal-v")),V(xt),k(wt)}),e.tap(rt(".mbsc-cal-year",L),function(){wt.hasClass("mbsc-cal-v")||Ye.scroll(Ie),xt.hasClass("mbsc-cal-v")||(V(B),z=B.hasClass("mbsc-cal-v")),V(wt),k(xt)}),e.tap(rt(".mbsc-cal-month-s",L),function(){Z.scrolled||rt(this).hasClass("mbsc-fr-btn-d")||e.navigate(qe.getDate(de,rt(this).attr("data-val"),1))}),e.tap(rt(".mbsc-cal-year-s",L),function(){Ye.scrolled||(N=qe.getDate(rt(this).attr("data-val"),he,1),e.navigate(new Date(ct.constrain(N,re,le))))}),e.tap(wt,function(){Ye.scrolled||(k(wt),D(B),z=!0)}),e.tap(xt,function(){Z.scrolled||(k(xt),D(B),z=!0)}))},onShow:function(){q&&u(de,he)},onPosition:function(t){var a,n,s,i,r,l,o=0,c=0,u=0,d=t.windowHeight;if(Be&&(ze&&E.height(""),ve.height(""),P.width("")),W&&(r=W),q&&(W=Math.round(Math.round(E[0][Je?"offsetHeight":"offsetWidth"])/Me)),W&&(L.removeClass("mbsc-cal-m mbsc-cal-l"),W>1024?L.addClass("mbsc-cal-l"):W>640&&L.addClass("mbsc-cal-m")),(nt&&(U||Be)||st)&&(rt(".mbsc-cal-pnl",L).removeClass("mbsc-cal-pnl-h"),rt.each(Pe,function(e,t){a=t[0].offsetWidth,o=Math.max(o,a),c=Math.max(c,t[0].offsetHeight),u+=a}),nt||st&&u>A(H)?(n=!0,ge=rt(".mbsc-cal-tabs .mbsc-cal-tab-sel",L).attr("data-control"),O.addClass("mbsc-cal-tabbed")):(ge="calendar",o="",c="",O.removeClass("mbsc-cal-tabbed"),ve.css({width:"",height:""}))),Be&&ze&&q&&(e._isFullScreen=!0,n&&ve.height(Pe.calendar[0].offsetHeight),i=O[0].offsetHeight,d>=i&&E.height(d-i+E[0].offsetHeight),c=Math.max(c,Pe.calendar[0].offsetHeight)),n&&(ve.css({width:Be?"":o,height:c}),q&&(W=Math.round(Math.round(E[0][Je?"offsetHeight":"offsetWidth"])/Me))),W){if(P[Je?"height":"width"](W),W!==r){if(tt)for(K=qe.maxMonthWidth>rt(".mbsc-cal-btnw-m",L).width()?qe.monthNamesShort:qe.monthNames,Y=0;Y<Me;++Y)rt(J[Y]).text(K[qe.getMonth(qe.getDate(de,he-Ve+Y,1))]);Qe&&(l=wt[0][Je?"offsetHeight":"offsetWidth"],rt.extend(Ye.settings,{contSize:l,snap:l,minScroll:(2-fe)*l,maxScroll:-l}),rt.extend(Z.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),Ye.refresh(),Z.refresh(),wt.hasClass("mbsc-cal-v")&&Ye.scroll(Ie)),Be&&!U&&r&&(s=$/r,$=s*W),b(de,he)}}else W=r;n&&(rt(".mbsc-cal-pnl",L).addClass("mbsc-cal-pnl-h"),Pe[ge].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),U=!1},onHide:function(){Ee=[],He=[],ge=null,de=null,he=null,ye=!0,W=0,G&&G.destroy(),Qe&&Ye&&Z&&(Ye.destroy(),Z.destroy())},onValidated:function(t){var a,n,s;if(n=e.getDate(!0),j)a="calendar";else for(s in e.order)s&&e.order[s]===t&&(a=/[mdy]/.test(s)?"date":"time");e.trigger("onSetDate",{date:n,control:a}),f(n),j=!1}}),F};var vt=A.$,gt=vt.extend,yt=A.util,xt=yt.datetime,wt=xt.adjustedDate,_t=A.presets.scroller,Ct={};A.presetShort("calendar"),_t.calendar=function(e){function t(e){if(e){if(h[e])return h[e];var t=vt('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,n=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),s=.299*n[0]+.587*n[1]+.114*n[2],i=s>130?"#000":"#fff";return t.remove(),h[e]=i,i}}function a(e){return wt(e.getFullYear(),e.getMonth(),e.getDate())}function n(e){if(y={},e&&e.length)for(o=0;o<e.length;o++)y[a(e[o])]=e[o]}function s(){e.refresh()}var i,r,l,o,c,u,d,h={},m=gt({},e.settings),f=gt(e.settings,Ct,m),p=f.activeClass||"",b="multiple"==f.select||f.select>1||"week"==f.selectType,v=yt.isNumeric(f.select)?f.select:1/0,g=!!f.events,y={};if(d=_t.calbase.call(this,e),i=gt({},d),l=void 0===f.firstSelectDay?f.firstDay:f.firstSelectDay,b&&f.defaultValue&&f.defaultValue.length)for(o=0;o<f.defaultValue.length;o++)y[a(f.defaultValue[o])]=f.defaultValue[o];return e.onGenMonth=function(t,a){c=e.prepareObj(f.events||f.marked,t,a)},e.getDayProps=function(e){var a,n=b?void 0!==y[e]:void 0,s=!!c[e]&&c[e],i=s&&s[0]&&s[0].text,r=s&&s[0]&&s[0].color,l=g&&i?t(r):"",o="",u="";if(s){for(a=0;a<s.length;a++)s[a].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+s[a].icon+'"'+(s[a].text?"":s[a].color?' style="color:'+s[a].color+';"':"")+"></span>\n");for(u='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<s.length;a++)u+='<div class="mbsc-cal-day-m-c"'+(s[a].color?' style="background:'+s[a].color+';"':"")+"></div>";u+="</div></div>"}return{marked:s,selected:n,cssClass:s?"mbsc-cal-day-marked":"",ariaLabel:g?i:"",markup:g&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+vt("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+i+"</div></div>":g&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":s?u:""}},e.addValue=function(e){y[a(e)]=e,s()},e.removeValue=function(e){delete y[a(e)],s()},e.setVal=function(t,a,i,r,l){b&&(n(t),t=t?t[0]:null),e._setVal(t,a,i,r,l),s()},e.getVal=function(t){return b?yt.objectToArray(y):e.getDate(t)},gt(d,{highlight:!b,outerMonthChange:!b,parseValue:function(t){var n,s;if(b&&t&&"string"==typeof t){for(y={},t=t.split(","),n=0;n<t.length;n++)s=xt.parseDate(e.format,t[n].replace(/^\s+|\s+$/g,""),f),y[a(s)]=s;t=t[0]}return b&&f.defaultValue&&f.defaultValue.length&&(f.defaultValue=f.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var a,n=[];if(b){for(a in y)n.push(xt.formatDate(e.format,y[a],f));return n.join(", ")}return i.formatValue.call(this,t)},onClear:function(){b&&(y={},e.refresh())},onBeforeShow:function(){void 0!==f.setOnDayTap||f.buttons&&f.buttons.length||(f.setOnDayTap=!0),f.setOnDayTap&&"inline"!=f.display&&(f.outerMonthChange=!1),f.counter&&b&&(f.headerText=function(){var e=0,t="week"==f.selectType?7:1;return vt.each(y,function(){e++}),e=Math.round(e/t),(e>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=vt(e.target),b&&(vt(".mbsc-fr-hdr",r).attr("aria-live","off"),u=gt({},y)),g&&vt(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var n=t.date,i=a(n),o=vt(t.target),c=t.selected;if(b)if("week"==f.selectType){var u,d,h=i.getDay()-l;for(h=h<0?7+h:h,"multiple"!=f.select&&(y={}),u=0;u<7;u++)d=wt(i.getFullYear(),i.getMonth(),i.getDate()-h+u),c?delete y[d]:yt.objectToArray(y).length/7<v&&(y[d]=d);s()}else{var m=vt('.mbsc-cal .mbsc-cal-day[data-full="'+o.attr("data-full")+'"]',r);c?(m.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p),delete y[i]):yt.objectToArray(y).length<v&&(m.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(p),y[i]=i)}if(f.setOnDayTap&&"multiple"!=f.select&&"inline"!=f.display)return e.needsSlide=!1,e.setDate(n),e.select(),!1},onCancel:function(){!e.live&&b&&(y=gt({},u))}}),d};var Tt=A.$,Mt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};A.presetShort("timer"),A.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function a(e){var a={};if(O&&T[Y].index>T.days.index){var n,s,i,r,l=new Date,o=b?l:F,c=b?F:l;for(c=t(c),o=t(o),a.years=o.getFullYear()-c.getFullYear(),a.months=o.getMonth()-c.getMonth(),a.days=o.getDate()-c.getDate(),a.hours=o.getHours()-c.getHours(),a.minutes=o.getMinutes()-c.getMinutes(),a.seconds=o.getSeconds()-c.getSeconds(),a.fract=(o.getMilliseconds()-c.getMilliseconds())/10,n=C.length;n>0;n--)s=C[n-1],i=T[s],r=C[Tt.inArray(s,C)-1],T[r]&&a[s]<0&&(a[r]--,a[s]+="months"==r?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==Y&&(a.months+=12*a.years,delete a.years)}else Tt(C).each(function(t,n){T[n].index<=T[Y].index&&(a[n]=Math.floor(e/T[n].limit),e-=a[n]*T[n].limit)});return a}function n(e){var t=1,a=T[e],n=a.wheel,i=a.prefix,r=0,l=a.until,c=T[C[Tt.inArray(e,C)-1]];if(a.index<=T[Y].index&&(!c||c.limit>N))if(M[e]||L[0].push(n),M[e]=1,n.data=[],n.label=a.label||"",n.cssClass="mbsc-timer-whl-"+e,N>=a.limit&&(t=Math.max(Math.round(N/a.limit),1),u=t*a.limit),e==Y)n.min=0,n.data=function(e){return{value:e,display:s(e,i,a.label)}},n.getIndex=function(e){return e};else for(o=r;o<=l;o+=t)n.data.push({value:o,display:s(o,i,a.label)})}function s(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function i(e){var t,n=[],s=a(e);return Tt(C).each(function(e,a){M[a]&&(t=Math.max(Math.round(N/T[a].limit),1),n.push(Math.round(s[a]/t)*t))}),n}function r(e){O?(f=F-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==F?(A=!1,f=1e3*F,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function l(){V?(Tt(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),Tt(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&Tt(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Tt(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Tt(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&Tt(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Tt(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(Tt(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),Tt(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&Tt(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Tt(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Tt(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&Tt(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Tt(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,u,d,h,m,f,p,b,v,g,y=Tt.extend({},e.settings),x=Tt.extend(e.settings,Mt,y),w=x.useShortLabels?x.labelsShort:x.labels,_=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,until:10,limit:31536e6,label:w[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:w[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:w[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:w[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:w[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:w[5],wheel:{}},fract:{index:0,until:99,limit:10,label:w[6],prefix:".",wheel:{}}},M={},D=[],k=0,V=!1,S=!0,A=!1,N=Math.max(10,1e3*x.step),Y=x.maxWheel,I="stopwatch"==x.mode||O,F=x.targetTime,O=F&&void 0!==F.getTime,L=[[]];return e.start=function(){if(S&&e.reset(),!V){if(r(),!A&&p>=f)return;V=!0,S=!1,h=new Date,d=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-h+d,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,u-10)),!A&&p+u>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),S=!0},f-p))},u),l(),e.trigger("onStart")}},e.stop=function(){V&&(V=!1,clearInterval(c),p=new Date-h+d,l(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){V?e.stop():e.start()},e.reset=function(){e.stop(),p=0,D=[],k=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=I,S=!0,I||Tt(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){V&&(m=new Date-h+d,g=m-k,k=m,D.push(m),e.trigger("onLap",{ellapsed:m,lap:g,laps:D}))},e.resetlap=function(){V&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){F=e/1e3,f=e},e.getEllapsedTime=function(){return V?new Date-h+d:0},e.setEllapsedTime=function(t,a){S||(d=p=t,h=new Date,e.setVal(i(b?p:f-p),!0,a,!1,100))},r(!0),Y||f||(Y="minutes"),"inline"!==x.display&&_.push("hide"),Y||Tt(C).each(function(e,t){if(!Y&&f>=T[t].limit)return Y=t,!1}),Tt(C).each(function(e,t){n(t)}),u=Math.max(87,u),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:L,headerText:!1,readonly:I,buttons:_,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",a=0;return Tt(C).each(function(n,s){"fract"!=s&&M[s]&&(t+=e[a]+("seconds"==s&&M.fract?"."+e[a+1]:"")+" "+w[n]+" ",a++)}),t},validate:function(e){var t=e.values,a=e.index,n=0;S&&void 0!==a&&(F=0,Tt(C).each(function(e,a){M[a]&&(F+=T[a].limit*t[n],n++)}),F/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=Tt(e.target),l(),I&&Tt(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){Tt(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",Tt(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var Dt=function(){},kt=A.$,Vt=function(e,t,a){var n,s,i,r,l=this;A.classes.Base.call(this,e,t,!0),l.__init=Dt,l.__destroy=Dt,l._init=function(t){var a;r=l.settings,n=kt(e),a=!!s,s=l._$parent=a?s:n.parent(),i&&s.removeClass(i),i=l._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),s.addClass(i),n.addClass("mbsc-control"),l.__init(t),a||l._attachChange(),l.refresh()},l._destroy=function(){l.__destroy(),s.removeClass(i),n.removeClass("mbsc-control")},a||l.init(t)};Vt.prototype={_class:"progressbase"};var St=A.$,At=A.$,Nt=function(e,t,a){function n(){var e=s("value",h);e!==b&&i(e)}function s(e,t){var a=l.attr(e);return void 0===a||""===a?t:+a}function i(e,t,a,n){e=Math.min(m,Math.max(e,h)),c.css("width",100*(e-h)/(m-h)+"%"),void 0===a&&(a=!0),void 0===n&&(n=a),(e!==b||t)&&x._display(e),e!==b&&(b=e,a&&l.attr("value",b),n&&l.trigger("change"))}var r,l,o,c,u,d,h,m,f,p,b,y,x=this;Vt.call(this,e,t,!0),x._display=function(e){y=p&&f.returnAffix?p.replace(/\{value\}/,e).replace(/\{max\}/,m):e,u&&u.html(y),r&&r.html(y)},x._attachChange=function(){l.on("change",n)},x.__init=function(t){var a,n,i,y;if(f=x.settings,l=At(e),y=!!o,o=x._$parent,h=x._min=void 0===t.min?s("min",f.min):t.min,m=x._max=void 0===t.max?s("max",f.max):t.max,b=s("value",h),a=l.attr("data-val")||f.val,i=l.attr("data-step-labels"),i=i?JSON.parse(i):f.stepLabels,p=l.attr("data-template")||(100!=m||f.template?f.template:"{value}%"),y?(a&&(r.remove(),o.removeClass("mbsc-progress-value-"+("right"==a?"right":"left"))),i&&At(".mbsc-progress-step-label",d).remove()):(g(o),v(l),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=x._$progress=o.find(".mbsc-progress-bar"),d=x._$track=o.find(".mbsc-progress-track")),l.attr("min",h).attr("max",m),a&&(r=At('<span class="mbsc-progress-value"></span>'),o.addClass("mbsc-progress-value-"+("right"==a?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(n=0;n<i.length;++n)d.append('<span class="mbsc-progress-step-label" style="'+(f.rtl?"right":"left")+": "+100*(i[n]-h)/(m-h)+'%" >'+i[n]+"</span>");u=At(l.attr("data-target")||f.target)},x.__destroy=function(){o.find(".mbsc-progress-cont").remove(),o.find(".mbsc-input-wrap").before(l).remove(),l.off("change",n)},x.refresh=function(){i(s("value",h),!0,!1)},x.getVal=function(){return b},x.setVal=function(e,t,a){i(e,!0,t,a)},a||x.init(t)};Nt.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,returnAffix:!0}},A.classes.Progress=Nt,A.presetShort("progress","Progress");var Yt=function(){},It=A.$,Ft=A.util,Ot=Ft.getCoord,Lt=Ft.testTouch,Ht=function(e,t,a){function n(t){!Lt(t,this)||C||e.disabled||(E.stopProp&&t.stopPropagation(),C=!0,O=!1,T=!1,W=Ot(t,"X"),$=Ot(t,"Y"),V=W,_.removeClass("mbsc-progress-anim"),v=L?It(".mbsc-slider-handle",this):y,g&&g.removeClass("mbsc-handle-curr"),g=v.parent().addClass("mbsc-active mbsc-handle-curr"),A=+v.attr("data-index"),R=_[0].offsetWidth,k=_[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),It(document).on("mousemove",s).on("mouseup",i)))}function s(e){C&&(V=Ot(e,"X"),S=Ot(e,"Y"),M=V-W,D=S-$,(Math.abs(M)>5||O)&&(O=!0,Math.abs(B-new Date)>50&&(B=new Date,m(V,E.round,Y))),O?e.preventDefault():Math.abs(D)>7&&h(e))}function i(e){C&&(e.preventDefault(),L||_.addClass("mbsc-progress-anim"),m(V,!0,!0),O||T||("touchend"==e.type&&Ft.preventClick(),X._onTap(U[A])),h())}function r(){C&&h()}function l(){var e=X._readValue(It(this)),t=+It(this).attr("data-index");e!==U[t]&&(U[t]=e,p(e,t))}function o(e){e.stopPropagation()}function c(e){e.preventDefault()}function u(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),q||(A=+It(this).attr("data-index"),p(U[A]+H*a,A,!0),q=setInterval(function(){p(U[A]+H*a,A,!0)},200)))}}function d(e){e.preventDefault(),clearInterval(q),q=null}function h(){C=!1,g.removeClass("mbsc-active"),It(document).off("mousemove",s).off("mouseup",i)}function m(e,t,a){var n=t?Math.min(Math.round(Math.max(100*(e-k)/R,0)/P/H)*H*100/(I-F),100):Math.max(0,Math.min(100*(e-k)/R,100));N&&(n=100-n),p(Math.round((F+n/P)*j)/j,A,a,n)}function f(e){return 100*(e-F)/(I-F)}function p(e,t,a,n,s,i){var r=y.eq(t),l=r.parent();e=Math.min(I,Math.max(e,F)),void 0===i&&(i=a),X._update?X._update(e,U,t,n,L,s,l):l.css({left:N?"auto":(n||f(e))+"%",right:N?(n||f(e))+"%":"auto"}),e>F?l.removeClass("mbsc-slider-start"):(U[t]>F||s)&&l.addClass("mbsc-slider-start"),a&&U[t]!=e&&(T=!0,U[t]=e,X._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var b,v,g,y,x,w,_,C,T,M,D,k,V,S,A,N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X=this,B=new Date;Vt.call(this,e,t,!0),X._onTap=Yt,X.___init=Yt,X.___destroy=Yt,X._attachChange=function(){b.on(E.changeEvent,l)},X.__init=function(e){var t;y&&(t=!0,y.parent().remove()),X.___init(e),w=X._$parent,_=X._$track,b=w.find("input"),E=X.settings,F=X._min,I=X._max,H=X._step,Y=X._live,j=H%1!==0?100/(100*+(H%1).toFixed(2)):1,P=100/(I-F)||100,L=b.length>1,N=E.rtl,U=[],b.each(function(e){U[e]=X._readValue(It(this)),It(this).attr("data-index",e)}),y=w.find(".mbsc-slider-handle"),x=w.find(L?".mbsc-slider-handle-cont":".mbsc-progress-cont"),y.on("keydown",u).on("keyup",d).on("blur",d),x.on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",i).on("pointercancel",r),t||(b.on("click",o),w.on("click",c))},X.__destroy=function(){w.off("click",c),b.off(E.changeEvent,l).off("click",o),y.off("keydown",u).off("keyup",d).off("blur",d),x.off("touchstart mousedown",n).off("touchmove",s).off("touchend touchcancel",i).off("pointercancel",r),X.___destroy()},X.refresh=function(){b.each(function(e){p(X._readValue(It(this)),e,!0,!1,!0,!1)})},X.getVal=function(){return L?U.slice(0):U[0]},X.setVal=X._setVal=function(e,t,a){It.isArray(e)||(e=[e]),It.each(e,function(e,t){p(t,e,!0,!1,!0,a)})},a||X.init(t)};Ht.prototype={_class:"sliderbase"};var Et=A.$,Pt=function(e,t,a){function n(e){return 100*(e-p)/(f-p)}function s(e,t){var a=i.attr(e);return void 0===a||""===a?t:"true"===a}var i,r,l,o,c,u,d,h,m,f,p,b,v,g=this;Nt.call(this,e,t,!0);var y=g.__init,x=g.__destroy;Ht.call(this,e,t,!0);var w=g.__init,_=g.__destroy;g.__init=function(e){y(e),w(e)},g.__destroy=function(){x(),_()},g._update=function(e,t,a,s,i,r,c){h?0===a?(e=Math.min(e,t[1]),l.css({width:n(t[1])-n(e)+"%",left:m?"auto":n(e)+"%",right:m?n(e)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:n(e)-n(t[0])+"%"})):i||!u?c.css({left:m?"auto":(s||n(e))+"%",right:m?(s||n(e))+"%":"auto"}):l.css("width",(s||n(e))+"%"),d&&o.eq(a).html(e),i||t[a]==e&&!r||g._display(e)},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,a){i.eq(t).val(e),a&&i.eq(t).trigger("change")},g.___init=function(e){var t,a;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&Et(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,l=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=s("data-live",v.live),d=s("data-tooltip",v.tooltip),u=s("data-highlight",v.highlight)&&i.length<3,h=u&&2==i.length,m=v.rtl,d&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(a=(f-p)/b,t=0;t<=a;++t)c.append('<span class="mbsc-slider-step" style="'+(m?"right":"left")+":"+100/a*t+'%"></span>');i.each(function(e){"range"==this.type&&Et(this).attr("min",p).attr("max",f).attr("step",b),(u?l:c).append('<span class="mbsc-slider-handle-cont'+(h&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(d?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=r.find(".mbsc-slider-tooltip")},a||g.init(t)};Pt.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},A.classes.Slider=Pt,A.presetShort("slider","Slider");var Wt=A.$,$t=A.util,jt=function(){},qt=A.classes;qt.Color=function(e,t,a){function n(e,t,a,n,s){if(!s){Z._value=Z._hasValue?Z._tempValue.slice(0):null;for(var i=0;i<_.length;++i)_[i].tempChangedColor&&Z._value&&Z._value.indexOf(_[i].tempChangedColor)!=-1&&(_[i].changedColor=_[i].tempChangedColor),delete _[i].tempChangedColor}e&&(Z._isInput&&J.val(Z._hasValue?Z._tempValue:""),T("onFill",{valueText:Z._hasValue?Z._tempValue:"",change:t}),t&&(ee=Wt.extend(!0,{},te),Z._preventChange=!0,J.trigger("change"),h(Z._value)))}function s(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+(q?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){H[0].style.background=e?$t.prefix+"linear-gradient(left, "+(g.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(g.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(te).length&&!isNaN(e))return e;for(var t in _)if(e==_[t].color||e==_[t].changedColor)return t}function l(){if(j){var e,t="";if(X.empty(),Z._value){if(q)t+=s(Z._value,$);else for(e=0;e<Z._value.length;++e)t+=s(Z._value[e],Object.keys(te).length&&te[e].colorIndex?te[e].colorIndex:r(Z._value[e]));X.append(t),Z.tap(Wt(".mbsc-color-input-item",X),function(e){if(Wt(e.target).hasClass("mbsc-color-input-item-close")){var t=Wt(this).index();e.stopPropagation(),e.preventDefault(),void 0===$&&($=Wt(e.target).parent().attr("data-color")),L&&(Q=_[$].previewInd,z.eq(Q).parent().removeClass("mbsc-color-active"),ee[t]={},te[t]={}),Z._value.splice(t,1),Z.setVal(Z._value,!0,!0)}else E&&"inline"!==g.display&&(F=!0,$=Wt(e.target).attr("data-color"),isNaN($)&&($=r($)),$&&(_[$].selected=!0,Q=_[$].previewInd,setTimeout(function(){S.scroll(B.eq($),400),L&&A.scroll(z.eq(Q),400)},200)))})}}}function o(e,t){var a,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=y({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:a=D({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:a=k({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:a=e}return c(a,t||g.format)}function c(e,t){switch(t){case"rgb":return x(e);case"hsl":return M(e);case"hsv":return V(e);default:return e}}function u(){var e;for(e=0;e<g.select;++e)if(void 0===te[e].colorIndex)return e}function d(e,t){Wt(".mbsc-color-active",t).removeClass("mbsc-color-active"),E&&(e.parent().addClass("mbsc-color-active"),L&&e&&void 0!==Q&&z.eq(Q).parent().addClass("mbsc-color-active"))}function h(e,t){var a,n,s=[],i=0,r=Wt.map(_,function(e){return e.changedColor||e.color});if(q){if(e=Wt.isArray(e)?e[0]:e,n=r.indexOf(e),n>-1&&s.push(n),e&&!s.length){var o=+Wt(".mbsc-color-input-item",X).attr("data-color");isNaN(o)||s.push(o),$=o}}else if(e)if(L&&E)for(var c in ee)void 0!==ee[c].colorIndex&&s.push(+ee[c].colorIndex);else for(a=0;a<e.length;++a)n=r.indexOf(e[a]),n>-1&&(s.push(n),r[n]="temp"+a);for(a=0;a<s.length;++a)m(!0,s[a],i++,_[s[a]].changedColor||_[s[a]].color,!0);for(a=0;a<_.length;++a)s.indexOf(a)==-1&&m(!1,a,void 0,_[a].changedColor||_[a].color,!1);if(L)for(a=i;a<g.select;++a)te[a]={},z&&z.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ee=Wt.extend(!0,{},te),t!==!1&&l()}function m(e,t,a,n,s,i){if(L&&s&&(te[a].colorIndex=e?t:void 0,te[a].color=e?n:void 0,z)){var r=z.eq(a);r.removeClass("mbsc-color-preview-item-empty").css({background:e?n:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?Z._tempValue.splice(a,0,n):Z._tempValue.splice(Z._tempValue.indexOf(n),1)),B&&(e?B.eq(t).addClass("mbsc-color-selected"):B.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),_[t].previewInd=e?a:void 0,_[t].selected=e}function f(e,t){void 0!==e&&(q||_[e].selected)?($=e,Y=_[e].changedColor||_[e].color,K=B.eq(e),E&&(d(B.eq(e),t||""),I=o(_[e].color,"hsl"),I.l=o(Y,"hsl").l,i(_[e].color),W.setVal(100-I.l,!1,!1))):E&&i()}function p(){var e,t=[];for(e=0;e<_.length;++e)_[e].selected&&t.push(_[e]);return t}function b(e,t){var a=Wt(e.target).index();$=te[a].colorIndex,K=B.eq($),Q=a,f($,t),S.scroll(K,250),T("onPreviewItemTap",{target:e.target,value:te[a].color,index:a})}function v(e,t){var a=!1,n=Wt(".mbsc-color-selected",t);return K=Wt(e.target),K.hasClass("mbsc-color-clear-item")?(Y="",void Z.clear()):void((q||R>+n.length||K.hasClass("mbsc-color-selected"))&&($=K.attr("data-index"),L&&(Q=void 0!==_[$].previewInd?_[$].previewInd:u(),a=E&&K.hasClass("mbsc-color-selected")&&!K.parent().hasClass("mbsc-color-active"),z.length>6&&A.scroll(z.eq(Q))),Y=_[$].changedColor||_[$].color,q?(n.removeClass("mbsc-color-selected"),Z._tempValue=Y,Y&&K.toggleClass("mbsc-color-selected"),d(K,t)):(d(K,t),a||m(!_[$].selected,$,Q,Y,!0,!0)),f($,t),Z.live&&(Z._fillValue(),T("onSet",{value:Z._value})),T("onItemTap",{target:e.target,value:Y,selected:_[$].selected,index:$})))}var g,w,_,C,T,S,A,N,Y,I,F,O,L,H,E,P,W,$,j,q,R,U,X,B,z,K,G,Z=this,J=Wt(e),Q=0,ee={},te={};qt.Frame.call(this,e,t,!0),Z.setVal=Z._setVal=function(e,t,a,s){Z._hasValue=null!==e&&void 0!==e,Z._tempValue=q?Wt.isArray(e)?e[0]:e:Wt.isArray(e)?e:[e],n(t,!0,void 0===a?t:a,s)},Z.getVal=Z._getVal=function(e){return Z._hasValue||e?U?p():Z[e?"_tempValue":"_value"]:null},Z._readValue=function(){var e=J.val()||"";Z._hasValue=!1,0!==e.length&&""!==e&&(Z._hasValue=!0),Z._hasValue?(Z._tempValue=q?e:"hex"==g.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),n(!0)):Z._tempValue=[],h(Z._tempValue,Z._hasValue)},Z._fillValue=function(){Z._hasValue=!0,n(!0,!0,0,!0)},Z._generateContent=function(){var e,t,a,n=N?1:0;for(P=O?Math.ceil((_.length+n)/g.rows):g.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(O?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(O?'<div class="mbsc-color-row">':""),e=0;e<_.length;++e)a=_[e].changedColor||_[e].color,N&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+n)%P===0&&(t+=O?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(_[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(O?"</div>":""),E&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),L){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var s in ee)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ee[s].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ee[s].color||"initial")+';"></div></div>';t+="</div></div>"}return t},Z._position=function(e){var t,a;O||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(_.length/g.rows))*a+1)),S&&S.refresh(),A&&A.refresh()},Z._markupInserted=function(e){O||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*g.rows),S=new qt.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:O?"X":"Y",rtl:g.rtl,elastic:60,stopProp:!1,mousewheel:g.mousewheel,onBtnTap:function(t){v(t,e)}})},Z._attachEvents=function(e){var t;B=Wt(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?v(t,e):b(t,e))}),L&&(z=Wt(".mbsc-color-preview-item",e)),E&&(e.addClass("mbsc-color-refine"),G=Wt(".mbsc-color-slider",e),W=new qt.Slider(G[0],{theme:g.theme,rtl:g.rtl
}),H=e.find(".mbsc-progress-track"),$&&Z._value&&f($,e),G.on("change",function(){void 0!==$&&(q||_[$].selected)&&(I.l=100-this.value,t=o(I.toString()).toString(),q?Z._tempValue=t:Z._tempValue[void 0!==Q?Q:Z._tempValue.length]=t,_[$].tempChangedColor=t,B.eq($).css("background",t),L&&(te[Q].color=t,z.eq(Q).removeClass("mbsc-color-preview-item-empty").css({background:t})),Z.live&&$t.throttle(Z._fillValue()))})),L&&(A=new qt.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:g.rtl,mousewheel:g.mousewheel,onBtnTap:function(t){b(t,e)}}))},Z._detachEvents=function(){S.destroy(),W&&W.destroy(),A&&A.destroy()},Z.__processSettings=function(){var t,a;if(g=Z.settings,C=g.format,T=Z.trigger,O="horizontal"==g.navigation,Z._value=[],Z._tempValue=[],q="single"==g.select,N=void 0!==g.clear?g.clear:q,a=g.data||[],!a.length)switch(g.format){case"rgb":a=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],N&&a.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":a=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],N&&a.splice(10,0,"hsl(20, 12%, 29%)");break;default:a=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],N&&a.splice(10,0,"#534741")}if(E="refine"==g.mode,L=!isNaN(g.select),R=isNaN(g.select)?q?2:a.length:g.select,U=Wt.isPlainObject(a[0]),L&&!Object.keys(ee).length)for(t=0;t<g.select;++t)ee[t]={},te[t]={};if(!_)for(_=a.slice(0),t=0;t<_.length;++t)Wt.isPlainObject(a[t])?_[t].color=a[t].color:(a[t]=a[t].toLowerCase(),_[t]={key:t,name:a[t],color:a[t]});w=g.defaultValue||_[0].color,Y=w,I=o(Y,"hsl"),j=g.enhance&&J.is("input"),j&&(J.hasClass("mbsc-color-input-hdn")?X=J.prev():(X=Wt("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(g.inputClass||"")+'" readonly ></div>'),X.insertBefore(J),J.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),g.anchor=X,Z.attachShow(X))},Z.__init=function(){g.cssClass=(g.cssClass||"")+" mbsc-color"},Z.__destroy=function(){j&&(J.removeClass("mbsc-color-input-hdn"),X.remove())},a||Z.init(t)},qt.Color.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:Wt.extend({},qt.Frame.prototype._defaults,{headerText:!1,validate:jt,parseValue:jt,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},A.themes.color=A.themes.frame,A.presetShort("color","Color",!1),$t.color={hsv2hex:k,hsv2rgb:w,rgb2hsv:_,rgb2hex:y,rgb2hsl:C,hex2rgb:x,hex2hsv:V,hex2hsl:M};var Rt=A.$,Ut=A.presets.scroller,Xt=A.util.datetime,Bt=A.util,zt=Bt.testTouch,Kt={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};A.presetShort("range"),Ut.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t){e._startDate=D=g,e._endDate=k=x,N.startInput&&(Rt(N.startInput).val(b),t&&Rt(N.startInput).trigger("change")),N.endInput&&(Rt(N.endInput).val(v),t&&Rt(N.endInput).trigger("change"))}function n(e,t){var a=!0;return e&&g&&x&&(x-g>N.maxRange-1&&(V?g=new Date(x-N.maxRange+1):x=new Date(+g+N.maxRange-1)),x-g<N.minRange-1&&(V?g=new Date(x-N.minRange+1):x=new Date(+g+N.minRange-1))),g&&x||(a=!1),t&&l(),a}function s(){return g&&x?Math.max(1,Math.round((new Date(x).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(F)}function r(){M&&u&&(Rt(".mbsc-range-btn-c",u).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",u).removeClass(F),i(Rt(".mbsc-range-btn-c",u).eq(V)))}function l(){var e,t,a,n,s,i=0,r=I||!V?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=I||V?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?Xt.formatDate(h,g,N):"",v=x?Xt.formatDate(h,x,N):"",u&&(Rt(".mbsc-range-btn-v-start",u).html(b||"&nbsp;"),Rt(".mbsc-range-btn-v-end",u).html(v||"&nbsp;"),e=g?new Date(g):null,a=x?new Date(x):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),s=V?a:e,Rt(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",u).removeClass(F),Rt(".mbsc-cal-table .mbsc-cal-day-hl",u).removeClass(L),Rt(".mbsc-cal-table .mbsc-cal-day-sel",u).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),n=a.setHours(0,0,0,0);a>=e&&i<84;)Rt('.mbsc-cal-day[data-full="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]',u).addClass("mbsc-cal-day-sel"+(s.getTime()===t?r:"")+(s.getTime()===n?l:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(F),s.setDate(s.getDate()+(V?-1:1)),i++}function o(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,u,d,h,m,f,p,b,v,g,y,x,w,_,C,T,M,D=e._startDate,k=e._endDate,V=0,S=new Date,A=Rt.extend({},e.settings),N=Rt.extend(e.settings,Kt,A),Y=N.anchor,I=N.rangeTap,F=N.activeClass||"",O="mbsc-fr-btn-d "+(N.disabledClass||""),L="mbsc-cal-day-hl",H=null===N.defaultValue?[]:N.defaultValue||[new Date(S.setHours(0,0,0,0)),new Date(S.getFullYear(),S.getMonth(),S.getDate()+6,23,59,59,999)];return I&&(N.tabs=!0),m=Ut.calbase.call(this,e),c=Rt.extend({},m),h=e.format,_="time"===N.controls.join(""),M=1!=N.controls.length||"calendar"!=N.controls[0]||N.showSelector,N.startInput&&(C=Rt(N.startInput).prop("readonly"),e.attachShow(Rt(N.startInput).prop("readonly",!0),function(){V=0,N.anchor=Y||Rt(N.startInput)})),N.endInput&&(T=Rt(N.endInput).prop("readonly"),e.attachShow(Rt(N.endInput).prop("readonly",!0),function(){V=1,N.anchor=Y||Rt(N.endInput)})),e.setVal=function(t,a,n,s,i){var r=t||[],l=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?Xt.formatDate(h,g,N):"",V||(l=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,x=r[1]||null,v=x?Xt.formatDate(h,x,N):"",V&&(l=c.parseValue(v,e))),s||(e._startDate=D=g,e._endDate=k=x),e._setVal(l,a,n,s,i)},e.getVal=function(t){return t?[g,x]:e._hasValue?[D,k]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,a=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null;return{selected:t&&a&&e>=t&&e<=x,cssClass:((I||!V)&&t&&t.getTime()===e.getTime()||(I||V)&&a&&a.getTime()===e.getTime()?L:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;V="start"==t?0:1,a="start"==t?g:x,e.isVisible()&&(r(),I||(Rt(".mbsc-cal-table .mbsc-cal-day-hl",u).removeClass(L),a&&Rt('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',u).addClass(L)),a&&(f=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,Rt.extend(m,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(N.endInput?"":v?" - "+v:"")},parseValue:function(t){var a=t?t.split(" - "):[];return N.defaultValue=H[1],k=N.endInput?Rt(N.endInput).val()?Xt.parseDate(h,Rt(N.endInput).val(),N):H[1]:a[1]?Xt.parseDate(h,a[1],N):H[1],N.defaultValue=H[0],D=N.startInput?Rt(N.startInput).val()?Xt.parseDate(h,Rt(N.startInput).val(),N):H[0]:a[0]?Xt.parseDate(h,a[0],N):H[0],N.defaultValue=H[V],b=D?Xt.formatDate(h,D,N):"",v=k?Xt.formatDate(h,k,N):"",e._startDate=D,e._endDate=k,c.parseValue(V?v:b,e)},onFill:function(e){a(e.change)},onBeforeClose:function(t){if("set"===t.button&&!n(!0,!0))return e.setActiveDate(V?"start":"end"),!1},onHide:function(){c.onHide.call(e),V=0,u=null,N.anchor=Y},onClear:function(){I&&(V=0)},onBeforeShow:function(){N.headerText=!1,g=D,x=k,y=o(g,0),w=o(x,1),N.counter&&(N.headerText=function(){var e=s();return(e>1?N.selectedPluralText||N.selectedText:N.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var a;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),x&&(f=!0,e.setDate(x,!1,0,!0),x=e.getDate(!0)),(V&&x||!V&&g)&&(f=!0,e.setDate(V?x:g,!1,0,!0)),l(),c.onMarkupReady.call(this,t),u=Rt(t.target),u.addClass("mbsc-range"),M&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+N.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+N.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",Rt(".mbsc-cal-tabs",u).before(a),r()),Rt(".mbsc-range-btn-c",u).on("touchstart click",function(t){zt(t,this)&&(e.showMonthView(),e.setActiveDate(Rt(this).index()?"end":"start"))})},onDayChange:function(e){e.active=V?"end":"start",d=!0},onSetDate:function(a){var s=a.date,i=e.order;f||(void 0===i.h&&s.setHours(V?23:0),void 0===i.i&&s.setMinutes(V?59:0),void 0===i.s&&s.setSeconds(V?59:0),s.setMilliseconds(V?999:0),p&&!d||(I&&d&&(1==V&&s<g&&(V=0),V?s.setHours(w.h,w.i,w.s,999):s.setHours(y.h,y.i,y.s,0)),V?(x=new Date(s),w=o(x)):(g=new Date(s),y=o(g)),_&&(t(g,s),t(x,s)),I&&d&&!V&&(x=null))),e._isValid=n(p||d||N.autoCorrect,!f),a.active=V?"end":"start",!f&&I&&(d&&(V=V?0:1),r()),e.isVisible()&&(e._isValid?Rt(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(O):Rt(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(O)),d=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(V?x:g,!1,1e3,!0),n(!0,!0)},onDestroy:function(){Rt(N.startInput).prop("readonly",C),Rt(N.endInput).prop("readonly",T)}}),m};var Gt=A.$,Zt={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};A.presets.scroller.measurement=function(e){function t(e){return Math.max(y,Math.min(x,H?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-q),$)+q))}function a(e){return H?i((Math.abs(e)-Math.abs(t(e)))*W-R,$)+R:0}function n(e){var n=t(e),s=a(e),i=e<0?"-":"+";return s>=W&&(e<0?n--:n++,s=0),[i,n,s]}function s(e){var t=+e[p],a=H?e[f]/W*(t<0?-1:1):0;return(I&&"-"==e[0]?-1:1)*(t+a)}function i(e,t){return Math.round(e/t)*t}function r(e,t){for(e+="";e.length<t;)e="0"+e;return e}function l(e,t,a){return t!==a&&D.convert?D.convert.call(this,e,t,a):e}function o(e,t,a){return e=e>a?a:e,e=e<t?t:e}function c(e){var t,n;v=l(D.min,O,e),g=l(D.max,O,e),H?(y=v<0?Math.ceil(v):Math.floor(v),x=g<0?Math.ceil(g):Math.floor(g),w=a(v),_=a(g)):(y=Math.round(v),x=Math.round(g),x=y+Math.floor((x-y)/$)*$,q=y%$),t=y,n=x,I&&(n=Math.abs(t)>Math.abs(n)?Math.abs(t):Math.abs(n),t=t<0?0:t),A.min=t<0?Math.ceil(t/E):Math.floor(t/E),A.max=n<0?Math.ceil(n/E):Math.floor(n/E)}function u(e){return s(e).toFixed(H?P:0)+(F?" "+L[e[b]]:"")}var d,h,m,f,p,b,v,g,y,x,w,_,C,T,M=Gt.extend({},e.settings),D=Gt.extend(e.settings,Zt,M),k={},V=[[]],S={},A={},N={},Y=[],I=D.sign,F=D.units&&D.units.length,O=F?D.defaultUnit||D.units[0]:"",L=[],H=D.step<1,E=D.step>1?D.step:1,P=H?Math.max(D.scale,(D.step+"").split(".")[1].length):1,W=Math.pow(10,P),$=Math.round(H?D.step*W:D.step),j=-1,q=0,R=0,U=0;if(e.setVal=function(t,a,n,s,i){e._setVal(Gt.isArray(t)?u(t):t,a,n,s,i)},D.units)for(T=0;T<D.units.length;++T)C=D.units[T],L.push(D.unitNames?D.unitNames[C]||C:C);if(I)if(I=!1,F)for(T=0;T<D.units.length;T++)l(D.min,O,D.units[T])<0&&(I=!0);else I=D.min<0;if(I&&(V[0].push({data:["-","+"],label:D.signText}),j=U++),A={label:D.wholeText,data:function(e){return y%E+e*E},getIndex:function(e){return Math.round((e-y%E)/E)}},V[0].push(A),p=U++,c(O),H){for(V[0].push(N),N.data=[],N.label=D.fractionText,T=R;T<W;T+=$)Y.push(T),N.data.push({value:T,display:"."+r(T,P)});f=U++,d=Math.ceil(100/$),D.invalid&&D.invalid.length&&(Gt.each(D.invalid,function(e,t){var a=t>0?Math.floor(t):Math.ceil(t);0===a&&(a=t<=0?-.001:.001),S[a]=(S[a]||0)+1,0===t&&(a=.001,S[a]=(S[a]||0)+1)}),Gt.each(S,function(e,t){t<d?delete S[e]:S[e]=e}))}if(F){for(k={data:[],label:D.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},T=0;T<D.units.length;T++)k.data.push({value:T,display:L[T]});V[0].push(k)}return b=U,{wheels:V,minWidth:I&&H?70:80,showLabel:!1,formatValue:u,compClass:"mbsc-msr",parseValue:function(e){var t,a=("number"==typeof e?e+"":e)||D.defaultValue,s=(a+"").split(" "),i=+s[0],r=[],l="";return F&&(l=Gt.inArray(s[1],L),l=l==-1?Gt.inArray(O,D.units):l,l=l==-1?0:l),m=F?D.units[l]:"",c(m),i=isNaN(i)?0:i,i=o(i,v,g),t=n(i),t[1]=o(t[1],y,x),h=i,I&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[p]=t[1],H&&(r[f]=t[2]),F&&(r[b]=l),r},onCancel:function(){h=void 0},validate:function(t){var a,r,u,d,C,T=t.values,M=t.index,k=t.direction,V={},N=[],L={},P=F?D.units[T[b]]:"";if(I&&0===M&&(h=Math.abs(h)*("-"==T[0]?-1:1)),(M===p||M===f&&H||void 0===h||void 0===M)&&(h=s(T),m=P),(F&&M===b&&m!==P||void 0===M)&&(c(P),h=l(h,m,P),m=P,r=n(h),void 0!==M&&(L[p]=A,e.changeWheel(L)),I&&(T[0]=r[0])),N[p]=[],I)for(N[0]=[],v>0&&(N[0].push("-"),T[0]="+"),g<0&&(N[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?y:x),U=C+E;U<C+20*E;U+=E)N[p].push(U),V[U]=!0;if(h=o(h,v,g),r=n(h),u=I?Math.abs(r[1]):r[1],a=I?"-"==T[0]:h<0,T[p]=u,a&&(r[0]="-"),H&&(T[f]=r[2]),Gt.each(H?S:D.invalid,function(e,t){if(I&&a){if(!(t<=0))return;t=Math.abs(t)}t=i(l(t,O,P),H?1:$),V[t]=!0,N[p].push(t)}),T[p]=e.getValidValue(p,u,k,V),r[1]=T[p]*(I&&a?-1:1),H){N[f]=[];var W=I?T[0]+T[1]:(h<0?"-":"+")+Math.abs(r[1]),j=(v<0?"-":"+")+Math.abs(y),q=(g<0?"-":"+")+Math.abs(x);W===j&&Gt(Y).each(function(e,t){(a?t>w:t<w)&&N[f].push(t)}),W===q&&Gt(Y).each(function(e,t){(a?t<_:t>_)&&N[f].push(t)}),Gt.each(D.invalid,function(e,t){d=n(l(t,O,P)),(r[0]===d[0]||0===r[1]&&0===d[1]&&0===d[2])&&r[1]===d[1]&&N[f].push(d[2])})}return{disabled:N,valid:T}}}},A.presetShort("measurement"),A.presets.scroller.number=A.presets.scroller.measurement,A.presetShort("number");var Jt=A.$,Qt=A.util,ea=A.presets.numpad,ta=Qt.testTouch,aa=Qt.getCoord,na=Qt.isNumeric,sa=function(){},ia=function(e,t,a){function n(t){var a,n=g.validate.call(e,{values:V.slice(0),variables:H},F)||[],i=n&&n.disabled||[];if(F._isValid=!n.invalid,F._tempValue=g.formatValue.call(e,V.slice(0),H,F),v=V.length,S=n.length||N,F._isVisible){if(Jt(".mbsc-np-ph",f).each(function(e){Jt(this).html("ltr"==g.fill?e>=v?b:y||V[e]:e>=N-S?e+v<N?b:y||V[e+v-N]:"")}),Jt(".mbsc-np-cph",f).each(function(){Jt(this).html(H[Jt(this).attr("data-var")]||Jt(this).attr("data-ph"))}),v===N)for(a=0;a<=9;a++)i.push(a);for(Jt(".mbsc-np-btn",f).removeClass(p),a=0;a<i.length;a++)Jt('.mbsc-np-btn[data-val="'+i[a]+'"]',f).addClass(p);F._isValid?Jt(".mbsc-fr-btn-s .mbsc-fr-btn",f).removeClass(p):Jt(".mbsc-fr-btn-s .mbsc-fr-btn",f).addClass(p),F.live&&(F._hasValue=t||F._hasValue,s(t,!1,t),t&&A("onSet",{valueText:F._value}))}}function s(e,t,a,s){t&&n(),s||(Y=V.slice(0),E=Jt.extend({},H),O=L.slice(0),F._value=F._hasValue?F._tempValue:null),e&&(F._isInput&&I.val(F._hasValue&&F._isValid?F._value:""),A("onFill",{valueText:F._hasValue?F._tempValue:"",change:a}),a&&(F._preventChange=!0,I.trigger("change")))}function i(e){var t,a,n=e||[],s=[];for(L=[],H={},t=0;t<n.length;t++)/:/.test(n[t])?(a=n[t].split(":"),H[a[0]]=a[1],L.push(a[0])):(s.push(n[t]),L.push("digit"));return s}function r(e,t){!(v||t||g.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||v<N&&(L.push("digit"),V.push(t),n(!0))}function l(e){var t,a,s=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&L.push(a[0]),H[a[0]]=void 0===a[2]?a[1]:H[a[0]]==a[1]?a[2]:a[1]),s.length+v<=S)for(t=0;t<s.length;++t)a=na(s[t])?+s[t]:s[t],(g.allowLeadingZero||v||a)&&(L.push("digit"),V.push(a),v=V.length);n(!0)}}function o(){var e,t,a=L.pop();if(v||"digit"!==a){if("digit"!==a&&H[a])for(delete H[a],t=L.slice(0),L=[],e=0;e<t.length;e++)t[e]!==a&&L.push(t[e]);else V.pop();n(!0)}}function c(e){D=!0,x=aa(e,"X"),w=aa(e,"Y"),clearInterval(k),clearTimeout(k),o(),k=setInterval(function(){o()},150)}function u(){clearInterval(k),D=!1}function d(e){ta(e,this)&&(c(e),"mousedown"===e.type&&Jt(document).on("mousemove",h).on("mouseup",m))}function h(e){D&&(_=aa(e,"X"),C=aa(e,"Y"),T=_-x,M=C-w,(Math.abs(T)>7||Math.abs(M)>7)&&u())}function m(e){D&&(e.preventDefault(),u(),"mouseup"===e.type&&Jt(document).off("mousemove",h).off("mouseup",m))}var f,p,b,v,g,y,x,w,_,C,T,M,D,k,V,S,A,N,Y,I=Jt(e),F=this,O=[],L=[],H={},E={},P={107:"+",109:"-"},W={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};ve.call(this,e,t,!0),F.setVal=F._setVal=function(t,a,n,r){F._hasValue=null!==t&&void 0!==t,V=i(Jt.isArray(t)?t.slice(0):g.parseValue.call(e,t,F)),s(a,!0,void 0===n?a:n,r)},F.getVal=F._getVal=function(e){return F._hasValue||e?F[e?"_tempValue":"_value"]:null},F.setArrayVal=F.setVal,F.getArrayVal=function(e){return e?V.slice(0):F._hasValue?Y.slice(0):null},F._readValue=function(){var t=I.val()||"";""!==t&&(F._hasValue=!0),y?(H={},L=[],V=[]):(H=F._hasValue?E:{},L=F._hasValue?O:[],V=F._hasValue&&Y?Y.slice(0):i(g.parseValue.call(e,t,F)),s(!1,!0))},F._fillValue=function(){F._hasValue=!0,s(!0,!1,!0)},F._generateContent=function(){var e,t,a,n=1,s="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+g.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+g.deleteIcon+'"></div><div class="mbsc-np-dsp">',s=g.template.replace(/d/g,'<span class="mbsc-np-ph">'+b+"</span>").replace(/&#100;/g,"d"),s=s.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=s,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)a=n,10==n||12==n?a="":11==n&&(a=0),i+=""===a?10==n&&g.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.leftKey.variable?'data-var="'+g.leftKey.variable+'"':"")+' data-val="'+(g.leftKey.value||"")+'" '+(void 0!==g.leftKey.track?' data-track="'+g.leftKey.track+'"':"")+">"+g.leftKey.text+"</div>":12==n&&g.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.rightKey.variable?'data-var="'+g.rightKey.variable+'"':"")+' data-val="'+(g.rightKey.value||"")+'" '+(void 0!==g.rightKey.track?' data-track="'+g.rightKey.track+'"':"")+" >"+g.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",n++;i+="</div>"}return i+="</div></div>"},F._markupReady=function(){f=F._markup,n()},F._attachEvents=function(e){e.on("keydown",function(t){var a;void 0!==P[t.keyCode]?(a=Jt('.mbsc-np-btn[data-var="sign:-:"]',e),a.length&&(H.sign=107==t.keyCode?"-":"",l(a))):void 0!==W[t.keyCode]?r(Jt('.mbsc-np-btn[data-val="'+W[t.keyCode]+'"]',e),W[t.keyCode]):8==t.keyCode&&(t.preventDefault(),o())}),F.tap(Jt(".mbsc-np-btn",e),function(){var e=Jt(this);e.hasClass("mbsc-np-btn-custom")?l(e):r(e,+e.attr("data-val"))},!1,30,!0),Jt(".mbsc-np-del",e).on("touchstart mousedown keydown",d).on("touchmove mousemove",h).on("keyup mouseup touchend",m)},F.__init=function(){g=F.settings,g.cssClass=(g.cssClass||"")+" mbsc-np",g.template=g.template.replace(/\\d/,"&#100;"),b=g.placeholder,N=(g.template.match(/d/g)||[]).length,p="mbsc-fr-btn-d "+(g.disabledClass||""),y=g.mask,A=F.trigger,y&&I.is("input")&&I.attr("type","password")},F._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},a||F.init(t)};ia.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:Jt.extend({},ve.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:sa,parseValue:sa,formatValue:function(e,t,a){var n,s=1,i=a.settings,r=i.placeholder,l=i.template,o=e.length,c=l.length,u="";for(n=0;n<c;n++)"d"==l[c-n-1]?(u=s<=o?e[o-s]+u:r+u,s++):u=l[c-n-1]+u;return Jt.each(t,function(e,t){u=u.replace("{"+e+"}",t)}),Jt("<div>"+u+"</div>").text()}})},A.classes.Numpad=ia,A.themes.numpad=A.themes.frame,A.presetShort("numpad","Numpad",!1);var ra={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};ea.decimal=function(e){function t(e,t){for(var a,n=e.slice(0),i=0;n.length;)i=10*i+n.shift();for(a=0;a<s.scale;a++)i/=10;return t?i*-1:i}function a(e){var a=t(e).toFixed(s.scale).replace(".",s.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,s.thousandsSeparator);return a}var n=Jt.extend({},e.settings),s=Jt.extend(e.settings,ra,n),i=s.min<0;return e.getVal=function(t){var a=e._getVal(t),n=(a+"").replace(s.decimalSeparator,".").replace(s.thousandsSeparator,"");return Qt.isNumeric(n)?+n:a},{template:(i?"{sign}":"")+s.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(s.max,Math.abs(s.min)))+"").length+1).join("d")+(s.scale?"."+Array(s.scale+1).join("d"):"")+s.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,n=e||s.defaultValue,i=[];if(n&&(n=(n+"").replace(s.decimalSeparator,".").replace(s.thousandsSeparator,""),a=n.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(s.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?i.push(+a[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,n){var i=a(e),r=t(e,n&&"-"==n.sign);return(r<0?"-":"")+(s.returnAffix?s.prefix+i+s.suffix:i)},validate:function(n){var i=n.values,r=a(i),l=t(i,n.variables&&"-"==n.variables.sign),o=[];return i.length||s.allowLeadingZero||o.push(0),e.isVisible()&&Jt(".mbsc-np-dsp",e._markup).html((n.variables.sign||"")+s.prefix+r+s.suffix),{disabled:o,invalid:l>s.max||l<s.min||!!s.invalid&&e._indexOf(s.invalid,l)!=-1}}}};var la=["h","m","s"],oa={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};ea.timespan=function(e){function t(e){var t,a="",n=3600;return Jt(la).each(function(i,r){t=Math.floor(e/n),e-=t*n,n/=60,(t>0||"s"==r&&!a)&&(a=a+(a?" ":"")+t+s[r])}),a}var a=Jt.extend({},e.settings),n=Jt.extend(e.settings,oa,a),s={h:n.hourTextShort.replace(/d/g,"\\d"),m:n.minuteTextShort.replace(/d/g,"\\d"),s:n.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+s.s+"</span>";return n.max>9&&(i="d"+i),n.max>99&&(i='<span class="mbsc-np-ts-m">'+(n.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+s.m+"</span>"+i),n.max>6039&&(i='<span class="mbsc-np-ts-h">'+(n.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+s.h+"</span>"+i),e.setVal=function(a,n,s,i){return Qt.isNumeric(a)&&(a=t(a)),e._setVal(a,n,s,i)},e.getVal=function(t){return e._hasValue||t?S(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var a,i=e||t(n.defaultValue),r=[];return i&&Jt(la).each(function(e,t){a=new RegExp("(\\d+)"+s[t],"gi").exec(i),a?(a=+a[1],a>9?(r.push(Math.floor(a/10)),r.push(a%10)):(r.length&&r.push(0),(a||r.length)&&r.push(a))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(S(e))},validate:function(t){var a=t.values,s=S(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:s>n.max||s<n.min||!!n.invalid&&e._indexOf(n.invalid,+s)!=-1}}}};var ca={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};ea.time=function(e){function t(e,t){var a,n="";for(a=0;a<e.length;++a)n+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return Jt.each(t,function(e,t){n+=" "+t}),n}function a(e){var t,a,n,l,o,b,v,g,y,x,w=[],_=2*i.length;if(c=_,e.length||(r&&(w.push(0),w.push(s.leftKey.value)),w.push(s.rightKey.value)),!r&&(_-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&_-e.length<=2)&&(w.push("30"),w.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=_-1),e.length==_)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2===0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+m==+(void 0!==e[3]?""+e[2]+e[3]:""),s.invalid)for(t=0;t<s.invalid.length;++t)if(b=s.invalid[t].getHours(),v=s.invalid[t].getMinutes(),g=s.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){w.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(s.min||s.max){if(a=+u==+y,n=+d==+y,o=n&&x,l=a&&x,0===e.length){for(t=r?2:u>19?u[0]:3;t<=(1==u[0]?9:u[0]-1);++t)w.push(t);if(u>=10&&(w.push(0),2==u[0]))for(t=3;t<=9;++t)w.push(t);if(d&&d<10||u&&u>=10)for(t=d&&d<10?+d[0]+1:0;t<(u&&u>=10?u[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<u[0];++t)w.push(t);if(u&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)w.push(t);if(e[0]==u[0])for(t=0;t<u[1];++t)w.push(t);if(e[0]==d[0]&&!r)for(t=+d[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(a||n))for(t=n?+m[0]+1:0;t<(a?+h[0]:10);++t)w.push(t);if(3==e.length&&(n&&e[2]==m[0]||a&&e[2]==h[0]))for(t=n&&e[2]==m[0]?+m[1]+1:0;t<(a&&e[2]==h[0]?+h[1]:10);++t)w.push(t);if(4==e.length&&(l||o))for(t=o?+p[0]+1:0;t<(l?+f[0]:10);++t)w.push(t);if(5==e.length&&(l&&e[4]==f[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(l&&e[4]==f[0]?+f[1]:10);++t)w.push(t)}return w}var n=Jt.extend({},e.settings),s=Jt.extend(e.settings,ca,n),i=s.timeFormat.split(":"),r=s.timeFormat.match(/a/i),l=r?"a"==r[0]?s.amText:s.amText.toUpperCase():"",o=r?"a"==r[0]?s.pmText:s.pmText.toUpperCase():"",c=0,u=s.min?""+s.min.getHours():"",d=s.max?""+s.max.getHours():"",h=s.min?""+(s.min.getMinutes()<10?"0"+s.min.getMinutes():s.min.getMinutes()):"",m=s.max?""+(s.max.getMinutes()<10?"0"+s.max.getMinutes():s.max.getMinutes()):"",f=s.min?""+(s.min.getSeconds()<10?"0"+s.min.getSeconds():s.min.getSeconds()):"",p=s.max?""+(s.max.getSeconds()<10?"0"+s.max.getSeconds():s.max.getSeconds()):"";return s.min?s.min.setFullYear(2014,7,20):"",s.max?s.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,n=e||s.defaultValue,i=[];if(n){if(n+="",a=n.match(/\d/g))for(t=0;t<a.length;t++)i.push(+a[t]);r&&i.push("ampm:"+(n.match(new RegExp(s.pmText,"gi"))?o:l))}return i},formatValue:function(e,a){return t(e,a)},validate:function(n){var i=n.values,l=n.variables,o=t(i,l),u=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:a(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+s.amText+"|"+s.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!s.invalid&&e._indexOf(s.invalid,u)!=-1||!((!s.min||s.min<=u)&&(!s.max||u<=s.max))}}}};var ua={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};ea.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function a(e){var a,n,l,o,c,d=[],g=void 0!==e[s+3]?""+e[s]+e[s+1]+e[s+2]+e[s+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",w=""+u.getMaxDayOfMonth(g||2012,y-1||0),_=b===g&&+h===+y,C=v===g&&+m===+y;if(u.invalid)for(a=0;a<u.invalid.length;++a){if(l=u.getYear(u.invalid[a]),o=u.getMonth(u.invalid[a]),c=u.getDay(u.invalid[a]),l==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){d.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+l).substring(0,3)==""+e[s]+e[s+1]+e[s+2]){d.push((""+l)[3]);break}if(l==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){d.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?d.push(2,4,6,9,11):d.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&d.push(2),e.length==i){for(a=v===g&&+m<10?1:2;a<=9;++a)d.push(a);b===g&&+h>=10&&d.push(0)}if(e.length==i+1){if(1==e[i]){for(a=v===g?+m[1]+1:3;a<=9;++a)d.push(a);if(b==g)for(a=0;a<+h[1];++a)d.push(a)}if(0===e[i]&&(d.push(0),v===g||b===g))for(a=v===g?+x>+p?+m:+m+1:0;a<=(b===g?+x<+f?+h-1:+h-1:9);++a)d.push(a)}if(e.length==r){for(a=C?(+p>10?+p[0]:0)+1:+w[0]+1;a<=9;++a)d.push(a);if(_)for(a=0;a<(+f<10?0:f[0]);++a)d.push(a)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(a=+w[1]+1;a<=9;++a)d.push(a);if(C&&+p[0]==e[r])for(a=+p[1]+1;a<=9;++a)d.push(a);if(_&&f[0]==e[r])for(a=0;a<+f[1];++a)d.push(a);if(0===e[r]&&(d.push(0),C||_))for(a=C?+p+1:1;a<=(_?+f-1:9);++a)d.push(a)}if(void 0!==e[s+2]&&"02"==y&&"29"==x)for(n=+(""+e[s]+e[s+1]+e[s+2]+0);n<=+(""+e[s]+e[s+1]+e[s+2]+9);++n)d.push(t(n)?"":n%10);if(e.length==s){if(u.min)for(a=0;a<+b[0];++a)d.push(a);if(u.max)for(a=+v[0]+1;a<=9;++a)d.push(a);d.push(0)}if(u.min||u.max)for(n=1;n<4;++n)if(e.length==s+n){if(e[s+n-1]==+b[n-1]&&(3!=n||e[s+n-2]==+b[n-2]))for(a=0;a<+b[n]+(3==n&&e[i+1]&&+h>+y?1:0);++a)d.push(a);if(e[s+n-1]==+v[n-1]&&(3!=n||e[s+n-2]==+v[n-2]))for(a=+v[n]+(3==n&&+m<+y?0:1);a<=9;++a)d.push(a)}return d}function n(e){return new Date(+(""+e[s]+e[s+1]+e[s+2]+e[s+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var s,i,r,l,o=[],c=Jt.extend({},e.settings),u=Jt.extend(e.settings,Ze.defaults,ua,c),d=u.dateOrder,h=u.min?""+(u.getMonth(u.min)+1):0,m=u.max?""+(u.getMonth(u.max)+1):0,f=u.min?""+u.getDay(u.min):0,p=u.max?""+u.getDay(u.max):0,b=u.min?""+u.getYear(u.min):0,v=u.max?""+u.getYear(u.max):0;for(d=d.replace(/y+/gi,"yyyy"),d=d.replace(/m+/gi,"mm"),d=d.replace(/d+/gi,"dd"),s=d.toUpperCase().indexOf("Y"),i=d.toUpperCase().indexOf("M"),r=d.toUpperCase().indexOf("D"),d="",o.push({val:s,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),Jt.each(o,function(e,t){d+=t.n}),s=d.indexOf("y"),i=d.indexOf("m"),r=d.indexOf("d"),d="",l=0;l<8;++l)d+="d",l+1!=s&&l+1!=i&&l+1!=r||(d+=u.delimiter);return e.getVal=function(t){return e._hasValue||t?n(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:d,parseValue:function(e){var t,a=[],n=e||u.defaultValue,s=Ze.parseDate(u.dateFormat,n,u);if(n)for(t=0;t<o.length;++t)a=/m/i.test(o[t].n)?a.concat(((u.getMonth(s)<9?"0":"")+(u.getMonth(s)+1)).split("")):/d/i.test(o[t].n)?a.concat(((u.getDay(s)<10?"0":"")+u.getDay(s)).split("")):a.concat((u.getYear(s)+"").split(""));return a},formatValue:function(e){return Ze.formatDate(u.dateFormat,n(e),u)},validate:function(t){var s=t.values,i=n(s);return{disabled:a(s),invalid:!("Invalid Date"!=i&&(!u.min||u.min<=i)&&(!u.max||i<=u.max))||!!u.invalid&&e._indexOf(u.invalid,i)!=-1}}}};var da=A.$,ha=A.presets.scroller,ma={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},fa={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};A.presetShort("distance"),ha.distance=function(e){var t=da.extend({},ma,e.settings);return da.extend(e.settings,t,{sign:!1,convert:function(e,t,a){return e*fa[t]/fa[a]}}),ha.measurement.call(this,e)};var pa=A.$,ba=A.presets.scroller,va={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},ga={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};A.presetShort("force"),ba.force=function(e){var t=pa.extend({},va,e.settings);return pa.extend(e.settings,t,{sign:!1,convert:function(e,t,a){return e*ga[t]/ga[a]}}),ba.measurement.call(this,e)};var ya=A.$,xa=A.presets.scroller,wa={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},_a={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};A.presetShort("mass"),xa.mass=function(e){var t=ya.extend({},wa,e.settings);return ya.extend(e.settings,t,{sign:!1,convert:function(e,t,a){return e*_a[t]/_a[a]}}),xa.measurement.call(this,e)};var Ca=A.$,Ta=A.presets.scroller,Ma={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},Da={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};A.presetShort("speed"),
Ta.speed=function(e){var t=Ca.extend({},Ma,e.settings);return Ca.extend(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Da[t]/Da[a]}}),Ta.measurement.call(this,e)};var ka=A.$,Va=A.presets.scroller,Sa={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},Aa={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};A.presetShort("temperature"),Va.temperature=function(e){var t=ka.extend({},Sa,e.settings);return ka.extend(e.settings,t,{sign:!0,convert:function(e,t,a){return Aa[t+"2"+a](e)}}),Va.measurement.call(this,e)},A.i18n.zh={setText:"",cancelText:"",clearText:"",selectedText:"{count} ",dateFormat:"yy/mm/dd",dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dayText:"",hourText:"",minuteText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["","","","","","","","","","","",""],monthText:"",secText:"",timeFormat:"HH:ii",yearText:"",nowText:"",pmText:"",amText:"",todayText:"",dateText:"",timeText:"",calendarText:"",closeText:"",fromText:"",toText:"",wholeText:"",fractionText:"",unitText:"",labels:["","","","","","",""],labelsShort:["","","","","","",""],startText:"",stopText:"",resetText:"",lapText:"",hideText:"",backText:"",undoText:"",offText:"",onText:"",decimalSeparator:",",thousandsSeparator:" "};var Na=A.themes,Ya=A.$;Na.frame["android-holo"]={},Na.scroller["android-holo"]=Ya.extend({},Na.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),Na.form["android-holo"]={},A.customTheme("mobiscroll-dark","mobiscroll");var Ia=A.themes,Fa=A.$,Oa=void 0;return"android"==q.name?Oa=q.majorVersion>=5?"material":"android-holo":"ios"==q.name?Oa="ios":"wp"==q.name&&(Oa="wp"),A.setAutoTheme=function(){Fa.each(Ia.frame,function(e,t){return Oa&&t.baseTheme==Oa&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(A.autoTheme=e,!1):void(e==Oa&&(A.autoTheme=e))})},A.setAutoTheme(),A.customTheme("choice-ui","android-holo"),A.uid="23848782",A});
