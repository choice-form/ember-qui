import Component from 'ember-component';
import computed from 'ember-computed';
import layout from './template';
import {htmlSafe} from 'ember-string';
import get from 'ember-metal/get';

export default Component.extend({
  layout,

  tagName:'',

  svgDefault : htmlSafe(`<svg style="display:block" class="location-default" viewBox="59 18 44 60" ><path d="M81.723,77.69 C81.534,77.888 81.273,78 81,78 C80.726,78 80.465,77.888 80.277,77.69 C79.407,76.78 59,55.225 59,40 C59,27.869 68.869,18 81,18 C93.131,18 103,27.869 103,40 C103,55.225 82.592,76.78 81.723,77.69 L81.723,77.69 Z M81,20 C69.972,20 61,28.972 61,40 C61,52.877 77.332,71.507 81,75.528 C84.666,71.508 101,52.871 101,40 C101,28.972 92.028,20 81,20 L81,20 Z M81,48 C76.589,48 73,44.411 73,40 C73,35.589 76.589,32 81,32 C85.411,32 89,35.589 89,40 C89,44.411 85.411,48 81,48 L81,48 Z M81,34 C77.691,34 75,36.691 75,40 C75,43.308 77.691,46 81,46 C84.308,46 87,43.308 87,40 C87,36.691 84.308,34 81,34 L81,34 Z"/></svg>`),

  svgLoading : htmlSafe(`<svg style="display:block" class="location-loading" viewBox="31 31 56 56" ><path d="M85.8378725,57.2176486 L81.8568725,57.6086486 C81.8228725,57.6116486 81.7908725,57.6136486 81.7578725,57.6136486 C81.2498725,57.6136486 80.8148725,57.2286486 80.7638725,56.7116486 C80.7098725,56.1616486 81.1118725,55.6726486 81.6608725,55.6186486 L85.6418725,55.2276486 C86.1978725,55.1826486 86.6808725,55.5746486 86.7348725,56.1246486 C86.7888725,56.6746486 86.3878725,57.1636486 85.8378725,57.2176486 L85.8378725,57.2176486 Z M84.9978725,51.9876486 L81.1698725,53.1486486 C81.0728725,53.1786486 80.9748725,53.1916486 80.8788725,53.1916486 C80.4498725,53.1916486 80.0528725,52.9136486 79.9228725,52.4816486 C79.7628725,51.9536486 80.0608725,51.3946486 80.5888725,51.2346486 L84.4168725,50.0736486 C84.9448725,49.9126486 85.5038725,50.2116486 85.6638725,50.7406486 C85.8238725,51.2696486 85.5258725,51.8276486 84.9978725,51.9876486 L84.9978725,51.9876486 Z M83.1528725,47.0226486 L79.6248725,48.9086486 C79.4748725,48.9886486 79.3138725,49.0266486 79.1548725,49.0266486 C78.7978725,49.0266486 78.4518725,48.8356486 78.2718725,48.4986486 C78.0118725,48.0116486 78.1958725,47.4056486 78.6828725,47.1456486 L82.2108725,45.2596486 C82.6988725,44.9996486 83.3038725,45.1836486 83.5638725,45.6696486 C83.8238725,46.1566486 83.6398725,46.7626486 83.1528725,47.0226486 L83.1528725,47.0226486 Z M77.2838725,45.0506486 C77.0968725,45.2036486 76.8728725,45.2776486 76.6498725,45.2776486 C76.3608725,45.2776486 76.0738725,45.1526486 75.8758725,44.9126486 C75.5258725,44.4856486 75.5878725,43.8546486 76.0148725,43.5056486 L79.1068725,40.9676486 C79.5338725,40.6166486 80.1638725,40.6796486 80.5138725,41.1046486 C80.8648725,41.5316486 80.8018725,42.1626486 80.3748725,42.5126486 L77.2838725,45.0506486 L77.2838725,45.0506486 Z M74.2338725,41.7246486 C74.0358725,41.9646486 73.7488725,42.0896486 73.4598725,42.0896486 C73.2368725,42.0896486 73.0118725,42.0156486 72.8258725,41.8626486 C72.3988725,41.5126486 72.3368725,40.8826486 72.6878725,40.4546486 L75.2248725,37.3626486 C75.5748725,36.9376486 76.2058725,36.8756486 76.6328725,37.2246486 C77.0598725,37.5746486 77.1218725,38.2046486 76.7708725,38.6326486 L74.2338725,41.7246486 L74.2338725,41.7246486 Z M70.5938725,39.0566486 C70.4138725,39.3926486 70.0688725,39.5846486 69.7108725,39.5846486 C69.5518725,39.5846486 69.3908725,39.5466486 69.2408725,39.4666486 C68.7538725,39.2066486 68.5698725,38.6006486 68.8298725,38.1126486 L70.7158725,34.5856486 C70.9758725,34.0996486 71.5818725,33.9166486 72.0688725,34.1756486 C72.5558725,34.4356486 72.7398725,35.0416486 72.4788725,35.5286486 L70.5938725,39.0566486 L70.5938725,39.0566486 Z M66.9978725,85.6626486 C66.9008725,85.6916486 66.8028725,85.7056486 66.7068725,85.7056486 C66.2778725,85.7056486 65.8818725,85.4276486 65.7508725,84.9956486 L64.5898725,81.1686486 C64.4288725,80.6406486 64.7278725,80.0816486 65.2558725,79.9216486 C65.7838725,79.7606486 66.3428725,80.0596486 66.5038725,80.5886486 L67.6648725,84.4156486 C67.8248725,84.9436486 67.5268725,85.5026486 66.9978725,85.6626486 L66.9978725,85.6626486 Z M66.5038725,37.1486486 C66.3728725,37.5806486 65.9758725,37.8586486 65.5468725,37.8586486 C65.4508725,37.8586486 65.3528725,37.8456486 65.2568725,37.8156486 C64.7278725,37.6556486 64.4288725,37.0976486 64.5898725,36.5686486 L65.7508725,32.7406486 C65.9108725,32.2126486 66.4718725,31.9146486 66.9978725,32.0736486 C67.5268725,32.2336486 67.8248725,32.7926486 67.6648725,33.3206486 L66.5038725,37.1486486 L66.5038725,37.1486486 Z M61.6138725,86.7336486 C61.5808725,86.7366486 61.5478725,86.7386486 61.5148725,86.7386486 C61.0068725,86.7386486 60.5718725,86.3526486 60.5208725,85.8366486 L60.1288725,81.8546486 C60.0748725,81.3066486 60.4768725,80.8156486 61.0258725,80.7626486 C61.5768725,80.7156486 62.0658725,81.1096486 62.1188725,81.6596486 L62.5118725,85.6416486 C62.5658725,86.1896486 62.1638725,86.6806486 61.6138725,86.7336486 L61.6138725,86.7336486 Z M61.1248725,36.9796486 C61.0928725,36.9796486 61.0598725,36.9776486 61.0258725,36.9746486 C60.4768725,36.9206486 60.0748725,36.4306486 60.1288725,35.8816486 L60.5208725,31.9006486 C60.5748725,31.3516486 61.0598725,30.9576486 61.6138725,31.0036486 C62.1638725,31.0576486 62.5658725,31.5476486 62.5118725,32.0966486 L62.1188725,36.0766486 C62.0688725,36.5936486 61.6338725,36.9796486 61.1248725,36.9796486 L61.1248725,36.9796486 Z M56.2238725,86.7386486 C56.1918725,86.7386486 56.1588725,86.7366486 56.1248725,86.7336486 C55.5758725,86.6806486 55.1738725,86.1896486 55.2278725,85.6416486 L55.6198725,81.6596486 C55.6738725,81.1096486 56.1588725,80.7156486 56.7138725,80.7626486 C57.2628725,80.8156486 57.6648725,81.3066486 57.6108725,81.8546486 L57.2188725,85.8366486 C57.1678725,86.3526486 56.7328725,86.7386486 56.2238725,86.7386486 L56.2238725,86.7386486 Z M56.7138725,36.9746486 C56.6798725,36.9776486 56.6468725,36.9796486 56.6138725,36.9796486 C56.1058725,36.9796486 55.6708725,36.5936486 55.6198725,36.0766486 L55.2278725,32.0966486 C55.1738725,31.5476486 55.5758725,31.0576486 56.1248725,31.0036486 C56.6758725,30.9576486 57.1648725,31.3516486 57.2188725,31.9006486 L57.6108725,35.8816486 C57.6648725,36.4306486 57.2628725,36.9206486 56.7138725,36.9746486 L56.7138725,36.9746486 Z M51.9888725,84.9956486 C51.8578725,85.4276486 51.4608725,85.7056486 51.0328725,85.7056486 C50.9358725,85.7056486 50.8388725,85.6916486 50.7408725,85.6626486 C50.2128725,85.5026486 49.9148725,84.9436486 50.0748725,84.4156486 L51.2358725,80.5886486 C51.3968725,80.0606486 51.9548725,79.7636486 52.4838725,79.9216486 C53.0118725,80.0816486 53.3098725,80.6406486 53.1498725,81.1686486 L51.9888725,84.9956486 L51.9888725,84.9956486 Z M52.4828725,37.8156486 C52.3868725,37.8456486 52.2888725,37.8586486 52.1928725,37.8586486 C51.7638725,37.8586486 51.3668725,37.5806486 51.2358725,37.1486486 L50.0748725,33.3206486 C49.9148725,32.7926486 50.2128725,32.2336486 50.7418725,32.0736486 C51.2678725,31.9116486 51.8288725,32.2126486 51.9888725,32.7406486 L53.1498725,36.5686486 C53.3098725,37.0976486 53.0118725,37.6556486 52.4828725,37.8156486 L52.4828725,37.8156486 Z M47.0238725,83.1516486 C46.8438725,83.4886486 46.4988725,83.6806486 46.1408725,83.6806486 C45.9818725,83.6806486 45.8208725,83.6426486 45.6708725,83.5626486 C45.1838725,83.3026486 44.9998725,82.6956486 45.2608725,82.2086486 L47.1458725,78.6816486 C47.4058725,78.1936486 48.0118725,78.0116486 48.4988725,78.2716486 C48.9858725,78.5306486 49.1698725,79.1376486 48.9098725,79.6246486 L47.0238725,83.1516486 L47.0238725,83.1516486 Z M48.4988725,39.4666486 C48.3488725,39.5466486 48.1878725,39.5846486 48.0288725,39.5846486 C47.6708725,39.5846486 47.3258725,39.3926486 47.1458725,39.0566486 L45.2608725,35.5286486 C44.9998725,35.0416486 45.1838725,34.4356486 45.6708725,34.1756486 C46.1578725,33.9166486 46.7638725,34.0996486 47.0238725,34.5856486 L48.9098725,38.1126486 C49.1698725,38.6006486 48.9858725,39.2066486 48.4988725,39.4666486 L48.4988725,39.4666486 Z M44.9128725,41.8626486 C44.7268725,42.0156486 44.5028725,42.0896486 44.2798725,42.0896486 C43.9898725,42.0896486 43.7038725,41.9646486 43.5058725,41.7246486 L40.9678725,38.6326486 C40.6178725,38.2046486 40.6798725,37.5746486 41.1068725,37.2246486 C41.5348725,36.8756486 42.1638725,36.9376486 42.5138725,37.3626486 L45.0518725,40.4546486 C45.4028725,40.8826486 45.3408725,41.5126486 44.9128725,41.8626486 L44.9128725,41.8626486 Z M41.8638725,44.9126486 C41.6658725,45.1526486 41.3788725,45.2776486 41.0898725,45.2776486 C40.8668725,45.2776486 40.6418725,45.2036486 40.4558725,45.0506486 L37.3638725,42.5126486 C36.9368725,42.1626486 36.8748725,41.5316486 37.2258725,41.1046486 C37.5768725,40.6796486 38.2068725,40.6166486 38.6328725,40.9676486 L41.7248725,43.5056486 C42.1518725,43.8546486 42.2138725,44.4856486 41.8638725,44.9126486 L41.8638725,44.9126486 Z M39.4668725,48.4986486 C39.2868725,48.8356486 38.9418725,49.0266486 38.5848725,49.0266486 C38.4258725,49.0266486 38.2638725,48.9886486 38.1138725,48.9086486 L34.5868725,47.0226486 C34.0988725,46.7626486 33.9158725,46.1566486 34.1758725,45.6696486 C34.4358725,45.1826486 35.0428725,44.9996486 35.5288725,45.2596486 L39.0568725,47.1456486 C39.5438725,47.4056486 39.7278725,48.0116486 39.4668725,48.4986486 L39.4668725,48.4986486 Z M37.8168725,52.4816486 C37.6858725,52.9136486 37.2888725,53.1916486 36.8608725,53.1916486 C36.7638725,53.1916486 36.6668725,53.1786486 36.5698725,53.1486486 L32.7418725,51.9876486 C32.2138725,51.8276486 31.9148725,51.2696486 32.0748725,50.7406486 C32.2358725,50.2126486 32.7948725,49.9156486 33.3228725,50.0736486 L37.1508725,51.2346486 C37.6788725,51.3946486 37.9768725,51.9536486 37.8168725,52.4816486 L37.8168725,52.4816486 Z M36.0778725,55.6186486 C36.6278725,55.6726486 37.0298725,56.1616486 36.9758725,56.7116486 C36.9248725,57.2286486 36.4898725,57.6136486 35.9818725,57.6136486 C35.9488725,57.6136486 35.9158725,57.6116486 35.8828725,57.6086486 L31.9018725,57.2176486 C31.3518725,57.1636486 30.9508725,56.6746486 31.0048725,56.1246486 C31.0588725,55.5746486 31.5468725,55.1826486 32.0968725,55.2276486 L36.0778725,55.6186486 L36.0778725,55.6186486 Z M31.9018725,60.5206486 L35.8828725,60.1276486 C36.4318725,60.0836486 36.9218725,60.4756486 36.9758725,61.0246486 C37.0298725,61.5736486 36.6288725,62.0636486 36.0788725,62.1176486 L32.0978725,62.5106486 C32.0648725,62.5136486 32.0308725,62.5156486 31.9988725,62.5156486 C31.4908725,62.5156486 31.0548725,62.1296486 31.0048725,61.6126486 C30.9508725,61.0636486 31.3518725,60.5736486 31.9018725,60.5206486 L31.9018725,60.5206486 Z M32.7418725,65.7496486 L36.5698725,64.5886486 C37.0978725,64.4266486 37.6558725,64.7266486 37.8168725,65.2556486 C37.9768725,65.7836486 37.6788725,66.3426486 37.1508725,66.5026486 L33.3228725,67.6636486 C33.2258725,67.6926486 33.1278725,67.7066486 33.0318725,67.7066486 C32.6028725,67.7066486 32.2058725,67.4286486 32.0748725,66.9966486 C31.9148725,66.4686486 32.2138725,65.9096486 32.7418725,65.7496486 L32.7418725,65.7496486 Z M34.5868725,70.7146486 L38.1138725,68.8286486 C38.6008725,68.5676486 39.2068725,68.7526486 39.4668725,69.2386486 C39.7278725,69.7266486 39.5438725,70.3316486 39.0568725,70.5926486 L35.5288725,72.4786486 C35.3788725,72.5586486 35.2168725,72.5966486 35.0588725,72.5966486 C34.7008725,72.5966486 34.3558725,72.4046486 34.1758725,72.0676486 C33.9158725,71.5806486 34.0988725,70.9756486 34.5868725,70.7146486 L34.5868725,70.7146486 Z M40.4558725,72.6876486 C40.8838725,72.3356486 41.5138725,72.3986486 41.8638725,72.8246486 C42.2138725,73.2516486 42.1518725,73.8826486 41.7248725,74.2316486 L38.6328725,76.7696486 C38.4468725,76.9236486 38.2218725,76.9976486 37.9988725,76.9976486 C37.7098725,76.9976486 37.4238725,76.8726486 37.2258725,76.6326486 C36.8748725,76.2056486 36.9368725,75.5746486 37.3638725,75.2256486 L40.4558725,72.6876486 L40.4558725,72.6876486 Z M43.5058725,76.0136486 C43.8568725,75.5886486 44.4868725,75.5246486 44.9128725,75.8746486 C45.3408725,76.2256486 45.4028725,76.8546486 45.0518725,77.2826486 L42.5138725,80.3746486 C42.3168725,80.6146486 42.0298725,80.7396486 41.7408725,80.7396486 C41.5178725,80.7396486 41.2928725,80.6656486 41.1068725,80.5136486 C40.6798725,80.1626486 40.6178725,79.5326486 40.9678725,79.1046486 L43.5058725,76.0136486 L43.5058725,76.0136486 Z M69.2408725,78.2716486 C69.7278725,78.0116486 70.3328725,78.1936486 70.5938725,78.6816486 L72.4788725,82.2086486 C72.7398725,82.6956486 72.5558725,83.3026486 72.0688725,83.5626486 C71.9188725,83.6426486 71.7578725,83.6806486 71.5978725,83.6806486 C71.2408725,83.6806486 70.8958725,83.4886486 70.7158725,83.1516486 L68.8298725,79.6246486 C68.5698725,79.1376486 68.7538725,78.5306486 69.2408725,78.2716486 L69.2408725,78.2716486 Z M72.8258725,75.8746486 C73.2538725,75.5246486 73.8828725,75.5886486 74.2338725,76.0136486 L76.7708725,79.1046486 C77.1218725,79.5326486 77.0598725,80.1626486 76.6328725,80.5136486 C76.4468725,80.6656486 76.2218725,80.7396486 75.9988725,80.7396486 C75.7098725,80.7396486 75.4228725,80.6146486 75.2248725,80.3746486 L72.6878725,77.2826486 C72.3368725,76.8546486 72.3988725,76.2256486 72.8258725,75.8746486 L72.8258725,75.8746486 Z M75.8758725,72.8246486 C76.2268725,72.3986486 76.8568725,72.3356486 77.2838725,72.6876486 L80.3748725,75.2256486 C80.8018725,75.5746486 80.8648725,76.2056486 80.5138725,76.6326486 C80.3158725,76.8726486 80.0288725,76.9976486 79.7408725,76.9976486 C79.5168725,76.9976486 79.2928725,76.9236486 79.1068725,76.7696486 L76.0148725,74.2316486 C75.5878725,73.8826486 75.5258725,73.2516486 75.8758725,72.8246486 L75.8758725,72.8246486 Z M78.2718725,69.2386486 C78.5318725,68.7526486 79.1378725,68.5676486 79.6248725,68.8286486 L83.1528725,70.7146486 C83.6398725,70.9756486 83.8238725,71.5806486 83.5638725,72.0676486 C83.3838725,72.4046486 83.0378725,72.5966486 82.6808725,72.5966486 C82.5218725,72.5966486 82.3608725,72.5586486 82.2108725,72.4786486 L78.6828725,70.5926486 C78.1958725,70.3316486 78.0118725,69.7266486 78.2718725,69.2386486 L78.2718725,69.2386486 Z M79.9228725,65.2556486 C80.0828725,64.7266486 80.6408725,64.4296486 81.1698725,64.5886486 L84.9978725,65.7496486 C85.5258725,65.9096486 85.8238725,66.4686486 85.6638725,66.9966486 C85.5338725,67.4286486 85.1368725,67.7066486 84.7078725,67.7066486 C84.6118725,67.7066486 84.5138725,67.6926486 84.4168725,67.6636486 L80.5888725,66.5026486 C80.0608725,66.3426486 79.7628725,65.7836486 79.9228725,65.2556486 L79.9228725,65.2556486 Z M81.6608725,62.1176486 C81.1108725,62.0636486 80.7098725,61.5736486 80.7638725,61.0246486 C80.8178725,60.4756486 81.3118725,60.0836486 81.8568725,60.1276486 L85.8378725,60.5206486 C86.3878725,60.5736486 86.7888725,61.0636486 86.7348725,61.6126486 C86.6838725,62.1296486 86.2488725,62.5156486 85.7408725,62.5156486 C85.7078725,62.5156486 85.6748725,62.5136486 85.6418725,62.5106486 L81.6608725,62.1176486 L81.6608725,62.1176486 Z"/></svg>`),

  svgSuccess : htmlSafe(`<svg style="display:block" class="location-success" viewBox="33 33 52 52" ><path d="M59,85 C44.664,85 33,73.336 33,59 C33,44.664 44.664,33 59,33 C73.336,33 85,44.664 85,59 C85,73.336 73.336,85 59,85 L59,85 Z M59,35 C45.766,35 35,45.767 35,59 C35,72.233 45.766,83 59,83 C72.233,83 82.999,72.233 82.999,59 C82.999,45.767 72.233,35 59,35 L59,35 Z M56.832,68.555 C56.658,68.815 56.373,68.98 56.06,68.998 C56.04,69 56.02,69 56,69 C55.709,69 55.431,68.873 55.241,68.651 L49.241,61.651 C48.881,61.231 48.929,60.6 49.349,60.241 C49.767,59.881 50.399,59.93 50.759,60.349 L55.9,66.347 L67.168,49.445 C67.474,48.986 68.094,48.86 68.554,49.168 C69.014,49.474 69.138,50.095 68.832,50.555 L56.832,68.555 L56.832,68.555 Z"/></svg>`),

  svgFail : htmlSafe(`<svg style="display:block" class="location-fail" viewBox="30 30 59 58" ><path d="M75,88 C67.831,88 62,82.168 62,75 C62,67.832 67.831,62 75,62 C82.168,62 88,67.832 88,75 C88,82.168 82.168,88 75,88 L75,88 Z M75,64 C68.934,64 64,68.935 64,75 C64,81.065 68.934,86 75,86 C81.065,86 86,81.065 86,75 C86,68.935 81.065,64 75,64 L75,64 Z M75,82 C74.74,82 74.48,81.89 74.29,81.71 C74.11,81.519 74,81.26 74,81 C74,80.74 74.11,80.479 74.29,80.29 C74.67,79.92 75.339,79.92 75.71,80.29 C75.889,80.479 76,80.74 76,81 C76,81.269 75.889,81.519 75.71,81.71 C75.52,81.89 75.27,82 75,82 L75,82 Z M75,78 C74.448,78 74,77.553 74,77 L74,69 C74,68.447 74.448,68 75,68 C75.552,68 76,68.447 76,69 L76,77 C76,77.553 75.552,78 75,78 L75,78 Z M82.999,50 L73,50 C72.448,50 72,49.553 72,49 C72,48.447 72.448,48 73,48 L80.312,48 C76.608,38.382 67.411,32 57,32 C46.144,32 36.59,38.929 33.228,49.241 C33.056,49.766 32.495,50.053 31.967,49.882 C31.442,49.71 31.155,49.146 31.326,48.62 C34.958,37.483 45.276,30 57,30 C68.072,30 77.882,36.679 82,46.801 L82,39 C82,38.447 82.448,38 82.999,38 C83.552,38 84,38.447 84,39 L84,49 C84,49.553 83.552,50 82.999,50 L82.999,50 Z M42,65 C42,65.553 41.552,66 41,66 L33.688,66 C37.392,75.618 46.589,82 57,82 C57.845,82 58.736,81.944 59.803,81.824 C60.341,81.769 60.847,82.158 60.908,82.707 C60.97,83.256 60.575,83.751 60.026,83.812 C58.882,83.94 57.921,84 57,84 C45.928,84 36.118,77.321 32,67.198 L32,75 C32,75.553 31.552,76 31,76 C30.448,76 30,75.553 30,75 L30,65 C30,64.447 30.448,64 31,64 L41,64 C41.552,64 42,64.447 42,65 L42,65 Z"/></svg>`),

  //状态，default ， loading , success , fail
  svgState : 'success',

  tips: computed('svgState', function () {
  const state = get(this, 'svgState');
  if(state === 'loading'){
    return '正在定位';
  }
  if(state === 'success'){
    return "正在成功";
  }
  if(state === 'fail'){
    return "正在失败";
  }
  return "点击图标启动定位";
}),

  svg: computed('svgState', function () {
    const state = get(this, 'svgState');

    if(state === 'loading'){
      return get(this, 'svgLoading');
    }
    if(state === 'success'){
      return get(this, 'svgSuccess');
    }
    if(state === 'fail'){
      return get(this, 'svgFail');
    }
    return get(this, 'svgDefault');
  }),

  actions: {
    /**
     * click事件
     */
    handleOptionClick(){
      this.handleEvents.handleOptionClick(get(this, 'option'),get(this,'node'));
    },
  },

}).reopenClass({ positionalParams: ['node','option','handleEvents']});
