.ui-matrix {
  & .matrix-wrapper {
    position: relative;
    margin-bottom: 3rem;
    border: 1px solid currentColor;
    & .fix-header {
      position: relative;
      width: 100%;
      padding-left: 50%;
      pointer-events: none;
      border-bottom: 1px solid currentColor;

      .border(0, 50%, 0, auto, auto, 1);
      &:before {
        z-index: 2;
        width: 1px;
      }
      &:after {
        z-index: 1;
        content: '';

        .absolute(0, 50%, 0, 0);
      }
      & .fix-header-column {
        position: relative;
        display: table;
        width: 100%;
        padding: 1rem;
        text-align: center;
        &:not(:last-child) {
          .border(0, -1px, 0, auto, auto, .3);
          &:before {
            width: 1px;
          }
        }
        & span {
          display: table-cell;
          vertical-align: middle;
        }
      }
    }
    & .matrix-content {
      & .fix-column {
        position: relative;
        float: left;
        width: 50%;
        pointer-events: none;

        .border(0, 0, -1px, auto, auto, 1);
        &:before {
          width: 1px;
        }
        & li {
          position: relative;
          display: table;
          width: 100%;
          min-height: 3.5rem;
          padding: 1rem;
          &:not(:last-child) {
            .border(auto, 0, -1px, 0, 1px, .3);
          }
          & span {
            display: table-cell;
            vertical-align: middle;
          }
        }
      }
      & .column-container {
        position: static;
        & .column {
          position: relative;
          outline: none;
          &:not(:last-child) {
            .border(0, 0, -1px, auto, auto, .3);
            &:before {
              width: 1px;
            }
          }
          &:first-child {
            & .column-item {
              &:before {
                left: -50% !important;
              }
            }
          }
          &:last-child {
            & .column-item {
              &:before {
                right: -50% !important;
              }
            }
          }
          & .column-item {
            position: relative;
            &:not(:last-child) {
              .border(auto, 0, -1px, 0, 1px, .3);
            }
            & input {
              margin: auto;

              .absolute(0, 0, 0, 0);
              .input(1.5rem, 1.5rem);
            }
            & label {
              display: block;
              min-height: 3.5rem;
              cursor: pointer;
              text-align: center;
              height: 100%;
              & .effect-container {
                width: 1.5rem;
                height: 1.5rem;
                margin: auto;

                .absolute(0, 0, 0, 0);
                & .svg-wrapper {
                  & svg {
                    display: block;
                    width: 1.5rem;
                    height: 1.5rem;
                  }
                }
              }
            }
          }
        }
        & .swiper-pagination {
          bottom: -2.2rem;
        }
      }
    }
  }
}

.matrix-thumbnail {
  z-index: 4;
  & .matrix-thumbnail-wrapper {
    padding: 8px;
    & ul {
      width: 12px;
      float: left;
      opacity: .5;
      &.active {
        opacity: 1;
      }
      & li {
        float: left;
        padding: 4px;
        & span {
          display: block;
          width: 4px;
          height: 4px;
          border-radius: 50%;
          transition: background-color 200ms ease;
        }
      }
    }
  }
}

/*------------------- fix -------------------*/

.matrix-thumbnail-fix() {
  .matrix-thumbnail {
    display: table;
    width: 50%;
    text-align: center;
    .absolute(0, auto, auto, 0);
    & .matrix-thumbnail-wrapper {
      display: table-cell;
      text-align: center;
      vertical-align: middle;
      & > div {
        display: inline-block;
      }
    }
  }
  html.desktop {
    .matrix-thumbnail {
      width: 30%;
    }
  }
}

html.ie {
  .matrix-thumbnail-fix();
}

@supports not(display: flex) {
  .matrix-thumbnail-fix();
}

/*------------------- supports -------------------*/

.matrix-thumbnail-supports() {
  .matrix-thumbnail {
    display: flex;
    .absolute(0, 50%, auto, 0);
    justify-content: center;
    & .matrix-thumbnail-wrapper {
      align-self: center;
    }
  }
  html.desktop {
    .matrix-thumbnail {
      .absolute(0, 70%, auto, 0);
    }
  }
}

html.internet,
html.edge {
  .matrix-thumbnail-supports();
}

@supports (display: flex) {
  .matrix-thumbnail-supports();
}

/*------------------- responsive -------------------*/

html.desktop {
  & .ui-matrix {
    & .matrix-wrapper {
      transition: transform 200ms ease;
      will-change: transform;
      &:hover {
        & .matrix-content {
          & .matrix-button-prev,
          & .matrix-button-next {
            visibility: visible;
            opacity: 1;
          }
        }
      }
      &:before {
        position: absolute;
        content: "";
        .absolute(0, -3rem, 0, -3rem);
      }
      &.zoom {
        width: 90vw;
        margin-left: calc(50% + 1.5rem);
        transform: translateX(-50%);
      }
      & .fix-header {
        padding-left: 30%;
        .border(0, 70%, 0, auto, auto, 1);
        &:after {
          .absolute(0, 70%, 0, 0);
        }
      }
      & .matrix-resize {
        z-index: 5;
        cursor: pointer;
        .absolute(0, auto, auto, 100%);
        & svg {
          margin: 1rem;
          display: block;
        }
      }
      & .matrix-content {
        & .fix-column {
          width: 30%;
        }
        & .matrix-button-prev,
        & .matrix-button-next {
          visibility: hidden;
          opacity: 0;
          cursor: pointer;
          position: absolute;
          top: calc(50% - 3rem);
          transition: opacity 500ms ease;
          & svg {
            margin: 1rem;
            display: block;
          }
        }
        & .matrix-button-prev {
          left: -3rem;
        }
        & .matrix-button-next {
          right: -3rem;
        }
        & .swiper-button-disabled {
          opacity: .5;
        }
      }
    }
  }
}
