.ranking-rank.complete .ranking-number,
input:checked {
  & + label {
    & .rating-emoji,
    & svg:not(.fave-svg) {
      animation-name: shape;
      animation-duration: .85s;
      animation-timing-function: cubic-bezier(.5, 0, 0, .8);
      animation-delay: .1s;
      animation-iteration-count: 1;

      animation-fill-mode: forwards;
    }
    & .fave {
      display: block;
      animation: fave .65s steps(10);
      animation-delay: .05s;
      animation-iteration-count: 1;
      animation-fill-mode: forwards;
    }
  }
}

@keyframes shape {
  from,
  15% {
    transform: scale(0);
  }
  40% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(.9);
    animation-timing-function: cubic-bezier(.215, .6, .355, 1);
  }
  to {
    transform: scale(1);
    animation-timing-function: cubic-bezier(.755, .05, .855, .05);
  }
}

.select-container {
  position: relative;
  pointer-events: none;
  & .rating-emoji,
  & svg {
    will-change: transform;
  }
}

html.mobile.portrait {
  & .fave {
    width: 40px;
    height: 40px;
    background-size: 400px 40px;
  }
  .ranking-rank.complete .ranking-number,
  input:checked {
    & + label {
      & .fave {
        animation: fave-mobile .65s steps(10);
      }
    }
  }
}

.fave {
  .absolute(0, 0, 0, 0);
  margin: auto 0 auto 50%;
  transform: translateX(-50%);
  overflow: hidden;
  width: 60px;
  height: 60px;
  background-position: 0 0;
  background-image: url(/images/fave.png);
  background-repeat: no-repeat;
  background-color: fade(@contrast, 20%);
}

@keyframes fave {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: -600px 0;
  }
}

@keyframes fave-mobile {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: -400px 0;
  }
}
